{"code":"(this[\"webpackJsonprecipe-sharing-app\"]=this[\"webpackJsonprecipe-sharing-app\"]||[]).push([[0],{48:function(e,t,s){},49:function(e,t,s){},50:function(e,t,s){\"use strict\";s.r(t);var c=s(0),a=s.n(c),r=s(20),n=s(3),i=s(8),l=s(9),o=s(21);const j=s.n(o).a.create({baseURL:\"http://localhost:5000/api\",headers:{\"Content-Type\":\"application/json\"}});j.interceptors.request.use((e=>{const t=localStorage.getItem(\"auth_token\");return t&&(e.headers.Authorization=\"Bearer \".concat(t)),e}),(e=>Promise.reject(e))),j.interceptors.response.use((e=>e),(async e=>{if(e.response&&401===e.response.status){console.error(\"Authentication error:\",e.response.data),localStorage.setItem(\"redirectAfterLogin\",window.location.pathname);const t=e.response.data.message;(t.includes(\"h\\u1ebft h\\u1ea1n\")||t.includes(\"kh\\xf4ng h\\u1ee3p l\\u1ec7\"))&&(alert(\"Phi\\xean \\u0111\\u0103ng nh\\u1eadp \\u0111\\xe3 h\\u1ebft h\\u1ea1n. Vui l\\xf2ng \\u0111\\u0103ng nh\\u1eadp l\\u1ea1i.\"),localStorage.removeItem(\"auth_token\"),localStorage.removeItem(\"user\"),window.location.href=\"/login\")}return Promise.reject(e)}));var d=j;const h={login:async(e,t)=>{try{const s=await d.post(\"/auth/login\",{email:e,password:t});return s.data.token&&(localStorage.setItem(\"auth_token\",s.data.token),localStorage.setItem(\"user\",JSON.stringify(s.data.user))),s.data}catch(s){throw console.error(\"Login error:\",s),s.response?s.response.data:s}},register:async e=>{try{return(await d.post(\"/auth/register\",e)).data}catch(t){throw t.response?t.response.data:t}},googleLogin:async e=>{try{console.log(\"Attempting to log in with token:\",e?\"Token exists\":\"No token\");const t=await d.post(\"/auth/google\",{tokenId:e});return console.log(\"Login response:\",t.data),t.data.token&&(localStorage.setItem(\"auth_token\",t.data.token),localStorage.setItem(\"user\",JSON.stringify(t.data.user))),t.data}catch(t){throw console.error(\"Google login error:\",t),t.response?t.response.data:t}},getCurrentUser:async()=>{try{return(await d.get(\"/auth/me\")).data}catch(e){throw e.response?e.response.data:e}},logout:()=>{localStorage.removeItem(\"auth_token\"),localStorage.removeItem(\"user\")},isAuthenticated:()=>!!localStorage.getItem(\"auth_token\"),getUser:()=>JSON.parse(localStorage.getItem(\"user\")),isAdmin:()=>{const e=h.getUser();return e&&\"admin\"===e.role}};var b=h,p=s(22),O=s(1);const x=Object(c.createContext)({currentUser:null,loading:!0,error:null,isAuthenticated:!1,login:(e,t)=>{},loginWithGoogle:e=>Promise.resolve(),logout:()=>{}}),m=e=>{let{children:t}=e;const[s,a]=Object(c.useState)(null),[r,n]=Object(c.useState)(!0),[i,l]=Object(c.useState)(null),[o,j]=Object(c.useState)(!1);Object(c.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem(\"user\"),s=localStorage.getItem(\"auth_token\");if(s&&t){if(1e3*Object(p.a)(s).exp<Date.now())b.logout(),a(null),j(!1);else{a(JSON.parse(t)),j(!0);try{const e=await b.getCurrentUser();a(e.data)}catch(e){console.log(\"Could not fetch updated user info\")}}}}catch(e){console.error(\"Auth check error:\",e),b.logout(),a(null),j(!1)}finally{n(!1)}})()}),[]);const d={currentUser:s,loading:r,error:i,isAuthenticated:o,login:(e,t)=>{a(e),j(!0)},loginWithGoogle:async e=>{try{l(null),n(!0);const t=await b.googleLogin(e);return a(t.user),j(!0),t}catch(t){throw l(t.message||\"Login failed\"),t}finally{n(!1)}},logout:()=>{b.logout(),a(null),j(!1)}};return Object(O.jsx)(x.Provider,{value:d,children:t})};s(48),s(5),s(49);const u=()=>{const e=Object(n.q)(),[t,s]=Object(c.useState)(\"\"),{currentUser:a,logout:r}=Object(c.useContext)(x);return Object(O.jsxs)(\"div\",{className:\"page home-page\",children:[Object(O.jsx)(\"h1\",{children:\"Personal Profile\"}),Object(O.jsxs)(\"div\",{className:\"search-bar\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\",value:t,onChange:e=>s(e.target.value)}),Object(O.jsx)(\"button\",{onClick:()=>{t.trim()&&e(\"/search?q=\".concat(t))},children:\"Search\"})]}),Object(O.jsx)(\"div\",{className:\"profile-section\",children:Object(O.jsxs)(\"div\",{className:\"profile-header\",children:[Object(O.jsx)(\"div\",{className:\"profile-avatar\",children:null!==a&&void 0!==a&&a.picture?Object(O.jsx)(\"img\",{src:a.picture,alt:\"Profile\",className:\"avatar-img\"}):Object(O.jsx)(\"div\",{className:\"placeholder-avatar\",children:\"Avatar\"})}),Object(O.jsxs)(\"div\",{className:\"profile-info\",children:[Object(O.jsx)(\"h2\",{children:(null===a||void 0===a?void 0:a.name)||\"User Name\"}),Object(O.jsx)(\"p\",{className:\"user-email\",children:(null===a||void 0===a?void 0:a.email)||\"email@example.com\"}),Object(O.jsx)(\"button\",{className:\"logout-btn\",onClick:()=>{r(),e(\"/login\")},children:\"Logout\"})]})]})}),Object(O.jsxs)(\"div\",{className:\"profile-stats\",children:[Object(O.jsx)(\"div\",{className:\"stat\",children:\"Followers: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Following: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),Object(O.jsx)(\"div\",{className:\"action-buttons\",children:Object(O.jsx)(\"button\",{className:\"create-post-btn\",onClick:()=>{e(\"/create\")},children:\"Create New Recipe\"})}),Object(O.jsxs)(\"div\",{className:\"posts-container\",children:[Object(O.jsx)(\"h2\",{children:\"Your Recipes\"}),Object(O.jsx)(\"p\",{children:\"No recipes yet. Create your first recipe!\"})]})]})},g=()=>Object(O.jsxs)(\"div\",{className:\"page search-results-page\",children:[Object(O.jsx)(\"h1\",{children:\"Search Results\"}),Object(O.jsxs)(\"div\",{className:\"search-bar\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\"}),Object(O.jsx)(\"button\",{children:\"Search\"})]}),Object(O.jsxs)(\"div\",{className:\"filters\",children:[Object(O.jsx)(\"button\",{children:\"Recipes\"}),Object(O.jsx)(\"button\",{children:\"Users\"}),Object(O.jsx)(\"button\",{children:\"Ingredients\"}),Object(O.jsx)(\"button\",{children:\"Cooking Methods\"})]}),Object(O.jsx)(\"div\",{className:\"results-container\",children:Object(O.jsx)(\"p\",{children:\"No results found.\"})})]}),v=()=>Object(O.jsxs)(\"div\",{className:\"page create-post-page\",children:[Object(O.jsx)(\"h1\",{children:\"Create New Recipe\"}),Object(O.jsxs)(\"form\",{className:\"recipe-form\",children:[Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Recipe Name*\"}),Object(O.jsx)(\"input\",{type:\"text\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Upload Image\"}),Object(O.jsx)(\"input\",{type:\"file\",accept:\"image/*\"})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Ingredients*\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Enter ingredients with measurements\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Cooking Time*\"}),Object(O.jsx)(\"input\",{type:\"number\",min:\"1\",placeholder:\"Minutes\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Cooking Steps*\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Describe the steps to prepare this recipe\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Your Thoughts\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Share your thoughts about this recipe\"})]}),Object(O.jsxs)(\"div\",{className:\"form-actions\",children:[Object(O.jsx)(\"button\",{type:\"button\",children:\"Save as Draft\"}),Object(O.jsx)(\"button\",{type:\"submit\",children:\"Publish\"})]})]})]}),N=()=>{Object(n.q)();const{id:e}=Object(n.s)();return Object(O.jsxs)(\"div\",{className:\"page recipe-detail-page\",children:[Object(O.jsx)(\"h1\",{children:\"Recipe Details\"}),Object(O.jsxs)(\"div\",{className:\"recipe-header\",children:[Object(O.jsx)(\"h2\",{children:\"Recipe Name\"}),Object(O.jsxs)(\"div\",{className:\"recipe-meta\",children:[Object(O.jsx)(\"span\",{children:\"By: User\"}),Object(O.jsx)(\"span\",{children:\"Cooking Time: 0 mins\"})]})]}),Object(O.jsx)(\"div\",{className:\"recipe-image\",children:Object(O.jsx)(\"div\",{className:\"placeholder-image\",children:\"Recipe Image\"})}),Object(O.jsxs)(\"div\",{className:\"recipe-ingredients\",children:[Object(O.jsx)(\"h3\",{children:\"Ingredients\"}),Object(O.jsx)(\"p\",{children:\"No ingredients listed.\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-steps\",children:[Object(O.jsx)(\"h3\",{children:\"Instructions\"}),Object(O.jsx)(\"p\",{children:\"No instructions provided.\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-actions\",children:[Object(O.jsx)(\"button\",{children:\"Like\"}),Object(O.jsx)(\"button\",{children:\"Save\"}),Object(O.jsx)(\"button\",{children:\"Share\"}),Object(O.jsx)(\"button\",{children:\"Export as PDF\"}),Object(O.jsx)(\"button\",{className:\"chatbot-btn\",children:\"Ask Chatbot\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-comments\",children:[Object(O.jsx)(\"h3\",{children:\"Comments\"}),Object(O.jsxs)(\"div\",{className:\"comment-form\",children:[Object(O.jsx)(\"textarea\",{placeholder:\"Add a comment...\"}),Object(O.jsx)(\"button\",{children:\"Post\"})]}),Object(O.jsx)(\"div\",{className:\"comments-list\",children:Object(O.jsx)(\"p\",{children:\"No comments yet.\"})})]})]})},f=()=>Object(O.jsxs)(\"div\",{className:\"page chatbot-page\",children:[Object(O.jsx)(\"h1\",{children:\"Recipe Assistant Chatbot\"}),Object(O.jsxs)(\"div\",{className:\"chat-container\",children:[Object(O.jsx)(\"div\",{className:\"chat-messages\",children:Object(O.jsx)(\"div\",{className:\"message bot\",children:\"Hello! I'm your recipe assistant. Ask me anything about this recipe!\"})}),Object(O.jsxs)(\"div\",{className:\"chat-input\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Type your question...\"}),Object(O.jsx)(\"button\",{children:\"Send\"})]})]})]}),y=()=>Object(O.jsxs)(\"div\",{className:\"page user-profile-page\",children:[Object(O.jsx)(\"h1\",{children:\"User Profile\"}),Object(O.jsxs)(\"div\",{className:\"profile-header\",children:[Object(O.jsx)(\"div\",{className:\"profile-avatar\",children:Object(O.jsx)(\"div\",{className:\"placeholder-avatar\",children:\"User Avatar\"})}),Object(O.jsxs)(\"div\",{className:\"profile-info\",children:[Object(O.jsx)(\"h2\",{children:\"User Name\"}),Object(O.jsxs)(\"div\",{className:\"profile-stats\",children:[Object(O.jsx)(\"div\",{className:\"stat\",children:\"Followers: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Following: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),Object(O.jsx)(\"button\",{className:\"follow-btn\",children:\"Follow\"})]})]}),Object(O.jsxs)(\"div\",{className:\"user-recipes\",children:[Object(O.jsx)(\"h3\",{children:\"Recipes\"}),Object(O.jsx)(\"div\",{className:\"recipes-grid\",children:Object(O.jsx)(\"p\",{children:\"No recipes published yet.\"})})]})]}),S=()=>Object(O.jsxs)(\"div\",{className:\"page admin-page\",children:[Object(O.jsx)(\"h1\",{children:\"Admin Dashboard\"}),Object(O.jsxs)(\"div\",{className:\"admin-sections\",children:[Object(O.jsxs)(\"div\",{className:\"reports-section\",children:[Object(O.jsx)(\"h2\",{children:\"User Reports\"}),Object(O.jsx)(\"p\",{children:\"No pending reports.\"})]}),Object(O.jsxs)(\"div\",{className:\"content-moderation\",children:[Object(O.jsx)(\"h2\",{children:\"Content Moderation\"}),Object(O.jsx)(\"p\",{children:\"No content waiting for review.\"})]}),Object(O.jsxs)(\"div\",{className:\"user-management\",children:[Object(O.jsx)(\"h2\",{children:\"User Management\"}),Object(O.jsxs)(\"div\",{className:\"user-search\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search users...\"}),Object(O.jsx)(\"button\",{children:\"Search\"})]}),Object(O.jsx)(\"p\",{children:\"No users found.\"})]})]})]}),k=e=>{let{setIsLoggedIn:t}=e;const s=Object(n.q)(),[a,r]=Object(c.useState)(\"\"),{loginWithGoogle:i}=Object(c.useContext)(x);return Object(O.jsxs)(\"div\",{className:\"page login-page\",children:[Object(O.jsx)(\"h1\",{children:\"Login Page\"}),a&&Object(O.jsx)(\"p\",{className:\"error-message\",children:a}),Object(O.jsx)(\"div\",{className:\"login-container\",children:Object(O.jsx)(l.a,{onSuccess:async e=>{try{await i(e.credential),t(!0),s(\"/\")}catch(c){r(\"Authentication failed. Please try again.\"),console.error(c)}},onError:()=>{r(\"Google Sign-In failed. Please try again.\")},useOneTap:!0,theme:\"filled_blue\",text:\"signin_with\",shape:\"pill\"})})]})};var w=function(){const[e,t]=Object(c.useState)(!1),[s,a]=Object(c.useState)(!0);return Object(c.useEffect)((()=>{const e=localStorage.getItem(\"auth_token\");t(!!e)}),[]),Object(O.jsx)(l.b,{clientId:\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\",children:Object(O.jsx)(m,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(\"div\",{className:\"App\",children:Object(O.jsxs)(n.d,{children:[Object(O.jsx)(n.b,{path:\"/login\",element:Object(O.jsx)(k,{setIsLoggedIn:t})}),Object(O.jsx)(n.b,{path:\"/\",element:e?Object(O.jsx)(u,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/search\",element:e?Object(O.jsx)(g,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/create-recipe\",element:e?Object(O.jsx)(v,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/create\",element:Object(O.jsx)(n.a,{to:\"/create-recipe\"})}),Object(O.jsx)(n.b,{path:\"/recipe/:id\",element:e?Object(O.jsx)(N,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/chatbot/:recipeId\",element:e?Object(O.jsx)(f,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/profile/:id\",element:e?Object(O.jsx)(y,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/admin\",element:e&&s?Object(O.jsx)(S,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"*\",element:Object(O.jsx)(n.a,{to:\"/\"})})]})})})})})};try{const e=document.getElementById(\"root\");Object(r.createRoot)(e).render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(w,{})}))}catch(I){console.error(\"React rendering error:\",I),document.getElementById(\"root\").innerHTML='\\n    <div style=\"color: red; margin: 20px;\">\\n      <h2>Error initializing app</h2>\\n      <p>'.concat(I.message,\"</p>\\n      <p>Please check the console for more details.</p>\\n    </div>\\n  \")}}},[[50,1,2]]]);","name":"static/js/main.fa9aff3b.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","client","dist","react_router_dom_dist","index_esm","axios","api","a","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","error","Promise","reject","response","async","status","console","data","setItem","window","location","pathname","errorMessage","message","includes","alert","removeItem","href","services_api","authService","login","email","password","post","JSON","stringify","user","register","userData","googleLogin","log","tokenId","getCurrentUser","get","logout","isAuthenticated","getUser","parse","isAdmin","role","services_authService","esm","jsx_runtime","AuthContext","Object","currentUser","loading","loginWithGoogle","credential","resolve","AuthProvider","_ref","children","setCurrentUser","setLoading","setError","setIsAuthenticated","storedUser","exp","Date","now","err","checkAuthStatus","value","result","Provider","HomePage","navigate","searchQuery","setSearchQuery","className","type","placeholder","onChange","e","target","onClick","trim","picture","src","alt","name","SearchResultsPage","CreatePostPage","required","accept","min","RecipeDetailPage","id","ChatbotPage","UserProfilePage","AdminPage","LoginPageWrapper","setIsLoggedIn","onSuccess","credentialResponse","onError","useOneTap","theme","text","shape","src_App","isLoggedIn","setIsAdmin","clientId","path","element","to","rootElement","document","getElementById","render","StrictMode","innerHTML"],"sources":["static/js/main.fa9aff3b.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonprecipe-sharing-app\"] = this[\"webpackJsonprecipe-sharing-app\"] || []).push([[0],{\n\n/***/ 48:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(20);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar dist = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar react_router_dom_dist = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/@react-oauth/google/dist/index.esm.js + 2 modules\nvar index_esm = __webpack_require__(9);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(21);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/api.js\nconst API_BASE_URL=\"http://localhost:5000/api\"||false;// Tạo instance axios với cấu hình mặc định\nconst api=axios_default.a.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Thêm interceptors để xử lý token authentication\napi.interceptors.request.use(config=>{const token=localStorage.getItem('auth_token');if(token){config.headers['Authorization']=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Xử lý response và error global\napi.interceptors.response.use(response=>{return response;},async error=>{// Nếu lỗi là 401 (Unauthorized), thử lại với token mới\nif(error.response&&error.response.status===401){// Thông báo chi tiết hơn cho người dùng\nconsole.error(\"Authentication error:\",error.response.data);// Lưu URL hiện tại trước khi chuyển hướng\nlocalStorage.setItem('redirectAfterLogin',window.location.pathname);// Kiểm tra có phải là lỗi token hết hạn không\nconst errorMessage=error.response.data.message;if(errorMessage.includes('hết hạn')||errorMessage.includes('không hợp lệ')){alert('Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.');// Xóa token cũ\nlocalStorage.removeItem('auth_token');localStorage.removeItem('user');// Điều hướng đến trang đăng nhập\nwindow.location.href='/login';}}return Promise.reject(error);});// Example API calls\nconst fetchRecipes=async()=>{const response=await api.get('/recipes');return response.data;};const fetchRecipeById=async id=>{const response=await api.get(\"/recipes/\".concat(id));return response.data;};const createRecipe=async recipeData=>{const response=await api.post('/recipes',recipeData);return response.data;};const updateRecipe=async(id,recipeData)=>{const response=await api.put(\"/recipes/\".concat(id),recipeData);return response.data;};const deleteRecipe=async id=>{const response=await api.delete(\"/recipes/\".concat(id));return response.data;};/* harmony default export */ var services_api = (api);\n// CONCATENATED MODULE: ./src/services/authService.js\nconst authService={// Đăng nhập truyền thống\nlogin:async(email,password)=>{try{const response=await services_api.post('/auth/login',{email,password});// Lưu thông tin đăng nhập vào localStorage\nif(response.data.token){localStorage.setItem('auth_token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data.user));}return response.data;}catch(error){console.error(\"Login error:\",error);throw error.response?error.response.data:error;}},// Đăng ký tài khoản\nregister:async userData=>{try{const response=await services_api.post('/auth/register',userData);return response.data;}catch(error){throw error.response?error.response.data:error;}},// Đăng nhập bằng Google (giữ lại nếu vẫn muốn dùng)\ngoogleLogin:async tokenId=>{try{console.log(\"Attempting to log in with token:\",tokenId?\"Token exists\":\"No token\");const response=await services_api.post('/auth/google',{tokenId});console.log(\"Login response:\",response.data);// Lưu thông tin đăng nhập vào localStorage\nif(response.data.token){localStorage.setItem('auth_token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data.user));}return response.data;}catch(error){console.error(\"Google login error:\",error);throw error.response?error.response.data:error;}},// Lấy thông tin người dùng hiện tại\ngetCurrentUser:async()=>{try{const response=await services_api.get('/auth/me');return response.data;}catch(error){throw error.response?error.response.data:error;}},// Đăng xuất\nlogout:()=>{localStorage.removeItem('auth_token');localStorage.removeItem('user');},// Kiểm tra nếu đã đăng nhập\nisAuthenticated:()=>{return!!localStorage.getItem('auth_token');},// Lấy thông tin người dùng từ localStorage\ngetUser:()=>{return JSON.parse(localStorage.getItem('user'));},// Kiểm tra nếu là admin\nisAdmin:()=>{const user=authService.getUser();return user&&user.role==='admin';}};/* harmony default export */ var services_authService = (authService);\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/esm/index.js\nvar esm = __webpack_require__(22);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.jsx\nconst AuthContext=/*#__PURE__*/Object(react[\"createContext\"])({currentUser:null,loading:true,error:null,isAuthenticated:false,login:(user,token)=>{},loginWithGoogle:credential=>Promise.resolve(),logout:()=>{}});const AuthProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])(null);const[isAuthenticated,setIsAuthenticated]=Object(react[\"useState\"])(false);// Kiểm tra trạng thái đăng nhập khi component mount\nObject(react[\"useEffect\"])(()=>{const checkAuthStatus=async()=>{try{const storedUser=localStorage.getItem('user');const token=localStorage.getItem('auth_token');if(token&&storedUser){// Kiểm tra token hết hạn\nconst decodedToken=Object(esm[\"a\" /* jwtDecode */])(token);if(decodedToken.exp*1000<Date.now()){// Token hết hạn\nservices_authService.logout();setCurrentUser(null);setIsAuthenticated(false);}else{// Token còn hạn\nsetCurrentUser(JSON.parse(storedUser));setIsAuthenticated(true);// Cập nhật thông tin người dùng từ server\ntry{const userData=await services_authService.getCurrentUser();setCurrentUser(userData.data);}catch(err){console.log(\"Could not fetch updated user info\");}}}}catch(err){console.error(\"Auth check error:\",err);services_authService.logout();setCurrentUser(null);setIsAuthenticated(false);}finally{setLoading(false);}};checkAuthStatus();},[]);// Đăng nhập truyền thống\nconst login=(user,token)=>{setCurrentUser(user);setIsAuthenticated(true);};// Đăng nhập với Google (giữ lại nếu vẫn muốn dùng)\nconst loginWithGoogle=async tokenId=>{try{setError(null);setLoading(true);const result=await services_authService.googleLogin(tokenId);setCurrentUser(result.user);setIsAuthenticated(true);return result;}catch(err){setError(err.message||\"Login failed\");throw err;}finally{setLoading(false);}};// Đăng xuất\nconst logout=()=>{services_authService.logout();setCurrentUser(null);setIsAuthenticated(false);};// Context value\nconst value={currentUser,loading,error,isAuthenticated,login,loginWithGoogle,logout};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:value,children:children});};\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(48);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/objectSpread2.js + 4 modules\nvar objectSpread2 = __webpack_require__(5);\n\n// EXTERNAL MODULE: ./src/pages/CreateRecipePage.css\nvar CreateRecipePage = __webpack_require__(49);\n\n// CONCATENATED MODULE: ./src/pages/CreateRecipePage.jsx\n// Đảm bảo có CSS tương ứng\nconst CreateRecipePage_CreateRecipePage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const[title,setTitle]=Object(react[\"useState\"])('');const[image,setImage]=Object(react[\"useState\"])(null);const[cookingTime,setCookingTime]=Object(react[\"useState\"])('');const[thoughts,setThoughts]=Object(react[\"useState\"])('');const[ingredients,setIngredients]=Object(react[\"useState\"])([{name:'',quantity:'',unit:''}]);const[steps,setSteps]=Object(react[\"useState\"])([{description:''}]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])(null);const[success,setSuccess]=Object(react[\"useState\"])(false);Object(react[\"useEffect\"])(()=>{// Nếu có dữ liệu đã lưu, khôi phục\nconst savedForm=localStorage.getItem('recipeFormData');if(savedForm){try{const formData=JSON.parse(savedForm);setTitle(formData.title||'');setCookingTime(formData.cookingTime||'');setThoughts(formData.thoughts||'');setIngredients(formData.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(formData.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('recipeFormData');alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");}catch(e){console.error(\"Error restoring form:\",e);}}},[]);Object(react[\"useEffect\"])(()=>{// Kiểm tra xem có dữ liệu đã lưu không\nconst savedData=localStorage.getItem('pendingRecipeData');if(savedData){try{const data=JSON.parse(savedData);setTitle(data.title||'');setCookingTime(data.cookingTime||'');setThoughts(data.thoughts||'');setIngredients(data.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(data.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('pendingRecipeData');alert('Đã khôi phục công thức bạn đang soạn trước đó!');}catch(e){console.error('Error restoring recipe data:',e);}}},[]);// Tự động lưu form data mỗi 30 giây\nObject(react[\"useEffect\"])(()=>{const autoSaveInterval=setInterval(()=>{if(title||cookingTime||ingredients.length>1||steps.length>1){const formData={title,cookingTime,thoughts,ingredients,steps:steps.map(step=>({description:step.description}))};localStorage.setItem('pendingRecipeData',JSON.stringify(formData));console.log('Form data auto-saved');}},30000);return()=>clearInterval(autoSaveInterval);},[title,cookingTime,thoughts,ingredients,steps]);// Xử lý thêm nguyên liệu\nconst handleAddIngredient=()=>{setIngredients([...ingredients,{name:'',quantity:'',unit:''}]);};// Xử lý thêm bước\nconst handleAddStep=()=>{setSteps([...steps,{description:''}]);};// Xử lý thay đổi nguyên liệu\nconst handleIngredientChange=(index,field,value)=>{const newIngredients=[...ingredients];newIngredients[index][field]=value;setIngredients(newIngredients);};// Xử lý thay đổi bước\nconst handleStepChange=(index,value)=>{const newSteps=[...steps];newSteps[index].description=value;setSteps(newSteps);};// Xử lý thay đổi hình ảnh\nconst handleImageChange=e=>{const file=e.target.files[0];setImage(file);};// Xử lý nút \"Đăng công thức\" không cần login\nconst handlePublishRecipe=async e=>{e.preventDefault();// Kiểm tra các trường\nif(!title){setError('Vui lòng nhập tên món ăn');return;}if(!cookingTime){setError('Vui lòng nhập thời gian nấu');return;}if(ingredients.length===0||!ingredients[0].name){setError('Vui lòng thêm ít nhất một nguyên liệu');return;}if(steps.length===0||!steps[0].description){setError('Vui lòng thêm ít nhất một bước nấu');return;}try{setLoading(true);setError(null);// Không cần token Google, chỉ cần token JWT thông thường\nconst token=localStorage.getItem('auth_token');const headers=token?{'Authorization':\"Bearer \".concat(token)}:{};const recipeData={title,cookingTime,thoughts,ingredients,steps};// Gọi API bình thường\nconst response=await fetch('http://localhost:5000/api/recipes',{method:'POST',headers:Object(objectSpread2[\"a\" /* default */])({'Content-Type':'application/json'},headers),body:JSON.stringify(recipeData)});const result=await response.json();if(response.ok){// Thành công\nsetSuccess(true);localStorage.removeItem('recipeFormData');setTimeout(()=>{navigate('/');},2000);}else{throw new Error(result.message||'Lỗi khi lưu công thức');}}catch(error){setError(\"L\\u1ED7i: \".concat(error.message));}finally{setLoading(false);}};// Kiểm tra kết nối API\nconst testApiConnection=async()=>{try{const response=await fetch('http://localhost:5000/api/test/ping');const data=await response.json();if(data.message==='pong'){alert('Kết nối với API thành công!');}else{alert('Kết nối API không đúng định dạng.');}}catch(error){alert(\"Kh\\xF4ng k\\u1EBFt n\\u1ED1i \\u0111\\u01B0\\u1EE3c t\\u1EDBi API: \".concat(error.message));}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-recipe-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"info-message\",children:\"B\\u1EA1n \\u0111ang s\\u1EED d\\u1EE5ng ch\\u1EBF \\u0111\\u1ED9 t\\u1EA1o c\\xF4ng th\\u1EE9c kh\\xF4ng c\\u1EA7n \\u0111\\u0103ng nh\\u1EADp (Test Mode).\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"error-message\",children:error}),success&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"success-message\",children:\"C\\xF4ng th\\u1EE9c \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c \\u0111\\u0103ng th\\xE0nh c\\xF4ng!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"recipe-form\",onSubmit:handlePublishRecipe,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"title\",children:\"T\\xEAn m\\xF3n \\u0103n *\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"title\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Nh\\u1EADp t\\xEAn m\\xF3n \\u0103n\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"image\",children:\"H\\xECnh \\u1EA3nh m\\xF3n \\u0103n\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",id:\"image\",accept:\"image/*\",onChange:handleImageChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"cookingTime\",children:\"Th\\u1EDDi gian n\\u1EA5u (ph\\xFAt) *\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",id:\"cookingTime\",value:cookingTime,onChange:e=>setCookingTime(e.target.value),min:\"1\",placeholder:\"Nh\\u1EADp th\\u1EDDi gian n\\u1EA5u\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Nguy\\xEAn li\\u1EC7u *\"}),ingredients.map((ingredient,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ingredient-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"T\\xEAn nguy\\xEAn li\\u1EC7u\",value:ingredient.name,onChange:e=>handleIngredientChange(index,'name',e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"S\\u1ED1 l\\u01B0\\u1EE3ng\",value:ingredient.quantity,onChange:e=>handleIngredientChange(index,'quantity',e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"\\u0110\\u01A1n v\\u1ECB (g, ml...)\",value:ingredient.unit,onChange:e=>handleIngredientChange(index,'unit',e.target.value)})]},index)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"Th\\xEAm nguy\\xEAn li\\u1EC7u\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"C\\xE1c b\\u01B0\\u1EDBc *\"}),steps.map((step,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"step-row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"B\\u01B0\\u1EDBc \".concat(index+1),value:step.description||'',onChange:e=>handleStepChange(index,e.target.value),required:true})},index)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleAddStep,children:\"Th\\xEAm b\\u01B0\\u1EDBc\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"thoughts\",children:\"Suy ngh\\u0129 v\\xE0 c\\u1EA3m nh\\u1EADn v\\u1EC1 m\\xF3n \\u0103n\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{id:\"thoughts\",value:thoughts||'',onChange:e=>setThoughts(e.target.value),placeholder:\"Chia s\\u1EBB c\\xE2u chuy\\u1EC7n, c\\u1EA3m nh\\u1EADn c\\u1EE7a b\\u1EA1n v\\u1EC1 m\\xF3n \\u0103n n\\xE0y...\",rows:4})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"primary-button\",disabled:loading,children:loading?'Đang xử lý...':'Đăng công thức'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"secondary-button\",onClick:testApiConnection,children:\"Ki\\u1EC3m tra k\\u1EBFt n\\u1ED1i API\"})]})]})]});};/* harmony default export */ var pages_CreateRecipePage = (CreateRecipePage_CreateRecipePage);\n// CONCATENATED MODULE: ./src/App.js\n// Placeholder components for each page\nconst LoginPage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const handleGoogleLogin=()=>{// In a real app, this would trigger Google OAuth\n// For now, we'll just simulate a successful login and redirect\nconsole.log(\"Google login clicked\");navigate('/');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"google-login-btn\",onClick:handleGoogleLogin,children:\"Login with Google\"})})]});};// Fix the HomePage component\nconst HomePage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const[searchQuery,setSearchQuery]=Object(react[\"useState\"])(\"\");const{currentUser,logout}=Object(react[\"useContext\"])(AuthContext);const handleCreateRecipe=()=>{navigate('/create');};const handleSearch=()=>{if(searchQuery.trim()){navigate(\"/search?q=\".concat(searchQuery));}};const handleLogout=()=>{logout();navigate('/login');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page home-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Personal Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-section\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar\",children:currentUser!==null&&currentUser!==void 0&&currentUser.picture?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:currentUser.picture,alt:\"Profile\",className:\"avatar-img\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-avatar\",children:\"Avatar\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:(currentUser===null||currentUser===void 0?void 0:currentUser.name)||\"User Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"user-email\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.email)||\"email@example.com\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-stats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Followers: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Following: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"create-post-btn\",onClick:handleCreateRecipe,children:\"Create New Recipe\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"posts-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Your Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No recipes yet. Create your first recipe!\"})]})]});};const SearchResultsPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page search-results-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search Results\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Users\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Ingredients\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Cooking Methods\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"results-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No results found.\"})})]});const CreatePostPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page create-post-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Create New Recipe\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"recipe-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Recipe Name*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Upload Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",accept:\"image/*\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Ingredients*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Enter ingredients with measurements\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Cooking Time*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",min:\"1\",placeholder:\"Minutes\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Cooking Steps*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Describe the steps to prepare this recipe\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Your Thoughts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Share your thoughts about this recipe\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",children:\"Save as Draft\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Publish\"})]})]})]});const RecipeDetailPage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const{id}=Object(dist[\"s\" /* useParams */])();const handleChatbotClick=()=>{navigate(\"/chatbot/\".concat(id));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page recipe-detail-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Recipe Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Recipe Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-meta\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"By: User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Cooking Time: 0 mins\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"recipe-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-image\",children:\"Recipe Image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-ingredients\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Ingredients\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No ingredients listed.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-steps\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Instructions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No instructions provided.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Like\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Share\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Export as PDF\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chatbot-btn\",children:\"Ask Chatbot\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-comments\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Comments\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"comment-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Add a comment...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Post\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"comments-list\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No comments yet.\"})})]})]});};const ChatbotPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page chatbot-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Recipe Assistant Chatbot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messages\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message bot\",children:\"Hello! I'm your recipe assistant. Ask me anything about this recipe!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Type your question...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Send\"})]})]})]});const UserProfilePage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page user-profile-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-avatar\",children:\"User Avatar\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-stats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Followers: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Following: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"follow-btn\",children:\"Follow\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-recipes\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"recipes-grid\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No recipes published yet.\"})})]})]});const AdminPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page admin-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"admin-sections\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"reports-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Reports\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No pending reports.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content-moderation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Content Moderation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No content waiting for review.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-management\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Management\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search users...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No users found.\"})]})]})]});const LoginPageWrapper=_ref=>{let{setIsLoggedIn}=_ref;const navigate=Object(dist[\"q\" /* useNavigate */])();const[error,setError]=Object(react[\"useState\"])('');const{loginWithGoogle}=Object(react[\"useContext\"])(AuthContext);const handleGoogleSuccess=async credentialResponse=>{try{// Process the Google response through your AuthContext\nawait loginWithGoogle(credentialResponse.credential);setIsLoggedIn(true);navigate('/');}catch(err){setError('Authentication failed. Please try again.');console.error(err);}};const handleGoogleError=()=>{setError('Google Sign-In failed. Please try again.');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login Page\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* GoogleLogin */],{onSuccess:handleGoogleSuccess,onError:handleGoogleError,useOneTap:true,theme:\"filled_blue\",text:\"signin_with\",shape:\"pill\"})})]});};function App_App(){const[isLoggedIn,setIsLoggedIn]=Object(react[\"useState\"])(false);const[isAdmin,setIsAdmin]=Object(react[\"useState\"])(true);// Check authentication status on mount and when currentUser changes\nObject(react[\"useEffect\"])(()=>{// Check if there's a token in localStorage\nconst token=localStorage.getItem('auth_token');if(token){setIsLoggedIn(true);}else{setIsLoggedIn(false);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"b\" /* GoogleOAuthProvider */],{clientId:\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom_dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginPageWrapper,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HomePage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/search\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchResultsPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/create-recipe\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreatePostPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/create\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/create-recipe\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/recipe/:id\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecipeDetailPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/chatbot/:recipeId\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatbotPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/profile/:id\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfilePage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/admin\",element:isLoggedIn&&isAdmin?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AdminPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/\"})})]})})})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n// Kiểm tra lỗi\ntry{const rootElement=document.getElementById(\"root\");const root=Object(client[\"createRoot\"])(rootElement);root.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}));}catch(error){console.error(\"React rendering error:\",error);// Hiển thị thông báo lỗi trên giao diện\ndocument.getElementById(\"root\").innerHTML=\"\\n    <div style=\\\"color: red; margin: 20px;\\\">\\n      <h2>Error initializing app</h2>\\n      <p>\".concat(error.message,\"</p>\\n      <p>Please check the console for more details.</p>\\n    </div>\\n  \");}\n\n/***/ })\n\n},[[50,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\src\\App.css","C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\src\\pages\\CreateRecipePage.css","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/api.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/authService.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/context/AuthContext.jsx","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/pages/CreateRecipePage.jsx","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/App.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/index.js"],"names":["API_BASE_URL","process","api","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","error","Promise","reject","response","status","console","data","setItem","window","location","pathname","errorMessage","message","includes","alert","removeItem","href","fetchRecipes","get","fetchRecipeById","id","createRecipe","recipeData","post","updateRecipe","put","deleteRecipe","delete","authService","login","email","password","JSON","stringify","user","register","userData","googleLogin","tokenId","log","getCurrentUser","logout","isAuthenticated","getUser","parse","isAdmin","role","AuthContext","createContext","currentUser","loading","loginWithGoogle","credential","resolve","AuthProvider","_ref","children","setCurrentUser","useState","setLoading","setError","setIsAuthenticated","useEffect","checkAuthStatus","storedUser","decodedToken","jwtDecode","exp","Date","now","err","result","value","_jsx","Provider","CreateRecipePage","navigate","useNavigate","title","setTitle","image","setImage","cookingTime","setCookingTime","thoughts","setThoughts","ingredients","setIngredients","name","quantity","unit","steps","setSteps","description","success","setSuccess","savedForm","formData","e","savedData","autoSaveInterval","setInterval","length","map","step","clearInterval","handleAddIngredient","handleAddStep","handleIngredientChange","index","field","newIngredients","handleStepChange","newSteps","handleImageChange","file","target","files","handlePublishRecipe","preventDefault","fetch","method","_objectSpread","body","json","ok","setTimeout","Error","testApiConnection","_jsxs","className","onSubmit","htmlFor","type","onChange","placeholder","required","accept","min","ingredient","onClick","rows","disabled","LoginPage","handleGoogleLogin","HomePage","searchQuery","setSearchQuery","useContext","handleCreateRecipe","handleSearch","trim","handleLogout","picture","src","alt","SearchResultsPage","CreatePostPage","RecipeDetailPage","useParams","handleChatbotClick","ChatbotPage","UserProfilePage","AdminPage","LoginPageWrapper","setIsLoggedIn","handleGoogleSuccess","credentialResponse","handleGoogleError","GoogleLogin","onSuccess","onError","useOneTap","theme","text","shape","App","isLoggedIn","setIsAdmin","GoogleOAuthProvider","clientId","BrowserRouter","Routes","Route","path","element","Navigate","to","rootElement","document","getElementById","root","createRoot","render","React","StrictMode","innerHTML"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin","import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\n\n// Tạo instance axios với cấu hình mặc định\nconst api = axios.create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\n// Thêm interceptors để xử lý token authentication\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('auth_token');\n        if (token) {\n            config.headers['Authorization'] = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// Xử lý response và error global\napi.interceptors.response.use(\n    (response) => {\n        return response;\n    },\n    async (error) => {\n        // Nếu lỗi là 401 (Unauthorized), thử lại với token mới\n        if (error.response && error.response.status === 401) {\n            // Thông báo chi tiết hơn cho người dùng\n            console.error(\"Authentication error:\", error.response.data);\n            \n            // Lưu URL hiện tại trước khi chuyển hướng\n            localStorage.setItem('redirectAfterLogin', window.location.pathname);\n            \n            // Kiểm tra có phải là lỗi token hết hạn không\n            const errorMessage = error.response.data.message;\n            if (errorMessage.includes('hết hạn') || errorMessage.includes('không hợp lệ')) {\n                alert('Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.');\n                \n                // Xóa token cũ\n                localStorage.removeItem('auth_token');\n                localStorage.removeItem('user');\n                \n                // Điều hướng đến trang đăng nhập\n                window.location.href = '/login';\n            }\n        }\n        return Promise.reject(error);\n    }\n);\n\n// Example API calls\nexport const fetchRecipes = async () => {\n    const response = await api.get('/recipes');\n    return response.data;\n};\n\nexport const fetchRecipeById = async (id) => {\n    const response = await api.get(`/recipes/${id}`);\n    return response.data;\n};\n\nexport const createRecipe = async (recipeData) => {\n    const response = await api.post('/recipes', recipeData);\n    return response.data;\n};\n\nexport const updateRecipe = async (id, recipeData) => {\n    const response = await api.put(`/recipes/${id}`, recipeData);\n    return response.data;\n};\n\nexport const deleteRecipe = async (id) => {\n    const response = await api.delete(`/recipes/${id}`);\n    return response.data;\n};\n\nexport default api;","import api from './api';\n\nconst authService = {\n    // Đăng nhập truyền thống\n    login: async (email, password) => {\n        try {\n            const response = await api.post('/auth/login', { email, password });\n            \n            // Lưu thông tin đăng nhập vào localStorage\n            if (response.data.token) {\n                localStorage.setItem('auth_token', response.data.token);\n                localStorage.setItem('user', JSON.stringify(response.data.user));\n            }\n            \n            return response.data;\n        } catch (error) {\n            console.error(\"Login error:\", error);\n            throw error.response ? error.response.data : error;\n        }\n    },\n    \n    // Đăng ký tài khoản\n    register: async (userData) => {\n        try {\n            const response = await api.post('/auth/register', userData);\n            return response.data;\n        } catch (error) {\n            throw error.response ? error.response.data : error;\n        }\n    },\n    \n    // Đăng nhập bằng Google (giữ lại nếu vẫn muốn dùng)\n    googleLogin: async (tokenId) => {\n        try {\n            console.log(\"Attempting to log in with token:\", tokenId ? \"Token exists\" : \"No token\");\n            const response = await api.post('/auth/google', { tokenId });\n            console.log(\"Login response:\", response.data);\n            \n            // Lưu thông tin đăng nhập vào localStorage\n            if (response.data.token) {\n                localStorage.setItem('auth_token', response.data.token);\n                localStorage.setItem('user', JSON.stringify(response.data.user));\n            }\n            \n            return response.data;\n        } catch (error) {\n            console.error(\"Google login error:\", error);\n            throw error.response ? error.response.data : error;\n        }\n    },\n\n    // Lấy thông tin người dùng hiện tại\n    getCurrentUser: async () => {\n        try {\n            const response = await api.get('/auth/me');\n            return response.data;\n        } catch (error) {\n            throw error.response ? error.response.data : error;\n        }\n    },\n    \n    // Đăng xuất\n    logout: () => {\n        localStorage.removeItem('auth_token');\n        localStorage.removeItem('user');\n    },\n\n    // Kiểm tra nếu đã đăng nhập\n    isAuthenticated: () => {\n        return !!localStorage.getItem('auth_token');\n    },\n\n    // Lấy thông tin người dùng từ localStorage\n    getUser: () => {\n        return JSON.parse(localStorage.getItem('user'));\n    },\n\n    // Kiểm tra nếu là admin\n    isAdmin: () => {\n        const user = authService.getUser();\n        return user && user.role === 'admin';\n    }\n};\n\nexport default authService;","import React, { createContext, useState, useEffect } from 'react';\nimport authService from '../services/authService';\nimport { jwtDecode } from \"jwt-decode\";\n\nexport const AuthContext = createContext({\n  currentUser: null,\n  loading: true,\n  error: null,\n  isAuthenticated: false,\n  login: (user, token) => {},\n  loginWithGoogle: (credential) => Promise.resolve(),\n  logout: () => {}\n});\n\nexport const AuthProvider = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n    // Kiểm tra trạng thái đăng nhập khi component mount\n    useEffect(() => {\n        const checkAuthStatus = async () => {\n            try {\n                const storedUser = localStorage.getItem('user');\n                const token = localStorage.getItem('auth_token');\n                \n                if (token && storedUser) {\n                    // Kiểm tra token hết hạn\n                    const decodedToken = jwtDecode(token);\n                    if (decodedToken.exp * 1000 < Date.now()) {\n                        // Token hết hạn\n                        authService.logout();\n                        setCurrentUser(null);\n                        setIsAuthenticated(false);\n                    } else {\n                        // Token còn hạn\n                        setCurrentUser(JSON.parse(storedUser));\n                        setIsAuthenticated(true);\n                        \n                        // Cập nhật thông tin người dùng từ server\n                        try {\n                            const userData = await authService.getCurrentUser();\n                            setCurrentUser(userData.data);\n                        } catch (err) {\n                            console.log(\"Could not fetch updated user info\");\n                        }\n                    }\n                }\n            } catch (err) {\n                console.error(\"Auth check error:\", err);\n                authService.logout();\n                setCurrentUser(null);\n                setIsAuthenticated(false);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuthStatus();\n    }, []);\n\n    // Đăng nhập truyền thống\n    const login = (user, token) => {\n        setCurrentUser(user);\n        setIsAuthenticated(true);\n    };\n\n    // Đăng nhập với Google (giữ lại nếu vẫn muốn dùng)\n    const loginWithGoogle = async (tokenId) => {\n        try {\n            setError(null);\n            setLoading(true);\n            \n            const result = await authService.googleLogin(tokenId);\n            \n            setCurrentUser(result.user);\n            setIsAuthenticated(true);\n            \n            return result;\n        } catch (err) {\n            setError(err.message || \"Login failed\");\n            throw err;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Đăng xuất\n    const logout = () => {\n        authService.logout();\n        setCurrentUser(null);\n        setIsAuthenticated(false);\n    };\n\n    // Context value\n    const value = {\n        currentUser,\n        loading,\n        error,\n        isAuthenticated,\n        login,\n        loginWithGoogle,\n        logout,\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n};","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './CreateRecipePage.css'; // Đảm bảo có CSS tương ứng\n\nconst CreateRecipePage = () => {\n    const navigate = useNavigate();\n    const [title, setTitle] = useState('');\n    const [image, setImage] = useState(null);\n    const [cookingTime, setCookingTime] = useState('');\n    const [thoughts, setThoughts] = useState('');\n    const [ingredients, setIngredients] = useState([{ name: '', quantity: '', unit: '' }]);\n    const [steps, setSteps] = useState([{ description: '' }]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    const [success, setSuccess] = useState(false);\n    \n    useEffect(() => {\n        // Nếu có dữ liệu đã lưu, khôi phục\n        const savedForm = localStorage.getItem('recipeFormData');\n        if (savedForm) {\n            try {\n                const formData = JSON.parse(savedForm);\n                setTitle(formData.title || '');\n                setCookingTime(formData.cookingTime || '');\n                setThoughts(formData.thoughts || '');\n                setIngredients(formData.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(formData.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('recipeFormData');\n                alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");\n            } catch (e) {\n                console.error(\"Error restoring form:\", e);\n            }\n        }\n    }, []);\n    \n    useEffect(() => {\n        // Kiểm tra xem có dữ liệu đã lưu không\n        const savedData = localStorage.getItem('pendingRecipeData');\n        if (savedData) {\n            try {\n                const data = JSON.parse(savedData);\n                setTitle(data.title || '');\n                setCookingTime(data.cookingTime || '');\n                setThoughts(data.thoughts || '');\n                setIngredients(data.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(data.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('pendingRecipeData');\n                alert('Đã khôi phục công thức bạn đang soạn trước đó!');\n            } catch (e) {\n                console.error('Error restoring recipe data:', e);\n            }\n        }\n    }, []);\n    \n    // Tự động lưu form data mỗi 30 giây\n    useEffect(() => {\n        const autoSaveInterval = setInterval(() => {\n            if (title || cookingTime || ingredients.length > 1 || steps.length > 1) {\n                const formData = {\n                    title,\n                    cookingTime,\n                    thoughts,\n                    ingredients,\n                    steps: steps.map(step => ({description: step.description}))\n                };\n                localStorage.setItem('pendingRecipeData', JSON.stringify(formData));\n                console.log('Form data auto-saved');\n            }\n        }, 30000);\n        \n        return () => clearInterval(autoSaveInterval);\n    }, [title, cookingTime, thoughts, ingredients, steps]);\n    \n    // Xử lý thêm nguyên liệu\n    const handleAddIngredient = () => {\n        setIngredients([...ingredients, { name: '', quantity: '', unit: '' }]);\n    };\n    \n    // Xử lý thêm bước\n    const handleAddStep = () => {\n        setSteps([...steps, { description: '' }]);\n    };\n    \n    // Xử lý thay đổi nguyên liệu\n    const handleIngredientChange = (index, field, value) => {\n        const newIngredients = [...ingredients];\n        newIngredients[index][field] = value;\n        setIngredients(newIngredients);\n    };\n    \n    // Xử lý thay đổi bước\n    const handleStepChange = (index, value) => {\n        const newSteps = [...steps];\n        newSteps[index].description = value;\n        setSteps(newSteps);\n    };\n    \n    // Xử lý thay đổi hình ảnh\n    const handleImageChange = (e) => {\n        const file = e.target.files[0];\n        setImage(file);\n    };\n    \n    // Xử lý nút \"Đăng công thức\" không cần login\n    const handlePublishRecipe = async (e) => {\n        e.preventDefault();\n        \n        // Kiểm tra các trường\n        if (!title) {\n            setError('Vui lòng nhập tên món ăn');\n            return;\n        }\n        \n        if (!cookingTime) {\n            setError('Vui lòng nhập thời gian nấu');\n            return;\n        }\n        \n        if (ingredients.length === 0 || !ingredients[0].name) {\n            setError('Vui lòng thêm ít nhất một nguyên liệu');\n            return;\n        }\n        \n        if (steps.length === 0 || !steps[0].description) {\n            setError('Vui lòng thêm ít nhất một bước nấu');\n            return;\n        }\n        \n        try {\n            setLoading(true);\n            setError(null);\n            \n            // Không cần token Google, chỉ cần token JWT thông thường\n            const token = localStorage.getItem('auth_token');\n            const headers = token ? { 'Authorization': `Bearer ${token}` } : {};\n            \n            const recipeData = {\n                title,\n                cookingTime,\n                thoughts,\n                ingredients,\n                steps\n            };\n            \n            // Gọi API bình thường\n            const response = await fetch('http://localhost:5000/api/recipes', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                    ...headers\n                },\n                body: JSON.stringify(recipeData)\n            });\n            \n            const result = await response.json();\n            \n            if (response.ok) {\n                // Thành công\n                setSuccess(true);\n                localStorage.removeItem('recipeFormData');\n                setTimeout(() => {\n                    navigate('/');\n                }, 2000);\n            } else {\n                throw new Error(result.message || 'Lỗi khi lưu công thức');\n            }\n        } catch (error) {\n            setError(`Lỗi: ${error.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    // Kiểm tra kết nối API\n    const testApiConnection = async () => {\n        try {\n            const response = await fetch('http://localhost:5000/api/test/ping');\n            const data = await response.json();\n            if (data.message === 'pong') {\n                alert('Kết nối với API thành công!');\n            } else {\n                alert('Kết nối API không đúng định dạng.');\n            }\n        } catch (error) {\n            alert(`Không kết nối được tới API: ${error.message}`);\n        }\n    };\n    \n    return (\n        <div className=\"create-recipe-page\">\n            <h1>Tạo công thức mới</h1>\n            <div className=\"info-message\">\n                Bạn đang sử dụng chế độ tạo công thức không cần đăng nhập (Test Mode).\n            </div>\n            \n            {error && <div className=\"error-message\">{error}</div>}\n            {success && <div className=\"success-message\">Công thức đã được đăng thành công!</div>}\n            \n            <form className=\"recipe-form\" onSubmit={handlePublishRecipe}>\n                {/* Tên món ăn */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"title\">Tên món ăn *</label>\n                    <input \n                        type=\"text\" \n                        id=\"title\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                        placeholder=\"Nhập tên món ăn\"\n                        required\n                    />\n                </div>\n                \n                {/* Hình ảnh */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"image\">Hình ảnh món ăn</label>\n                    <input \n                        type=\"file\" \n                        id=\"image\"\n                        accept=\"image/*\"\n                        onChange={handleImageChange}\n                    />\n                </div>\n                \n                {/* Thời gian nấu */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"cookingTime\">Thời gian nấu (phút) *</label>\n                    <input \n                        type=\"number\" \n                        id=\"cookingTime\"\n                        value={cookingTime}\n                        onChange={(e) => setCookingTime(e.target.value)}\n                        min=\"1\"\n                        placeholder=\"Nhập thời gian nấu\"\n                        required\n                    />\n                </div>\n                \n                {/* Nguyên liệu */}\n                <div className=\"form-group\">\n                    <h3>Nguyên liệu *</h3>\n                    {ingredients.map((ingredient, index) => (\n                        <div key={index} className=\"ingredient-row\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Tên nguyên liệu\"\n                                value={ingredient.name}\n                                onChange={(e) => handleIngredientChange(index, 'name', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Số lượng\"\n                                value={ingredient.quantity}\n                                onChange={(e) => handleIngredientChange(index, 'quantity', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Đơn vị (g, ml...)\"\n                                value={ingredient.unit}\n                                onChange={(e) => handleIngredientChange(index, 'unit', e.target.value)}\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddIngredient}>\n                        Thêm nguyên liệu\n                    </button>\n                </div>\n                \n                {/* Các bước nấu */}\n                <div className=\"form-group\">\n                    <h3>Các bước *</h3>\n                    {steps.map((step, index) => (\n                        <div key={index} className=\"step-row\">\n                            <textarea\n                                placeholder={`Bước ${index + 1}`}\n                                value={step.description || ''} \n                                onChange={(e) => handleStepChange(index, e.target.value)}\n                                required\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddStep}>\n                        Thêm bước\n                    </button>\n                </div>\n                \n                {/* Suy nghĩ và cảm nhận */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"thoughts\">Suy nghĩ và cảm nhận về món ăn</label>\n                    <textarea \n                        id=\"thoughts\"\n                        value={thoughts || ''} \n                        onChange={(e) => setThoughts(e.target.value)}\n                        placeholder=\"Chia sẻ câu chuyện, cảm nhận của bạn về món ăn này...\"\n                        rows={4} \n                    /> \n                </div>\n                \n                {/* Nút hành động */}\n                <div className=\"form-actions\">\n                    <button \n                        type=\"submit\"\n                        className=\"primary-button\"\n                        disabled={loading}\n                    >\n                        {loading ? 'Đang xử lý...' : 'Đăng công thức'}\n                    </button>\n                    \n                    <button \n                        type=\"button\"\n                        className=\"secondary-button\"\n                        onClick={testApiConnection}\n                    >\n                        Kiểm tra kết nối API\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default CreateRecipePage;","import React, { useState, useContext, useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate, useParams } from \"react-router-dom\";\nimport { GoogleLogin, GoogleOAuthProvider } from '@react-oauth/google';\nimport { AuthContext, AuthProvider } from './context/AuthContext';\nimport './App.css';\nimport CreateRecipePage from './pages/CreateRecipePage';\n\n// Placeholder components for each page\nconst LoginPage = () => {\n  const navigate = useNavigate();\n  \n  const handleGoogleLogin = () => {\n    // In a real app, this would trigger Google OAuth\n    // For now, we'll just simulate a successful login and redirect\n    console.log(\"Google login clicked\");\n    navigate('/');\n  };\n\n  return (\n    <div className=\"page login-page\">\n      <h1>Login Page</h1>\n      <div className=\"login-container\">\n        <button className=\"google-login-btn\" onClick={handleGoogleLogin}>\n          Login with Google\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Fix the HomePage component\nconst HomePage = () => {\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { currentUser, logout } = useContext(AuthContext);\n  \n  const handleCreateRecipe = () => {\n    navigate('/create');\n  };\n  \n  const handleSearch = () => {\n    if (searchQuery.trim()) {\n      navigate(`/search?q=${searchQuery}`);\n    }\n  };\n  \n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  \n  return (\n    <div className=\"page home-page\">\n      <h1>Personal Profile</h1>\n      <div className=\"search-bar\">\n        <input \n          type=\"text\" \n          placeholder=\"Search recipes or users...\" \n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n      \n      <div className=\"profile-section\">\n        <div className=\"profile-header\">\n          <div className=\"profile-avatar\">\n            {currentUser?.picture ? (\n              <img src={currentUser.picture} alt=\"Profile\" className=\"avatar-img\" />\n            ) : (\n              <div className=\"placeholder-avatar\">Avatar</div>\n            )}\n          </div>\n          <div className=\"profile-info\">\n            <h2>{currentUser?.name || \"User Name\"}</h2>\n            <p className=\"user-email\">{currentUser?.email || \"email@example.com\"}</p>\n            <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"profile-stats\">\n        <div className=\"stat\">Followers: 0</div>\n        <div className=\"stat\">Following: 0</div>\n        <div className=\"stat\">Posts: 0</div>\n      </div>\n      \n      <div className=\"action-buttons\">\n        <button className=\"create-post-btn\" onClick={handleCreateRecipe}>Create New Recipe</button>\n      </div>\n      \n      <div className=\"posts-container\">\n        <h2>Your Recipes</h2>\n        <p>No recipes yet. Create your first recipe!</p>\n      </div>\n    </div>\n  );\n};\n\nconst SearchResultsPage = () => (\n  <div className=\"page search-results-page\">\n    <h1>Search Results</h1>\n    <div className=\"search-bar\">\n      <input type=\"text\" placeholder=\"Search recipes or users...\" />\n      <button>Search</button>\n    </div>\n    <div className=\"filters\">\n      <button>Recipes</button>\n      <button>Users</button>\n      <button>Ingredients</button>\n      <button>Cooking Methods</button>\n    </div>\n    <div className=\"results-container\">\n      <p>No results found.</p>\n    </div>\n  </div>\n);\n\nconst CreatePostPage = () => (\n  <div className=\"page create-post-page\">\n    <h1>Create New Recipe</h1>\n    <form className=\"recipe-form\">\n      <div className=\"form-group\">\n        <label>Recipe Name*</label>\n        <input type=\"text\" required />\n      </div>\n      <div className=\"form-group\">\n        <label>Upload Image</label>\n        <input type=\"file\" accept=\"image/*\" />\n      </div>\n      <div className=\"form-group\">\n        <label>Ingredients*</label>\n        <textarea placeholder=\"Enter ingredients with measurements\" required></textarea>\n      </div>\n      <div className=\"form-group\">\n        <label>Cooking Time*</label>\n        <input type=\"number\" min=\"1\" placeholder=\"Minutes\" required />\n      </div>\n      <div className=\"form-group\">\n        <label>Cooking Steps*</label>\n        <textarea placeholder=\"Describe the steps to prepare this recipe\" required></textarea>\n      </div>\n      <div className=\"form-group\">\n        <label>Your Thoughts</label>\n        <textarea placeholder=\"Share your thoughts about this recipe\"></textarea>\n      </div>\n      <div className=\"form-actions\">\n        <button type=\"button\">Save as Draft</button>\n        <button type=\"submit\">Publish</button>\n      </div>\n    </form>\n  </div>\n);\n\nconst RecipeDetailPage = () => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  \n  const handleChatbotClick = () => {\n    navigate(`/chatbot/${id}`);\n  };\n  return (\n    <div className=\"page recipe-detail-page\">\n      <h1>Recipe Details</h1>\n      <div className=\"recipe-header\">\n        <h2>Recipe Name</h2>\n        <div className=\"recipe-meta\">\n          <span>By: User</span>\n          <span>Cooking Time: 0 mins</span>\n        </div>\n      </div>\n      <div className=\"recipe-image\">\n        <div className=\"placeholder-image\">Recipe Image</div>\n      </div>\n      <div className=\"recipe-ingredients\">\n        <h3>Ingredients</h3>\n        <p>No ingredients listed.</p>\n      </div>\n      <div className=\"recipe-steps\">\n        <h3>Instructions</h3>\n        <p>No instructions provided.</p>\n      </div>\n      <div className=\"recipe-actions\">\n        <button>Like</button>\n        <button>Save</button>\n        <button>Share</button>\n        <button>Export as PDF</button>\n        <button className=\"chatbot-btn\">Ask Chatbot</button>\n      </div>\n      <div className=\"recipe-comments\">\n        <h3>Comments</h3>\n        <div className=\"comment-form\">\n          <textarea placeholder=\"Add a comment...\"></textarea>\n          <button>Post</button>\n        </div>\n        <div className=\"comments-list\">\n          <p>No comments yet.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatbotPage = () => (\n  <div className=\"page chatbot-page\">\n    <h1>Recipe Assistant Chatbot</h1>\n    <div className=\"chat-container\">\n      <div className=\"chat-messages\">\n        <div className=\"message bot\">\n          Hello! I'm your recipe assistant. Ask me anything about this recipe!\n        </div>\n      </div>\n      <div className=\"chat-input\">\n        <input type=\"text\" placeholder=\"Type your question...\" />\n        <button>Send</button>\n      </div>\n    </div>\n  </div>\n);\n\nconst UserProfilePage = () => (\n  <div className=\"page user-profile-page\">\n    <h1>User Profile</h1>\n    <div className=\"profile-header\">\n      <div className=\"profile-avatar\">\n        <div className=\"placeholder-avatar\">User Avatar</div>\n      </div>\n      <div className=\"profile-info\">\n        <h2>User Name</h2>\n        <div className=\"profile-stats\">\n          <div className=\"stat\">Followers: 0</div>\n          <div className=\"stat\">Following: 0</div>\n          <div className=\"stat\">Posts: 0</div>\n        </div>\n        <button className=\"follow-btn\">Follow</button>\n      </div>\n    </div>\n    <div className=\"user-recipes\">\n      <h3>Recipes</h3>\n      <div className=\"recipes-grid\">\n        <p>No recipes published yet.</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst AdminPage = () => (\n  <div className=\"page admin-page\">\n    <h1>Admin Dashboard</h1>\n    <div className=\"admin-sections\">\n      <div className=\"reports-section\">\n        <h2>User Reports</h2>\n        <p>No pending reports.</p>\n      </div>\n      <div className=\"content-moderation\">\n        <h2>Content Moderation</h2>\n        <p>No content waiting for review.</p>\n      </div>\n      <div className=\"user-management\">\n        <h2>User Management</h2>\n        <div className=\"user-search\">\n          <input type=\"text\" placeholder=\"Search users...\" />\n          <button>Search</button>\n        </div>\n        <p>No users found.</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst LoginPageWrapper = ({ setIsLoggedIn }) => {\n  const navigate = useNavigate();\n  const [error, setError] = useState('');\n  const { loginWithGoogle } = useContext(AuthContext);\n  \n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      // Process the Google response through your AuthContext\n      await loginWithGoogle(credentialResponse.credential);\n      setIsLoggedIn(true);\n      navigate('/');\n    } catch (err) {\n      setError('Authentication failed. Please try again.');\n      console.error(err);\n    }\n  };\n\n  const handleGoogleError = () => {\n    setError('Google Sign-In failed. Please try again.');\n  };\n  \n  return (\n    <div className=\"page login-page\">\n      <h1>Login Page</h1>\n      {error && <p className=\"error-message\">{error}</p>}\n      <div className=\"login-container\">\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={handleGoogleError}\n          useOneTap\n          theme=\"filled_blue\"\n          text=\"signin_with\"\n          shape=\"pill\"\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(true);\n\n  // Check authentication status on mount and when currentUser changes\n  useEffect(() => {\n    // Check if there's a token in localStorage\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n      setIsLoggedIn(true);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, []);\n\n  return (\n    <GoogleOAuthProvider clientId=\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\">\n      <AuthProvider>\n        <BrowserRouter>\n          <div className=\"App\">\n            <Routes>\n              <Route path=\"/login\" element={<LoginPageWrapper setIsLoggedIn={setIsLoggedIn} />} />\n              <Route path=\"/\" element={isLoggedIn ? <HomePage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/search\" element={isLoggedIn ? <SearchResultsPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/create-recipe\" element={isLoggedIn ? <CreatePostPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/create\" element={<Navigate to=\"/create-recipe\" />} />\n              <Route path=\"/recipe/:id\" element={isLoggedIn ? <RecipeDetailPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/chatbot/:recipeId\" element={isLoggedIn ? <ChatbotPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/profile/:id\" element={isLoggedIn ? <UserProfilePage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/admin\" element={isLoggedIn && isAdmin ? <AdminPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\n            </Routes>\n          </div>\n        </BrowserRouter>\n      </AuthProvider>\n    </GoogleOAuthProvider>\n  );\n}\nexport default App;","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\n\n// Kiểm tra lỗi\ntry {\n  const rootElement = document.getElementById(\"root\");\n  const root = createRoot(rootElement);\n  root.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  );\n} catch (error) {\n  console.error(\"React rendering error:\", error);\n  // Hiển thị thông báo lỗi trên giao diện\n  document.getElementById(\"root\").innerHTML = `\n    <div style=\"color: red; margin: 20px;\">\n      <h2>Error initializing app</h2>\n      <p>${error.message}</p>\n      <p>Please check the console for more details.</p>\n    </div>\n  `;\n}"]}}