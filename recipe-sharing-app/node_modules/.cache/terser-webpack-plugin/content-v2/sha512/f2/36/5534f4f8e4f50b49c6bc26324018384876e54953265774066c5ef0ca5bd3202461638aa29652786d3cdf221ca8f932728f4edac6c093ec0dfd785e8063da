{"code":"(this[\"webpackJsonprecipe-sharing-app\"]=this[\"webpackJsonprecipe-sharing-app\"]||[]).push([[0],{47:function(e,t,s){},48:function(e,t,s){\"use strict\";s.r(t);var c=s(0),a=s.n(c),r=s(19),n=s(3),i=s(7),l=s(8),o=s(20);const j=s.n(o).a.create({baseURL:\"http://localhost:5000/api\",headers:{\"Content-Type\":\"application/json\"}});j.interceptors.request.use((e=>{const t=localStorage.getItem(\"auth_token\");return t&&(e.headers.Authorization=\"Bearer \".concat(t)),e}),(e=>Promise.reject(e))),j.interceptors.response.use((e=>e),(async e=>{if(e.response&&401===e.response.status){console.error(\"Authentication error:\",e.response.data),localStorage.setItem(\"redirectAfterLogin\",window.location.pathname);const t=e.response.data.message;(t.includes(\"h\\u1ebft h\\u1ea1n\")||t.includes(\"kh\\xf4ng h\\u1ee3p l\\u1ec7\"))&&(alert(\"Phi\\xean \\u0111\\u0103ng nh\\u1eadp \\u0111\\xe3 h\\u1ebft h\\u1ea1n. Vui l\\xf2ng \\u0111\\u0103ng nh\\u1eadp l\\u1ea1i.\"),localStorage.removeItem(\"auth_token\"),localStorage.removeItem(\"user\"),window.location.href=\"/login\")}return Promise.reject(e)}));var d=j;const h={googleLogin:async e=>{try{console.log(\"Attempting to log in with token:\",e?\"Token exists\":\"No token\");const t=await d.post(\"/auth/google\",{tokenId:e});return console.log(\"Login response:\",t.data),t.data.token&&(localStorage.setItem(\"auth_token\",t.data.token),localStorage.setItem(\"user\",JSON.stringify(t.data.user))),t.data}catch(t){throw console.error(\"Google login error:\",t),t.response?t.response.data:t}},getCurrentUser:async()=>{try{return(await d.get(\"/auth/me\")).data}catch(e){throw e.response?e.response.data:e}},logout:()=>{localStorage.removeItem(\"auth_token\"),localStorage.removeItem(\"user\")},isAuthenticated:()=>!!localStorage.getItem(\"auth_token\"),getUser:()=>JSON.parse(localStorage.getItem(\"user\")),isAdmin:()=>{const e=h.getUser();return e&&\"admin\"===e.role}};var b=h,p=s(21),O=s(1);const x=Object(c.createContext)(),m=e=>{let{children:t}=e;const[s,a]=Object(c.useState)(null),[r,n]=Object(c.useState)(!0),[i,l]=Object(c.useState)(null),[o,j]=Object(c.useState)(!1);Object(c.useEffect)((()=>{(async()=>{try{const t=localStorage.getItem(\"user\"),s=localStorage.getItem(\"auth_token\");if(s&&t){if(1e3*Object(p.a)(s).exp<Date.now())b.logout(),a(null),j(!1);else{a(JSON.parse(t)),j(!0);try{const e=await b.getCurrentUser();a(e.data)}catch(e){console.log(\"Could not fetch updated user info\")}}}}catch(e){console.error(\"Auth check error:\",e),b.logout(),a(null),j(!1)}finally{n(!1)}})()}),[]);const d={currentUser:s,loading:r,error:i,isAuthenticated:o,loginWithGoogle:async e=>{try{l(null),n(!0);const t=await b.googleLogin(e);return a(t.user),j(!0),t}catch(t){throw l(t.message||\"Login failed\"),t}finally{n(!1)}},logout:()=>{b.logout(),a(null),j(!1)}};return Object(O.jsx)(x.Provider,{value:d,children:t})};s(47);const u=()=>{const e=Object(n.q)(),[t,s]=Object(c.useState)(\"\"),{currentUser:a,logout:r}=Object(c.useContext)(x);return Object(O.jsxs)(\"div\",{className:\"page home-page\",children:[Object(O.jsx)(\"h1\",{children:\"Personal Profile\"}),Object(O.jsxs)(\"div\",{className:\"search-bar\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\",value:t,onChange:e=>s(e.target.value)}),Object(O.jsx)(\"button\",{onClick:()=>{t.trim()&&e(\"/search?q=\".concat(t))},children:\"Search\"})]}),Object(O.jsx)(\"div\",{className:\"profile-section\",children:Object(O.jsxs)(\"div\",{className:\"profile-header\",children:[Object(O.jsx)(\"div\",{className:\"profile-avatar\",children:null!==a&&void 0!==a&&a.picture?Object(O.jsx)(\"img\",{src:a.picture,alt:\"Profile\",className:\"avatar-img\"}):Object(O.jsx)(\"div\",{className:\"placeholder-avatar\",children:\"Avatar\"})}),Object(O.jsxs)(\"div\",{className:\"profile-info\",children:[Object(O.jsx)(\"h2\",{children:(null===a||void 0===a?void 0:a.name)||\"User Name\"}),Object(O.jsx)(\"p\",{className:\"user-email\",children:(null===a||void 0===a?void 0:a.email)||\"email@example.com\"}),Object(O.jsx)(\"button\",{className:\"logout-btn\",onClick:()=>{r(),e(\"/login\")},children:\"Logout\"})]})]})}),Object(O.jsxs)(\"div\",{className:\"profile-stats\",children:[Object(O.jsx)(\"div\",{className:\"stat\",children:\"Followers: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Following: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),Object(O.jsx)(\"div\",{className:\"action-buttons\",children:Object(O.jsx)(\"button\",{className:\"create-post-btn\",onClick:()=>{e(\"/create\")},children:\"Create New Recipe\"})}),Object(O.jsxs)(\"div\",{className:\"posts-container\",children:[Object(O.jsx)(\"h2\",{children:\"Your Recipes\"}),Object(O.jsx)(\"p\",{children:\"No recipes yet. Create your first recipe!\"})]})]})},g=()=>Object(O.jsxs)(\"div\",{className:\"page search-results-page\",children:[Object(O.jsx)(\"h1\",{children:\"Search Results\"}),Object(O.jsxs)(\"div\",{className:\"search-bar\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\"}),Object(O.jsx)(\"button\",{children:\"Search\"})]}),Object(O.jsxs)(\"div\",{className:\"filters\",children:[Object(O.jsx)(\"button\",{children:\"Recipes\"}),Object(O.jsx)(\"button\",{children:\"Users\"}),Object(O.jsx)(\"button\",{children:\"Ingredients\"}),Object(O.jsx)(\"button\",{children:\"Cooking Methods\"})]}),Object(O.jsx)(\"div\",{className:\"results-container\",children:Object(O.jsx)(\"p\",{children:\"No results found.\"})})]}),v=()=>Object(O.jsxs)(\"div\",{className:\"page create-post-page\",children:[Object(O.jsx)(\"h1\",{children:\"Create New Recipe\"}),Object(O.jsxs)(\"form\",{className:\"recipe-form\",children:[Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Recipe Name*\"}),Object(O.jsx)(\"input\",{type:\"text\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Upload Image\"}),Object(O.jsx)(\"input\",{type:\"file\",accept:\"image/*\"})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Ingredients*\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Enter ingredients with measurements\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Cooking Time*\"}),Object(O.jsx)(\"input\",{type:\"number\",min:\"1\",placeholder:\"Minutes\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Cooking Steps*\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Describe the steps to prepare this recipe\",required:!0})]}),Object(O.jsxs)(\"div\",{className:\"form-group\",children:[Object(O.jsx)(\"label\",{children:\"Your Thoughts\"}),Object(O.jsx)(\"textarea\",{placeholder:\"Share your thoughts about this recipe\"})]}),Object(O.jsxs)(\"div\",{className:\"form-actions\",children:[Object(O.jsx)(\"button\",{type:\"button\",children:\"Save as Draft\"}),Object(O.jsx)(\"button\",{type:\"submit\",children:\"Publish\"})]})]})]}),N=()=>{Object(n.q)();const{id:e}=Object(n.s)();return Object(O.jsxs)(\"div\",{className:\"page recipe-detail-page\",children:[Object(O.jsx)(\"h1\",{children:\"Recipe Details\"}),Object(O.jsxs)(\"div\",{className:\"recipe-header\",children:[Object(O.jsx)(\"h2\",{children:\"Recipe Name\"}),Object(O.jsxs)(\"div\",{className:\"recipe-meta\",children:[Object(O.jsx)(\"span\",{children:\"By: User\"}),Object(O.jsx)(\"span\",{children:\"Cooking Time: 0 mins\"})]})]}),Object(O.jsx)(\"div\",{className:\"recipe-image\",children:Object(O.jsx)(\"div\",{className:\"placeholder-image\",children:\"Recipe Image\"})}),Object(O.jsxs)(\"div\",{className:\"recipe-ingredients\",children:[Object(O.jsx)(\"h3\",{children:\"Ingredients\"}),Object(O.jsx)(\"p\",{children:\"No ingredients listed.\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-steps\",children:[Object(O.jsx)(\"h3\",{children:\"Instructions\"}),Object(O.jsx)(\"p\",{children:\"No instructions provided.\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-actions\",children:[Object(O.jsx)(\"button\",{children:\"Like\"}),Object(O.jsx)(\"button\",{children:\"Save\"}),Object(O.jsx)(\"button\",{children:\"Share\"}),Object(O.jsx)(\"button\",{children:\"Export as PDF\"}),Object(O.jsx)(\"button\",{className:\"chatbot-btn\",children:\"Ask Chatbot\"})]}),Object(O.jsxs)(\"div\",{className:\"recipe-comments\",children:[Object(O.jsx)(\"h3\",{children:\"Comments\"}),Object(O.jsxs)(\"div\",{className:\"comment-form\",children:[Object(O.jsx)(\"textarea\",{placeholder:\"Add a comment...\"}),Object(O.jsx)(\"button\",{children:\"Post\"})]}),Object(O.jsx)(\"div\",{className:\"comments-list\",children:Object(O.jsx)(\"p\",{children:\"No comments yet.\"})})]})]})},f=()=>Object(O.jsxs)(\"div\",{className:\"page chatbot-page\",children:[Object(O.jsx)(\"h1\",{children:\"Recipe Assistant Chatbot\"}),Object(O.jsxs)(\"div\",{className:\"chat-container\",children:[Object(O.jsx)(\"div\",{className:\"chat-messages\",children:Object(O.jsx)(\"div\",{className:\"message bot\",children:\"Hello! I'm your recipe assistant. Ask me anything about this recipe!\"})}),Object(O.jsxs)(\"div\",{className:\"chat-input\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Type your question...\"}),Object(O.jsx)(\"button\",{children:\"Send\"})]})]})]}),y=()=>Object(O.jsxs)(\"div\",{className:\"page user-profile-page\",children:[Object(O.jsx)(\"h1\",{children:\"User Profile\"}),Object(O.jsxs)(\"div\",{className:\"profile-header\",children:[Object(O.jsx)(\"div\",{className:\"profile-avatar\",children:Object(O.jsx)(\"div\",{className:\"placeholder-avatar\",children:\"User Avatar\"})}),Object(O.jsxs)(\"div\",{className:\"profile-info\",children:[Object(O.jsx)(\"h2\",{children:\"User Name\"}),Object(O.jsxs)(\"div\",{className:\"profile-stats\",children:[Object(O.jsx)(\"div\",{className:\"stat\",children:\"Followers: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Following: 0\"}),Object(O.jsx)(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),Object(O.jsx)(\"button\",{className:\"follow-btn\",children:\"Follow\"})]})]}),Object(O.jsxs)(\"div\",{className:\"user-recipes\",children:[Object(O.jsx)(\"h3\",{children:\"Recipes\"}),Object(O.jsx)(\"div\",{className:\"recipes-grid\",children:Object(O.jsx)(\"p\",{children:\"No recipes published yet.\"})})]})]}),S=()=>Object(O.jsxs)(\"div\",{className:\"page admin-page\",children:[Object(O.jsx)(\"h1\",{children:\"Admin Dashboard\"}),Object(O.jsxs)(\"div\",{className:\"admin-sections\",children:[Object(O.jsxs)(\"div\",{className:\"reports-section\",children:[Object(O.jsx)(\"h2\",{children:\"User Reports\"}),Object(O.jsx)(\"p\",{children:\"No pending reports.\"})]}),Object(O.jsxs)(\"div\",{className:\"content-moderation\",children:[Object(O.jsx)(\"h2\",{children:\"Content Moderation\"}),Object(O.jsx)(\"p\",{children:\"No content waiting for review.\"})]}),Object(O.jsxs)(\"div\",{className:\"user-management\",children:[Object(O.jsx)(\"h2\",{children:\"User Management\"}),Object(O.jsxs)(\"div\",{className:\"user-search\",children:[Object(O.jsx)(\"input\",{type:\"text\",placeholder:\"Search users...\"}),Object(O.jsx)(\"button\",{children:\"Search\"})]}),Object(O.jsx)(\"p\",{children:\"No users found.\"})]})]})]}),k=e=>{let{setIsLoggedIn:t}=e;const s=Object(n.q)(),[a,r]=Object(c.useState)(\"\"),{loginWithGoogle:i}=Object(c.useContext)(x);return Object(O.jsxs)(\"div\",{className:\"page login-page\",children:[Object(O.jsx)(\"h1\",{children:\"Login Page\"}),a&&Object(O.jsx)(\"p\",{className:\"error-message\",children:a}),Object(O.jsx)(\"div\",{className:\"login-container\",children:Object(O.jsx)(l.a,{onSuccess:async e=>{try{await i(e.credential),t(!0),s(\"/\")}catch(c){r(\"Authentication failed. Please try again.\"),console.error(c)}},onError:()=>{r(\"Google Sign-In failed. Please try again.\")},useOneTap:!0,theme:\"filled_blue\",text:\"signin_with\",shape:\"pill\"})})]})};var I=function(){const[e,t]=Object(c.useState)(!1),[s,a]=Object(c.useState)(!0);return Object(c.useEffect)((()=>{const e=localStorage.getItem(\"auth_token\");t(!!e)}),[]),Object(O.jsx)(l.b,{clientId:\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\",children:Object(O.jsx)(m,{children:Object(O.jsx)(i.a,{children:Object(O.jsx)(\"div\",{className:\"App\",children:Object(O.jsxs)(n.d,{children:[Object(O.jsx)(n.b,{path:\"/login\",element:Object(O.jsx)(k,{setIsLoggedIn:t})}),Object(O.jsx)(n.b,{path:\"/\",element:e?Object(O.jsx)(u,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/search\",element:e?Object(O.jsx)(g,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/create-recipe\",element:e?Object(O.jsx)(v,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/create\",element:Object(O.jsx)(n.a,{to:\"/create-recipe\"})}),Object(O.jsx)(n.b,{path:\"/recipe/:id\",element:e?Object(O.jsx)(N,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/chatbot/:recipeId\",element:e?Object(O.jsx)(f,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/profile/:id\",element:e?Object(O.jsx)(y,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"/admin\",element:e&&s?Object(O.jsx)(S,{}):Object(O.jsx)(n.a,{to:\"/login\"})}),Object(O.jsx)(n.b,{path:\"*\",element:Object(O.jsx)(n.a,{to:\"/\"})})]})})})})})};try{const e=document.getElementById(\"root\");Object(r.createRoot)(e).render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(I,{})}))}catch(w){console.error(\"React rendering error:\",w),document.getElementById(\"root\").innerHTML='\\n    <div style=\"color: red; margin: 20px;\">\\n      <h2>Error initializing app</h2>\\n      <p>'.concat(w.message,\"</p>\\n      <p>Please check the console for more details.</p>\\n    </div>\\n  \")}}},[[48,1,2]]]);","name":"static/js/main.7bd8b4f4.chunk.js","map":{"version":3,"names":["this","push","module","exports","__webpack_require__","__webpack_exports__","r","react","react_default","n","client","dist","react_router_dom_dist","index_esm","axios","api","a","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","error","Promise","reject","response","async","status","console","data","setItem","window","location","pathname","errorMessage","message","includes","alert","removeItem","href","services_api","authService","googleLogin","log","tokenId","post","JSON","stringify","user","getCurrentUser","get","logout","isAuthenticated","getUser","parse","isAdmin","role","services_authService","esm","jsx_runtime","AuthContext","Object","AuthProvider","_ref","children","currentUser","setCurrentUser","loading","setLoading","setError","setIsAuthenticated","storedUser","exp","Date","now","userData","err","checkAuthStatus","value","loginWithGoogle","result","Provider","HomePage","navigate","searchQuery","setSearchQuery","className","type","placeholder","onChange","e","target","onClick","trim","picture","src","alt","name","email","SearchResultsPage","CreatePostPage","required","accept","min","RecipeDetailPage","id","ChatbotPage","UserProfilePage","AdminPage","LoginPageWrapper","setIsLoggedIn","onSuccess","credentialResponse","credential","onError","useOneTap","theme","text","shape","src_App","isLoggedIn","setIsAdmin","clientId","path","element","to","rootElement","document","getElementById","render","StrictMode","innerHTML"],"sources":["static/js/main.7bd8b4f4.chunk.js"],"mappings":"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","ignoreList":[]},"input":"(this[\"webpackJsonprecipe-sharing-app\"] = this[\"webpackJsonprecipe-sharing-app\"] || []).push([[0],{\n\n/***/ 47:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(19);\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar dist = __webpack_require__(3);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar react_router_dom_dist = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./node_modules/@react-oauth/google/dist/index.esm.js + 7 modules\nvar index_esm = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/axios/index.js\nvar axios = __webpack_require__(20);\nvar axios_default = /*#__PURE__*/__webpack_require__.n(axios);\n\n// CONCATENATED MODULE: ./src/services/api.js\nconst API_BASE_URL=\"http://localhost:5000/api\"||false;// Tạo instance axios với cấu hình mặc định\nconst api=axios_default.a.create({baseURL:API_BASE_URL,headers:{'Content-Type':'application/json'}});// Thêm interceptors để xử lý token authentication\napi.interceptors.request.use(config=>{const token=localStorage.getItem('auth_token');if(token){config.headers['Authorization']=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Xử lý response và error global\napi.interceptors.response.use(response=>{return response;},async error=>{// Nếu lỗi là 401 (Unauthorized), thử lại với token mới\nif(error.response&&error.response.status===401){// Thông báo chi tiết hơn cho người dùng\nconsole.error(\"Authentication error:\",error.response.data);// Lưu URL hiện tại trước khi chuyển hướng\nlocalStorage.setItem('redirectAfterLogin',window.location.pathname);// Kiểm tra có phải là lỗi token hết hạn không\nconst errorMessage=error.response.data.message;if(errorMessage.includes('hết hạn')||errorMessage.includes('không hợp lệ')){alert('Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.');// Xóa token cũ\nlocalStorage.removeItem('auth_token');localStorage.removeItem('user');// Điều hướng đến trang đăng nhập\nwindow.location.href='/login';}}return Promise.reject(error);});// Example API calls\nconst fetchRecipes=async()=>{const response=await api.get('/recipes');return response.data;};const fetchRecipeById=async id=>{const response=await api.get(\"/recipes/\".concat(id));return response.data;};const createRecipe=async recipeData=>{const response=await api.post('/recipes',recipeData);return response.data;};const updateRecipe=async(id,recipeData)=>{const response=await api.put(\"/recipes/\".concat(id),recipeData);return response.data;};const deleteRecipe=async id=>{const response=await api.delete(\"/recipes/\".concat(id));return response.data;};/* harmony default export */ var services_api = (api);\n// CONCATENATED MODULE: ./src/services/authService.js\nconst authService={// Đăng nhập bằng Google\ngoogleLogin:async tokenId=>{try{console.log(\"Attempting to log in with token:\",tokenId?\"Token exists\":\"No token\");const response=await services_api.post('/auth/google',{tokenId});console.log(\"Login response:\",response.data);// Lưu thông tin đăng nhập vào localStorage\nif(response.data.token){localStorage.setItem('auth_token',response.data.token);localStorage.setItem('user',JSON.stringify(response.data.user));}return response.data;}catch(error){console.error(\"Google login error:\",error);throw error.response?error.response.data:error;}},// Lấy thông tin người dùng hiện tại\ngetCurrentUser:async()=>{try{const response=await services_api.get('/auth/me');return response.data;}catch(error){throw error.response?error.response.data:error;}},// Đăng xuất\nlogout:()=>{localStorage.removeItem('auth_token');localStorage.removeItem('user');},// Kiểm tra nếu đã đăng nhập\nisAuthenticated:()=>{return!!localStorage.getItem('auth_token');},// Lấy thông tin người dùng từ localStorage\ngetUser:()=>{return JSON.parse(localStorage.getItem('user'));},// Kiểm tra nếu là admin\nisAdmin:()=>{const user=authService.getUser();return user&&user.role==='admin';}};/* harmony default export */ var services_authService = (authService);\n// EXTERNAL MODULE: ./node_modules/jwt-decode/build/esm/index.js\nvar esm = __webpack_require__(21);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(1);\n\n// CONCATENATED MODULE: ./src/context/AuthContext.jsx\nconst AuthContext=/*#__PURE__*/Object(react[\"createContext\"])();const AuthProvider=_ref=>{let{children}=_ref;const[currentUser,setCurrentUser]=Object(react[\"useState\"])(null);const[loading,setLoading]=Object(react[\"useState\"])(true);const[error,setError]=Object(react[\"useState\"])(null);const[isAuthenticated,setIsAuthenticated]=Object(react[\"useState\"])(false);// Kiểm tra trạng thái đăng nhập khi component mount\nObject(react[\"useEffect\"])(()=>{const checkAuthStatus=async()=>{try{const storedUser=localStorage.getItem('user');const token=localStorage.getItem('auth_token');if(token&&storedUser){// Kiểm tra token hết hạn\nconst decodedToken=Object(esm[\"a\" /* jwtDecode */])(token);if(decodedToken.exp*1000<Date.now()){// Token hết hạn\nservices_authService.logout();setCurrentUser(null);setIsAuthenticated(false);}else{// Token còn hạn\nsetCurrentUser(JSON.parse(storedUser));setIsAuthenticated(true);// Cập nhật thông tin người dùng từ server\ntry{const userData=await services_authService.getCurrentUser();setCurrentUser(userData.data);}catch(err){console.log(\"Could not fetch updated user info\");}}}}catch(err){console.error(\"Auth check error:\",err);services_authService.logout();setCurrentUser(null);setIsAuthenticated(false);}finally{setLoading(false);}};checkAuthStatus();},[]);// Đăng nhập với Google\nconst loginWithGoogle=async tokenId=>{try{setError(null);setLoading(true);const result=await services_authService.googleLogin(tokenId);setCurrentUser(result.user);setIsAuthenticated(true);return result;}catch(err){setError(err.message||\"Login failed\");throw err;}finally{setLoading(false);}};// Đăng xuất\nconst logout=()=>{services_authService.logout();setCurrentUser(null);setIsAuthenticated(false);};// Context value\nconst value={currentUser,loading,error,isAuthenticated,loginWithGoogle,logout};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:value,children:children});};\n// EXTERNAL MODULE: ./src/App.css\nvar App = __webpack_require__(47);\n\n// CONCATENATED MODULE: ./src/services/recipeService.js\nconst getAllRecipes=async()=>{try{const response=await services_api.get('/recipes');return response.data;}catch(error){throw new Error('Error fetching recipes: '+error.message);}};const getRecipeById=async id=>{try{const response=await services_api.get(\"/recipes/\".concat(id));return response.data;}catch(error){throw new Error('Error fetching recipe: '+error.message);}};const recipeService_createRecipe=async formData=>{try{// In log để kiểm tra formData\nfor(let[key,value]of formData.entries()){if(key!=='recipe'&&!key.startsWith('step_')){console.log(key,value);}else{console.log(key,\"File object\");}}// Đảm bảo gửi kèm token xác thực\nconst token=localStorage.getItem('auth_token');if(!token){throw new Error('Không tìm thấy token xác thực');}const response=await fetch('http://localhost:5000/api/recipes',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});const data=await response.json();console.log(\"API response:\",data);if(!response.ok){throw new Error(data.message||'Có lỗi xảy ra khi tạo công thức');}return data;}catch(error){console.error(\"Error in createRecipe:\",error);throw error;}};const recipeService_updateRecipe=async(id,recipeData)=>{try{const response=await services_api.put(\"/recipes/\".concat(id),recipeData);return response.data;}catch(error){throw new Error('Error updating recipe: '+error.message);}};const recipeService_deleteRecipe=async id=>{try{const response=await services_api.delete(\"/recipes/\".concat(id));return response.data;}catch(error){throw new Error('Error deleting recipe: '+error.message);}};\n// CONCATENATED MODULE: ./src/pages/CreateRecipePage.jsx\nconst CreateRecipePage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const[title,setTitle]=Object(react[\"useState\"])('');const[image,setImage]=Object(react[\"useState\"])(null);const[cookingTime,setCookingTime]=Object(react[\"useState\"])('');const[thoughts,setThoughts]=Object(react[\"useState\"])('');const[ingredients,setIngredients]=Object(react[\"useState\"])([{name:'jnndkndk',quantity:'1',unit:'g'}]);const[steps,setSteps]=Object(react[\"useState\"])([{description:'njdnkndk'}]);const[loading,setLoading]=Object(react[\"useState\"])(false);const[error,setError]=Object(react[\"useState\"])(null);Object(react[\"useEffect\"])(()=>{// Nếu có dữ liệu đã lưu, khôi phục\nconst savedForm=localStorage.getItem('recipeFormData');if(savedForm){try{const formData=JSON.parse(savedForm);setTitle(formData.title||'');setCookingTime(formData.cookingTime||'');setThoughts(formData.thoughts||'');setIngredients(formData.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(formData.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('recipeFormData');alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");}catch(e){console.error(\"Error restoring form:\",e);}}},[]);Object(react[\"useEffect\"])(()=>{// Kiểm tra xem có dữ liệu đã lưu không\nconst savedData=localStorage.getItem('pendingRecipeData');if(savedData){try{const data=JSON.parse(savedData);setTitle(data.title||'');setCookingTime(data.cookingTime||'');setThoughts(data.thoughts||'');setIngredients(data.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(data.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('pendingRecipeData');alert('Đã khôi phục công thức bạn đang soạn trước đó!');}catch(e){console.error('Error restoring recipe data:',e);}}},[]);// Tự động lưu form data mỗi 30 giây\nObject(react[\"useEffect\"])(()=>{const autoSaveInterval=setInterval(()=>{if(title||cookingTime||ingredients.length>1||steps.length>1){const formData={title,cookingTime,thoughts,ingredients,steps:steps.map(step=>({description:step.description}))};localStorage.setItem('pendingRecipeData',JSON.stringify(formData));console.log('Form data auto-saved');}},30000);return()=>clearInterval(autoSaveInterval);},[title,cookingTime,thoughts,ingredients,steps]);// Xử lý thêm nguyên liệu\nconst handleAddIngredient=()=>{setIngredients([...ingredients,{name:'',quantity:'',unit:''}]);};// Xử lý thêm bước\nconst handleAddStep=()=>{setSteps([...steps,{description:''}]);};// Xử lý thay đổi nguyên liệu\nconst handleIngredientChange=(index,field,value)=>{const newIngredients=[...ingredients];newIngredients[index][field]=value;setIngredients(newIngredients);};// Xử lý thay đổi bước\nconst handleStepChange=(index,value)=>{const newSteps=[...steps];newSteps[index].description=value;setSteps(newSteps);};// Xử lý thay đổi hình ảnh bước\nconst handleStepImageChange=(index,e)=>{const file=e.target.files[0];if(file){const updatedSteps=[...steps];updatedSteps[index].image=file;setSteps(updatedSteps);}};// Xử lý thay đổi vị trí bước\nconst handleMoveStep=(index,direction)=>{const newIndex=index+direction;if(newIndex<0||newIndex>=steps.length)return;const updatedSteps=[...steps];const step=updatedSteps[index];updatedSteps.splice(index,1);updatedSteps.splice(newIndex,0,step);setSteps(updatedSteps);};// Xử lý thay đổi hình ảnh công thức\nconst handleImageChange=e=>{const file=e.target.files[0];setImage(file);};// Xử lý xóa nguyên liệu\nconst handleRemoveIngredient=index=>{const updatedIngredients=[...ingredients];updatedIngredients.splice(index,1);setIngredients(updatedIngredients);};// Xử lý xóa bước\nconst handleRemoveStep=index=>{const updatedSteps=[...steps];updatedSteps.splice(index,1);setSteps(updatedSteps);};// Lưu form data vào localStorage\nconst saveFormToLocalStorage=()=>{const formData={title,cookingTime,thoughts,ingredients,steps:steps.map(step=>({description:step.description}))// Không thể lưu file objects\n};localStorage.setItem('recipeFormData',JSON.stringify(formData));};// Sửa đổi hàm handleSubmit\nconst handleSubmit=async function(e){let isDraft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;e.preventDefault();// Kiểm tra người dùng đã đăng nhập chưa\nconst token=localStorage.getItem('auth_token');if(!token){alert('Bạn cần đăng nhập để đăng công thức');navigate('/login');return;}// Kiểm tra dữ liệu\nif(!isDraft&&(!title||!cookingTime||ingredients.length===0||steps.length===0)){setError('Vui lòng nhập đầy đủ thông tin bắt buộc');return;}try{setLoading(true);setError(null);// Tạo FormData\nconst formData=new FormData();formData.append('title',title);formData.append('cookingTime',cookingTime);formData.append('thoughts',thoughts||'');// Log để kiểm tra\nconsole.log(\"===== SUBMITTING RECIPE =====\");console.log(\"Title:\",title);console.log(\"Cooking time:\",cookingTime);console.log(\"Ingredients:\",JSON.stringify(ingredients));console.log(\"Steps:\",JSON.stringify(steps));// Đảm bảo ingredients và steps là chuỗi JSON hợp lệ và có dữ liệu\nif(ingredients.length===0||!ingredients[0].name){setError('Vui lòng thêm ít nhất một nguyên liệu');setLoading(false);return;}if(steps.length===0||!steps[0].description){setError('Vui lòng thêm ít nhất một bước nấu');setLoading(false);return;}formData.append('ingredients',JSON.stringify(ingredients));formData.append('steps',JSON.stringify(steps));// Thêm ảnh nếu có\nif(image){formData.append('recipe',image);}// Gửi yêu cầu trực tiếp thay vì dùng service\nconst response=await fetch('http://localhost:5000/api/recipes',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});// Log response để debug\nconsole.log(\"Response status:\",response.status);const result=await response.json();console.log(\"Response data:\",result);if(response.ok){// Xóa dữ liệu form đã lưu\nlocalStorage.removeItem('recipeFormData');localStorage.removeItem('pendingRecipeData');// Hiển thị thông báo thành công\nalert('Công thức đã được đăng thành công và đang chờ duyệt!');// Chuyển hướng về trang chủ\nnavigate('/');}else{throw new Error(result.message||'Không thể tạo công thức');}}catch(err){console.error(\"Error submitting form:\",err);setError(\"L\\u1ED7i: \".concat(err.message));}finally{setLoading(false);}};// Sửa đổi hàm handleSubmitNoAuth\nconst handleSubmitNoAuth=async e=>{e.preventDefault();// Kiểm tra dữ liệu cơ bản\nif(!title){setError('Vui lòng nhập tên món ăn');return;}try{setLoading(true);setError(null);// Dùng API endpoint test thay vì endpoint chính\nconst testData={title,cookingTime,thoughts,ingredients,steps};console.log(\"TEST SUBMIT: Sending data to test endpoint\");console.log(\"Data:\",testData);// Gửi request đến endpoint test không cần xác thực\nconst response=await fetch('http://localhost:5000/api/test/save-recipe',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(testData)});console.log(\"Response status:\",response.status);const result=await response.json();console.log(\"Response data:\",result);if(response.ok){// Xóa dữ liệu form đã lưu\nlocalStorage.removeItem('recipeFormData');localStorage.removeItem('pendingRecipeData');// Thông báo thành công\nalert(\"C\\xF4ng th\\u1EE9c test \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c l\\u01B0u th\\xE0nh c\\xF4ng! ID: \".concat(result.recipeId));// Chuyển hướng về trang chủ\nnavigate('/');}else{throw new Error(result.message||'Không thể lưu công thức test');}}catch(err){console.error(\"Error in test submission:\",err);setError(\"L\\u1ED7i g\\u1EEDi th\\u1EED nghi\\u1EC7m: \".concat(err.message));}finally{setLoading(false);}};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"create-recipe-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"recipe-form\",onSubmit:e=>handleSubmit(e,false),children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"title\",children:\"T\\xEAn m\\xF3n \\u0103n *\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",id:\"title\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Nh\\u1EADp t\\xEAn m\\xF3n \\u0103n\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"image\",children:\"H\\xECnh \\u1EA3nh m\\xF3n \\u0103n\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",id:\"image\",accept:\"image/*\",onChange:handleImageChange})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"cookingTime\",children:\"Th\\u1EDDi gian n\\u1EA5u (ph\\xFAt) *\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",id:\"cookingTime\",value:cookingTime,onChange:e=>setCookingTime(e.target.value),min:\"1\",placeholder:\"Nh\\u1EADp th\\u1EDDi gian n\\u1EA5u\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Nguy\\xEAn li\\u1EC7u *\"}),ingredients.map((ingredient,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"ingredient-row\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"T\\xEAn nguy\\xEAn li\\u1EC7u\",value:ingredient.name,onChange:e=>handleIngredientChange(index,'name',e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"S\\u1ED1 l\\u01B0\\u1EE3ng\",value:ingredient.quantity,onChange:e=>handleIngredientChange(index,'quantity',e.target.value),required:true}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"\\u0110\\u01A1n v\\u1ECB (g, ml...)\",value:ingredient.unit,onChange:e=>handleIngredientChange(index,'unit',e.target.value)})]},index)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"Th\\xEAm nguy\\xEAn li\\u1EC7u\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"C\\xE1c b\\u01B0\\u1EDBc *\"}),steps.map((step,index)=>/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"step-row\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"B\\u01B0\\u1EDBc \".concat(index+1),value:step.description||'',onChange:e=>handleStepChange(index,e.target.value),required:true})},index)),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",onClick:handleAddStep,children:\"Th\\xEAm b\\u01B0\\u1EDBc\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"thoughts\",children:\"Suy ngh\\u0129 v\\xE0 c\\u1EA3m nh\\u1EADn v\\u1EC1 m\\xF3n \\u0103n\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{id:\"thoughts\",value:thoughts||'',onChange:e=>setThoughts(e.target.value),placeholder:\"Chia s\\u1EBB c\\xE2u chuy\\u1EC7n, c\\u1EA3m nh\\u1EADn c\\u1EE7a b\\u1EA1n v\\u1EC1 m\\xF3n \\u0103n n\\xE0y...\",rows:4})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"secondary-button\",onClick:e=>handleSubmit(e,true),disabled:loading,children:\"L\\u01B0u nh\\xE1p\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",className:\"primary-button\",disabled:loading,children:loading?'Đang xử lý...':'Đăng công thức'}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:\"test-button\",onClick:handleSubmitNoAuth,disabled:loading,children:\"Test Submit (Kh\\xF4ng x\\xE1c th\\u1EF1c)\"})]})]})]});};/* harmony default export */ var pages_CreateRecipePage = (CreateRecipePage);\n// CONCATENATED MODULE: ./src/App.js\n// Placeholder components for each page\nconst LoginPage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const handleGoogleLogin=()=>{// In a real app, this would trigger Google OAuth\n// For now, we'll just simulate a successful login and redirect\nconsole.log(\"Google login clicked\");navigate('/');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login Page\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"google-login-btn\",onClick:handleGoogleLogin,children:\"Login with Google\"})})]});};// Fix the HomePage component\nconst HomePage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const[searchQuery,setSearchQuery]=Object(react[\"useState\"])(\"\");const{currentUser,logout}=Object(react[\"useContext\"])(AuthContext);const handleCreateRecipe=()=>{navigate('/create');};const handleSearch=()=>{if(searchQuery.trim()){navigate(\"/search?q=\".concat(searchQuery));}};const handleLogout=()=>{logout();navigate('/login');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page home-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Personal Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\",value:searchQuery,onChange:e=>setSearchQuery(e.target.value)}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:handleSearch,children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-section\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar\",children:currentUser!==null&&currentUser!==void 0&&currentUser.picture?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"img\",{src:currentUser.picture,alt:\"Profile\",className:\"avatar-img\"}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-avatar\",children:\"Avatar\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:(currentUser===null||currentUser===void 0?void 0:currentUser.name)||\"User Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"user-email\",children:(currentUser===null||currentUser===void 0?void 0:currentUser.email)||\"email@example.com\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"logout-btn\",onClick:handleLogout,children:\"Logout\"})]})]})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-stats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Followers: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Following: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"action-buttons\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"create-post-btn\",onClick:handleCreateRecipe,children:\"Create New Recipe\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"posts-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Your Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No recipes yet. Create your first recipe!\"})]})]});};const SearchResultsPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page search-results-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Search Results\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search recipes or users...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"filters\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Users\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Ingredients\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Cooking Methods\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"results-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No results found.\"})})]});const CreatePostPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page create-post-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Create New Recipe\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:\"recipe-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Recipe Name*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Upload Image\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"file\",accept:\"image/*\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Ingredients*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Enter ingredients with measurements\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Cooking Time*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"number\",min:\"1\",placeholder:\"Minutes\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Cooking Steps*\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Describe the steps to prepare this recipe\",required:true})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-group\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{children:\"Your Thoughts\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Share your thoughts about this recipe\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",children:\"Save as Draft\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"submit\",children:\"Publish\"})]})]})]});const RecipeDetailPage=()=>{const navigate=Object(dist[\"q\" /* useNavigate */])();const{id}=Object(dist[\"s\" /* useParams */])();const handleChatbotClick=()=>{navigate(\"/chatbot/\".concat(id));};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page recipe-detail-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Recipe Details\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Recipe Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-meta\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"By: User\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"span\",{children:\"Cooking Time: 0 mins\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"recipe-image\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-image\",children:\"Recipe Image\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-ingredients\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Ingredients\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No ingredients listed.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-steps\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Instructions\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No instructions provided.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-actions\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Like\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Save\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Share\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Export as PDF\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"chatbot-btn\",children:\"Ask Chatbot\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"recipe-comments\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Comments\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"comment-form\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"textarea\",{placeholder:\"Add a comment...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Post\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"comments-list\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No comments yet.\"})})]})]});};const ChatbotPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page chatbot-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Recipe Assistant Chatbot\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-container\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"chat-messages\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"message bot\",children:\"Hello! I'm your recipe assistant. Ask me anything about this recipe!\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"chat-input\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Type your question...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Send\"})]})]})]});const UserProfilePage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page user-profile-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-header\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"profile-avatar\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"placeholder-avatar\",children:\"User Avatar\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-info\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Name\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"profile-stats\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Followers: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Following: 0\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"stat\",children:\"Posts: 0\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{className:\"follow-btn\",children:\"Follow\"})]})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-recipes\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h3\",{children:\"Recipes\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"recipes-grid\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No recipes published yet.\"})})]})]});const AdminPage=()=>/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page admin-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Admin Dashboard\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"admin-sections\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"reports-section\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Reports\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No pending reports.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"content-moderation\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"Content Moderation\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No content waiting for review.\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-management\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"User Management\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"user-search\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"text\",placeholder:\"Search users...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Search\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"No users found.\"})]})]})]});const LoginPageWrapper=_ref=>{let{setIsLoggedIn}=_ref;const navigate=Object(dist[\"q\" /* useNavigate */])();const[error,setError]=Object(react[\"useState\"])('');const{loginWithGoogle}=Object(react[\"useContext\"])(AuthContext);const handleGoogleSuccess=async credentialResponse=>{try{// Process the Google response through your AuthContext\nawait loginWithGoogle(credentialResponse.credential);setIsLoggedIn(true);navigate('/');}catch(err){setError('Authentication failed. Please try again.');console.error(err);}};const handleGoogleError=()=>{setError('Google Sign-In failed. Please try again.');};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:\"page login-page\",children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Login Page\"}),error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"login-container\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"a\" /* GoogleLogin */],{onSuccess:handleGoogleSuccess,onError:handleGoogleError,useOneTap:true,theme:\"filled_blue\",text:\"signin_with\",shape:\"pill\"})})]});};function App_App(){const[isLoggedIn,setIsLoggedIn]=Object(react[\"useState\"])(false);const[isAdmin,setIsAdmin]=Object(react[\"useState\"])(true);// Check authentication status on mount and when currentUser changes\nObject(react[\"useEffect\"])(()=>{// Check if there's a token in localStorage\nconst token=localStorage.getItem('auth_token');if(token){setIsLoggedIn(true);}else{setIsLoggedIn(false);}},[]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_esm[\"b\" /* GoogleOAuthProvider */],{clientId:\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom_dist[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:\"App\",children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(dist[\"d\" /* Routes */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/login\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(LoginPageWrapper,{setIsLoggedIn:setIsLoggedIn})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(HomePage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/search\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(SearchResultsPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/create-recipe\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CreatePostPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/create\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/create-recipe\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/recipe/:id\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(RecipeDetailPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/chatbot/:recipeId\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(ChatbotPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/profile/:id\",element:isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(UserProfilePage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"/admin\",element:isLoggedIn&&isAdmin?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AdminPage,{}):/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/login\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"b\" /* Route */],{path:\"*\",element:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(dist[\"a\" /* Navigate */],{to:\"/\"})})]})})})})});}/* harmony default export */ var src_App = (App_App);\n// CONCATENATED MODULE: ./src/index.js\n// Kiểm tra lỗi\ntry{const rootElement=document.getElementById(\"root\");const root=Object(client[\"createRoot\"])(rootElement);root.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_default.a.StrictMode,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})}));}catch(error){console.error(\"React rendering error:\",error);// Hiển thị thông báo lỗi trên giao diện\ndocument.getElementById(\"root\").innerHTML=\"\\n    <div style=\\\"color: red; margin: 20px;\\\">\\n      <h2>Error initializing app</h2>\\n      <p>\".concat(error.message,\"</p>\\n      <p>Please check the console for more details.</p>\\n    </div>\\n  \");}\n\n/***/ })\n\n},[[48,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\Lenovo\\Documents\\web_SE\\recipe-sharing-app\\src\\App.css","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/api.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/authService.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/context/AuthContext.jsx","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/recipeService.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/pages/CreateRecipePage.jsx","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/App.js","C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/index.js"],"names":["API_BASE_URL","process","api","axios","create","baseURL","headers","interceptors","request","use","config","token","localStorage","getItem","concat","error","Promise","reject","response","status","console","data","setItem","window","location","pathname","errorMessage","message","includes","alert","removeItem","href","fetchRecipes","get","fetchRecipeById","id","createRecipe","recipeData","post","updateRecipe","put","deleteRecipe","delete","authService","googleLogin","tokenId","log","JSON","stringify","user","getCurrentUser","logout","isAuthenticated","getUser","parse","isAdmin","role","AuthContext","createContext","AuthProvider","_ref","children","currentUser","setCurrentUser","useState","loading","setLoading","setError","setIsAuthenticated","useEffect","checkAuthStatus","storedUser","decodedToken","jwtDecode","exp","Date","now","userData","err","loginWithGoogle","result","value","_jsx","Provider","getAllRecipes","Error","getRecipeById","formData","key","entries","startsWith","fetch","method","body","json","ok","CreateRecipePage","navigate","useNavigate","title","setTitle","image","setImage","cookingTime","setCookingTime","thoughts","setThoughts","ingredients","setIngredients","name","quantity","unit","steps","setSteps","description","savedForm","e","savedData","autoSaveInterval","setInterval","length","map","step","clearInterval","handleAddIngredient","handleAddStep","handleIngredientChange","index","field","newIngredients","handleStepChange","newSteps","handleStepImageChange","file","target","files","updatedSteps","handleMoveStep","direction","newIndex","splice","handleImageChange","handleRemoveIngredient","updatedIngredients","handleRemoveStep","saveFormToLocalStorage","handleSubmit","isDraft","arguments","undefined","preventDefault","FormData","append","handleSubmitNoAuth","testData","recipeId","_jsxs","className","onSubmit","htmlFor","type","onChange","placeholder","required","accept","min","ingredient","onClick","rows","disabled","LoginPage","handleGoogleLogin","HomePage","searchQuery","setSearchQuery","useContext","handleCreateRecipe","handleSearch","trim","handleLogout","picture","src","alt","email","SearchResultsPage","CreatePostPage","RecipeDetailPage","useParams","handleChatbotClick","ChatbotPage","UserProfilePage","AdminPage","LoginPageWrapper","setIsLoggedIn","handleGoogleSuccess","credentialResponse","credential","handleGoogleError","GoogleLogin","onSuccess","onError","useOneTap","theme","text","shape","App","isLoggedIn","setIsAdmin","GoogleOAuthProvider","clientId","BrowserRouter","Routes","Route","path","element","Navigate","to","rootElement","document","getElementById","root","createRoot","render","React","StrictMode","innerHTML"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin","import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_BASE_URL || 'http://localhost:5000/api';\n\n// Tạo instance axios với cấu hình mặc định\nconst api = axios.create({\n    baseURL: API_BASE_URL,\n    headers: {\n        'Content-Type': 'application/json',\n    },\n});\n\n// Thêm interceptors để xử lý token authentication\napi.interceptors.request.use(\n    (config) => {\n        const token = localStorage.getItem('auth_token');\n        if (token) {\n            config.headers['Authorization'] = `Bearer ${token}`;\n        }\n        return config;\n    },\n    (error) => {\n        return Promise.reject(error);\n    }\n);\n\n// Xử lý response và error global\napi.interceptors.response.use(\n    (response) => {\n        return response;\n    },\n    async (error) => {\n        // Nếu lỗi là 401 (Unauthorized), thử lại với token mới\n        if (error.response && error.response.status === 401) {\n            // Thông báo chi tiết hơn cho người dùng\n            console.error(\"Authentication error:\", error.response.data);\n            \n            // Lưu URL hiện tại trước khi chuyển hướng\n            localStorage.setItem('redirectAfterLogin', window.location.pathname);\n            \n            // Kiểm tra có phải là lỗi token hết hạn không\n            const errorMessage = error.response.data.message;\n            if (errorMessage.includes('hết hạn') || errorMessage.includes('không hợp lệ')) {\n                alert('Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.');\n                \n                // Xóa token cũ\n                localStorage.removeItem('auth_token');\n                localStorage.removeItem('user');\n                \n                // Điều hướng đến trang đăng nhập\n                window.location.href = '/login';\n            }\n        }\n        return Promise.reject(error);\n    }\n);\n\n// Example API calls\nexport const fetchRecipes = async () => {\n    const response = await api.get('/recipes');\n    return response.data;\n};\n\nexport const fetchRecipeById = async (id) => {\n    const response = await api.get(`/recipes/${id}`);\n    return response.data;\n};\n\nexport const createRecipe = async (recipeData) => {\n    const response = await api.post('/recipes', recipeData);\n    return response.data;\n};\n\nexport const updateRecipe = async (id, recipeData) => {\n    const response = await api.put(`/recipes/${id}`, recipeData);\n    return response.data;\n};\n\nexport const deleteRecipe = async (id) => {\n    const response = await api.delete(`/recipes/${id}`);\n    return response.data;\n};\n\nexport default api;","import api from './api';\n\nconst authService = {\n    // Đăng nhập bằng Google\n    googleLogin: async (tokenId) => {\n        try {\n            console.log(\"Attempting to log in with token:\", tokenId ? \"Token exists\" : \"No token\");\n            const response = await api.post('/auth/google', { tokenId });\n            console.log(\"Login response:\", response.data);\n            \n            // Lưu thông tin đăng nhập vào localStorage\n            if (response.data.token) {\n                localStorage.setItem('auth_token', response.data.token);\n                localStorage.setItem('user', JSON.stringify(response.data.user));\n            }\n            \n            return response.data;\n        } catch (error) {\n            console.error(\"Google login error:\", error);\n            throw error.response ? error.response.data : error;\n        }\n    },\n\n    // Lấy thông tin người dùng hiện tại\n    getCurrentUser: async () => {\n        try {\n            const response = await api.get('/auth/me');\n            return response.data;\n        } catch (error) {\n            throw error.response ? error.response.data : error;\n        }\n    },\n\n    // Đăng xuất\n    logout: () => {\n        localStorage.removeItem('auth_token');\n        localStorage.removeItem('user');\n    },\n\n    // Kiểm tra nếu đã đăng nhập\n    isAuthenticated: () => {\n        return !!localStorage.getItem('auth_token');\n    },\n\n    // Lấy thông tin người dùng từ localStorage\n    getUser: () => {\n        return JSON.parse(localStorage.getItem('user'));\n    },\n\n    // Kiểm tra nếu là admin\n    isAdmin: () => {\n        const user = authService.getUser();\n        return user && user.role === 'admin';\n    }\n};\n\nexport default authService;","import React, { createContext, useState, useEffect } from 'react';\nimport authService from '../services/authService';\nimport { jwtDecode } from \"jwt-decode\";\n\nexport const AuthContext = createContext();\n\nexport const AuthProvider = ({ children }) => {\n    const [currentUser, setCurrentUser] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n\n    // Kiểm tra trạng thái đăng nhập khi component mount\n    useEffect(() => {\n        const checkAuthStatus = async () => {\n            try {\n                const storedUser = localStorage.getItem('user');\n                const token = localStorage.getItem('auth_token');\n                \n                if (token && storedUser) {\n                    // Kiểm tra token hết hạn\n                    const decodedToken = jwtDecode(token);\n                    if (decodedToken.exp * 1000 < Date.now()) {\n                        // Token hết hạn\n                        authService.logout();\n                        setCurrentUser(null);\n                        setIsAuthenticated(false);\n                    } else {\n                        // Token còn hạn\n                        setCurrentUser(JSON.parse(storedUser));\n                        setIsAuthenticated(true);\n                        \n                        // Cập nhật thông tin người dùng từ server\n                        try {\n                            const userData = await authService.getCurrentUser();\n                            setCurrentUser(userData.data);\n                        } catch (err) {\n                            console.log(\"Could not fetch updated user info\");\n                        }\n                    }\n                }\n            } catch (err) {\n                console.error(\"Auth check error:\", err);\n                authService.logout();\n                setCurrentUser(null);\n                setIsAuthenticated(false);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuthStatus();\n    }, []);\n\n    // Đăng nhập với Google\n    const loginWithGoogle = async (tokenId) => {\n        try {\n            setError(null);\n            setLoading(true);\n            \n            const result = await authService.googleLogin(tokenId);\n            \n            setCurrentUser(result.user);\n            setIsAuthenticated(true);\n            \n            return result;\n        } catch (err) {\n            setError(err.message || \"Login failed\");\n            throw err;\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    // Đăng xuất\n    const logout = () => {\n        authService.logout();\n        setCurrentUser(null);\n        setIsAuthenticated(false);\n    };\n\n    // Context value\n    const value = {\n        currentUser,\n        loading,\n        error,\n        isAuthenticated,\n        loginWithGoogle,\n        logout,\n    };\n\n    return (\n        <AuthContext.Provider value={value}>\n            {children}\n        </AuthContext.Provider>\n    );\n};","import api from './api';\n\nexport const getAllRecipes = async () => {\n    try {\n        const response = await api.get('/recipes');\n        return response.data;\n    } catch (error) {\n        throw new Error('Error fetching recipes: ' + error.message);\n    }\n};\n\nexport const getRecipeById = async (id) => {\n    try {\n        const response = await api.get(`/recipes/${id}`);\n        return response.data;\n    } catch (error) {\n        throw new Error('Error fetching recipe: ' + error.message);\n    }\n};\n\nexport const createRecipe = async (formData) => {\n  try {\n    // In log để kiểm tra formData\n    for (let [key, value] of formData.entries()) {\n      if (key !== 'recipe' && !key.startsWith('step_')) {\n        console.log(key, value);\n      } else {\n        console.log(key, \"File object\");\n      }\n    }\n\n    // Đảm bảo gửi kèm token xác thực\n    const token = localStorage.getItem('auth_token');\n    if (!token) {\n      throw new Error('Không tìm thấy token xác thực');\n    }\n\n    const response = await fetch('http://localhost:5000/api/recipes', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Bearer ${token}`\n      },\n      body: formData,\n    });\n\n    const data = await response.json();\n    console.log(\"API response:\", data);\n    \n    if (!response.ok) {\n      throw new Error(data.message || 'Có lỗi xảy ra khi tạo công thức');\n    }\n    \n    return data;\n  } catch (error) {\n    console.error(\"Error in createRecipe:\", error);\n    throw error;\n  }\n};\n\nexport const updateRecipe = async (id, recipeData) => {\n    try {\n        const response = await api.put(`/recipes/${id}`, recipeData);\n        return response.data;\n    } catch (error) {\n        throw new Error('Error updating recipe: ' + error.message);\n    }\n};\n\nexport const deleteRecipe = async (id) => {\n    try {\n        const response = await api.delete(`/recipes/${id}`);\n        return response.data;\n    } catch (error) {\n        throw new Error('Error deleting recipe: ' + error.message);\n    }\n};","import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createRecipe } from '../services/recipeService';\n\nconst CreateRecipePage = () => {\n    const navigate = useNavigate();\n    const [title, setTitle] = useState('');\n    const [image, setImage] = useState(null);\n    const [cookingTime, setCookingTime] = useState('');\n    const [thoughts, setThoughts] = useState('');\n    const [ingredients, setIngredients] = useState([{ name: 'jnndkndk', quantity: '1', unit: 'g' }]);\n    const [steps, setSteps] = useState([{ description: 'njdnkndk' }]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        // Nếu có dữ liệu đã lưu, khôi phục\n        const savedForm = localStorage.getItem('recipeFormData');\n        if (savedForm) {\n            try {\n                const formData = JSON.parse(savedForm);\n                setTitle(formData.title || '');\n                setCookingTime(formData.cookingTime || '');\n                setThoughts(formData.thoughts || '');\n                setIngredients(formData.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(formData.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('recipeFormData');\n                alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");\n            } catch (e) {\n                console.error(\"Error restoring form:\", e);\n            }\n        }\n    }, []);\n    \n    useEffect(() => {\n        // Kiểm tra xem có dữ liệu đã lưu không\n        const savedData = localStorage.getItem('pendingRecipeData');\n        if (savedData) {\n            try {\n                const data = JSON.parse(savedData);\n                setTitle(data.title || '');\n                setCookingTime(data.cookingTime || '');\n                setThoughts(data.thoughts || '');\n                setIngredients(data.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(data.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('pendingRecipeData');\n                alert('Đã khôi phục công thức bạn đang soạn trước đó!');\n            } catch (e) {\n                console.error('Error restoring recipe data:', e);\n            }\n        }\n    }, []);\n    \n    // Tự động lưu form data mỗi 30 giây\n    useEffect(() => {\n        const autoSaveInterval = setInterval(() => {\n            if (title || cookingTime || ingredients.length > 1 || steps.length > 1) {\n                const formData = {\n                    title,\n                    cookingTime,\n                    thoughts,\n                    ingredients,\n                    steps: steps.map(step => ({description: step.description}))\n                };\n                localStorage.setItem('pendingRecipeData', JSON.stringify(formData));\n                console.log('Form data auto-saved');\n            }\n        }, 30000);\n        \n        return () => clearInterval(autoSaveInterval);\n    }, [title, cookingTime, thoughts, ingredients, steps]);\n    \n    // Xử lý thêm nguyên liệu\n    const handleAddIngredient = () => {\n        setIngredients([...ingredients, { name: '', quantity: '', unit: '' }]);\n    };\n    \n    // Xử lý thêm bước\n    const handleAddStep = () => {\n        setSteps([...steps, { description: '' }]);\n    };\n    \n    // Xử lý thay đổi nguyên liệu\n    const handleIngredientChange = (index, field, value) => {\n        const newIngredients = [...ingredients];\n        newIngredients[index][field] = value;\n        setIngredients(newIngredients);\n    };\n    \n    // Xử lý thay đổi bước\n    const handleStepChange = (index, value) => {\n        const newSteps = [...steps];\n        newSteps[index].description = value;\n        setSteps(newSteps);\n    };\n    \n    // Xử lý thay đổi hình ảnh bước\n    const handleStepImageChange = (index, e) => {\n        const file = e.target.files[0];\n        if (file) {\n            const updatedSteps = [...steps];\n            updatedSteps[index].image = file;\n            setSteps(updatedSteps);\n        }\n    };\n    \n    // Xử lý thay đổi vị trí bước\n    const handleMoveStep = (index, direction) => {\n        const newIndex = index + direction;\n        if (newIndex < 0 || newIndex >= steps.length) return;\n        \n        const updatedSteps = [...steps];\n        const step = updatedSteps[index];\n        updatedSteps.splice(index, 1);\n        updatedSteps.splice(newIndex, 0, step);\n        setSteps(updatedSteps);\n    };\n    \n    // Xử lý thay đổi hình ảnh công thức\n    const handleImageChange = (e) => {\n        const file = e.target.files[0];\n        setImage(file);\n    };\n    \n    // Xử lý xóa nguyên liệu\n    const handleRemoveIngredient = (index) => {\n        const updatedIngredients = [...ingredients];\n        updatedIngredients.splice(index, 1);\n        setIngredients(updatedIngredients);\n    };\n    \n    // Xử lý xóa bước\n    const handleRemoveStep = (index) => {\n        const updatedSteps = [...steps];\n        updatedSteps.splice(index, 1);\n        setSteps(updatedSteps);\n    };\n    \n    // Lưu form data vào localStorage\n    const saveFormToLocalStorage = () => {\n        const formData = {\n            title,\n            cookingTime,\n            thoughts,\n            ingredients,\n            steps: steps.map(step => ({ description: step.description }))\n            // Không thể lưu file objects\n        };\n        localStorage.setItem('recipeFormData', JSON.stringify(formData));\n    };\n    \n    // Sửa đổi hàm handleSubmit\n    const handleSubmit = async (e, isDraft = false) => {\n        e.preventDefault();\n        \n        // Kiểm tra người dùng đã đăng nhập chưa\n        const token = localStorage.getItem('auth_token');\n        if (!token) {\n            alert('Bạn cần đăng nhập để đăng công thức');\n            navigate('/login');\n            return;\n        }\n        \n        // Kiểm tra dữ liệu\n        if (!isDraft && (!title || !cookingTime || ingredients.length === 0 || steps.length === 0)) {\n            setError('Vui lòng nhập đầy đủ thông tin bắt buộc');\n            return;\n        }\n        \n        try {\n            setLoading(true);\n            setError(null);\n            \n            // Tạo FormData\n            const formData = new FormData();\n            formData.append('title', title);\n            formData.append('cookingTime', cookingTime);\n            formData.append('thoughts', thoughts || '');\n            \n            // Log để kiểm tra\n            console.log(\"===== SUBMITTING RECIPE =====\");\n            console.log(\"Title:\", title);\n            console.log(\"Cooking time:\", cookingTime);\n            console.log(\"Ingredients:\", JSON.stringify(ingredients));\n            console.log(\"Steps:\", JSON.stringify(steps));\n            \n            // Đảm bảo ingredients và steps là chuỗi JSON hợp lệ và có dữ liệu\n            if (ingredients.length === 0 || !ingredients[0].name) {\n                setError('Vui lòng thêm ít nhất một nguyên liệu');\n                setLoading(false);\n                return;\n            }\n            \n            if (steps.length === 0 || !steps[0].description) {\n                setError('Vui lòng thêm ít nhất một bước nấu');\n                setLoading(false);\n                return;\n            }\n            \n            formData.append('ingredients', JSON.stringify(ingredients));\n            formData.append('steps', JSON.stringify(steps));\n            \n            // Thêm ảnh nếu có\n            if (image) {\n                formData.append('recipe', image);\n            }\n            \n            // Gửi yêu cầu trực tiếp thay vì dùng service\n            const response = await fetch('http://localhost:5000/api/recipes', {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                },\n                body: formData\n            });\n            \n            // Log response để debug\n            console.log(\"Response status:\", response.status);\n            const result = await response.json();\n            console.log(\"Response data:\", result);\n            \n            if (response.ok) {\n                // Xóa dữ liệu form đã lưu\n                localStorage.removeItem('recipeFormData');\n                localStorage.removeItem('pendingRecipeData');\n                \n                // Hiển thị thông báo thành công\n                alert('Công thức đã được đăng thành công và đang chờ duyệt!');\n                \n                // Chuyển hướng về trang chủ\n                navigate('/');\n            } else {\n                throw new Error(result.message || 'Không thể tạo công thức');\n            }\n        } catch (err) {\n            console.error(\"Error submitting form:\", err);\n            setError(`Lỗi: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    // Sửa đổi hàm handleSubmitNoAuth\n    const handleSubmitNoAuth = async (e) => {\n        e.preventDefault();\n        \n        // Kiểm tra dữ liệu cơ bản\n        if (!title) {\n            setError('Vui lòng nhập tên món ăn');\n            return;\n        }\n        \n        try {\n            setLoading(true);\n            setError(null);\n            \n            // Dùng API endpoint test thay vì endpoint chính\n            const testData = {\n                title,\n                cookingTime,\n                thoughts,\n                ingredients,\n                steps\n            };\n            \n            console.log(\"TEST SUBMIT: Sending data to test endpoint\");\n            console.log(\"Data:\", testData);\n            \n            // Gửi request đến endpoint test không cần xác thực\n            const response = await fetch('http://localhost:5000/api/test/save-recipe', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(testData)\n            });\n            \n            console.log(\"Response status:\", response.status);\n            const result = await response.json();\n            console.log(\"Response data:\", result);\n            \n            if (response.ok) {\n                // Xóa dữ liệu form đã lưu\n                localStorage.removeItem('recipeFormData');\n                localStorage.removeItem('pendingRecipeData');\n                \n                // Thông báo thành công\n                alert(`Công thức test đã được lưu thành công! ID: ${result.recipeId}`);\n                \n                // Chuyển hướng về trang chủ\n                navigate('/');\n            } else {\n                throw new Error(result.message || 'Không thể lưu công thức test');\n            }\n        } catch (err) {\n            console.error(\"Error in test submission:\", err);\n            setError(`Lỗi gửi thử nghiệm: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"create-recipe-page\">\n            <h1>Tạo công thức mới</h1>\n            {error && <p className=\"error-message\">{error}</p>}\n            \n            <form className=\"recipe-form\" onSubmit={(e) => handleSubmit(e, false)}>\n                {/* Tên món ăn */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"title\">Tên món ăn *</label>\n                    <input \n                        type=\"text\" \n                        id=\"title\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                        placeholder=\"Nhập tên món ăn\"\n                        required\n                    />\n                </div>\n                \n                {/* Hình ảnh */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"image\">Hình ảnh món ăn</label>\n                    <input \n                        type=\"file\" \n                        id=\"image\"\n                        accept=\"image/*\"\n                        onChange={handleImageChange}\n                    />\n                </div>\n                \n                {/* Thời gian nấu */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"cookingTime\">Thời gian nấu (phút) *</label>\n                    <input \n                        type=\"number\" \n                        id=\"cookingTime\"\n                        value={cookingTime}\n                        onChange={(e) => setCookingTime(e.target.value)}\n                        min=\"1\"\n                        placeholder=\"Nhập thời gian nấu\"\n                        required\n                    />\n                </div>\n                \n                {/* Nguyên liệu */}\n                <div className=\"form-group\">\n                    <h3>Nguyên liệu *</h3>\n                    {ingredients.map((ingredient, index) => (\n                        <div key={index} className=\"ingredient-row\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Tên nguyên liệu\"\n                                value={ingredient.name}\n                                onChange={(e) => handleIngredientChange(index, 'name', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Số lượng\"\n                                value={ingredient.quantity}\n                                onChange={(e) => handleIngredientChange(index, 'quantity', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Đơn vị (g, ml...)\"\n                                value={ingredient.unit}\n                                onChange={(e) => handleIngredientChange(index, 'unit', e.target.value)}\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddIngredient}>\n                        Thêm nguyên liệu\n                    </button>\n                </div>\n                \n                {/* Các bước nấu */}\n                <div className=\"form-group\">\n                    <h3>Các bước *</h3>\n                    {steps.map((step, index) => (\n                        <div key={index} className=\"step-row\">\n                            <textarea\n                                placeholder={`Bước ${index + 1}`}\n                                value={step.description || ''} \n                                onChange={(e) => handleStepChange(index, e.target.value)}\n                                required\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddStep}>\n                        Thêm bước\n                    </button>\n                </div>\n                \n                {/* Suy nghĩ và cảm nhận */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"thoughts\">Suy nghĩ và cảm nhận về món ăn</label>\n                    <textarea \n                        id=\"thoughts\"\n                        value={thoughts || ''} \n                        onChange={(e) => setThoughts(e.target.value)}\n                        placeholder=\"Chia sẻ câu chuyện, cảm nhận của bạn về món ăn này...\"\n                        rows={4} \n                    /> \n                </div>\n                \n                {/* Nút hành động */}\n                <div className=\"form-actions\">\n                    <button \n                        type=\"button\" \n                        className=\"secondary-button\"\n                        onClick={(e) => handleSubmit(e, true)}\n                        disabled={loading}\n                    >\n                        Lưu nháp\n                    </button>\n                    \n                    <button \n                        type=\"submit\" \n                        className=\"primary-button\"\n                        disabled={loading}\n                    >\n                        {loading ? 'Đang xử lý...' : 'Đăng công thức'}\n                    </button>\n                    \n                    <button \n                        type=\"button\" \n                        className=\"test-button\"\n                        onClick={handleSubmitNoAuth}\n                        disabled={loading}\n                    >\n                        Test Submit (Không xác thực)\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default CreateRecipePage;","import React, { useState, useContext, useEffect } from \"react\";\nimport { BrowserRouter, Routes, Route, Navigate, useNavigate, useParams } from \"react-router-dom\";\nimport { GoogleLogin, GoogleOAuthProvider } from '@react-oauth/google';\nimport { AuthContext, AuthProvider } from './context/AuthContext';\nimport './App.css';\nimport CreateRecipePage from './pages/CreateRecipePage';\n\n// Placeholder components for each page\nconst LoginPage = () => {\n  const navigate = useNavigate();\n  \n  const handleGoogleLogin = () => {\n    // In a real app, this would trigger Google OAuth\n    // For now, we'll just simulate a successful login and redirect\n    console.log(\"Google login clicked\");\n    navigate('/');\n  };\n\n  return (\n    <div className=\"page login-page\">\n      <h1>Login Page</h1>\n      <div className=\"login-container\">\n        <button className=\"google-login-btn\" onClick={handleGoogleLogin}>\n          Login with Google\n        </button>\n      </div>\n    </div>\n  );\n};\n\n// Fix the HomePage component\nconst HomePage = () => {\n  const navigate = useNavigate();\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const { currentUser, logout } = useContext(AuthContext);\n  \n  const handleCreateRecipe = () => {\n    navigate('/create');\n  };\n  \n  const handleSearch = () => {\n    if (searchQuery.trim()) {\n      navigate(`/search?q=${searchQuery}`);\n    }\n  };\n  \n  const handleLogout = () => {\n    logout();\n    navigate('/login');\n  };\n  \n  return (\n    <div className=\"page home-page\">\n      <h1>Personal Profile</h1>\n      <div className=\"search-bar\">\n        <input \n          type=\"text\" \n          placeholder=\"Search recipes or users...\" \n          value={searchQuery}\n          onChange={(e) => setSearchQuery(e.target.value)}\n        />\n        <button onClick={handleSearch}>Search</button>\n      </div>\n      \n      <div className=\"profile-section\">\n        <div className=\"profile-header\">\n          <div className=\"profile-avatar\">\n            {currentUser?.picture ? (\n              <img src={currentUser.picture} alt=\"Profile\" className=\"avatar-img\" />\n            ) : (\n              <div className=\"placeholder-avatar\">Avatar</div>\n            )}\n          </div>\n          <div className=\"profile-info\">\n            <h2>{currentUser?.name || \"User Name\"}</h2>\n            <p className=\"user-email\">{currentUser?.email || \"email@example.com\"}</p>\n            <button className=\"logout-btn\" onClick={handleLogout}>Logout</button>\n          </div>\n        </div>\n      </div>\n      \n      <div className=\"profile-stats\">\n        <div className=\"stat\">Followers: 0</div>\n        <div className=\"stat\">Following: 0</div>\n        <div className=\"stat\">Posts: 0</div>\n      </div>\n      \n      <div className=\"action-buttons\">\n        <button className=\"create-post-btn\" onClick={handleCreateRecipe}>Create New Recipe</button>\n      </div>\n      \n      <div className=\"posts-container\">\n        <h2>Your Recipes</h2>\n        <p>No recipes yet. Create your first recipe!</p>\n      </div>\n    </div>\n  );\n};\n\nconst SearchResultsPage = () => (\n  <div className=\"page search-results-page\">\n    <h1>Search Results</h1>\n    <div className=\"search-bar\">\n      <input type=\"text\" placeholder=\"Search recipes or users...\" />\n      <button>Search</button>\n    </div>\n    <div className=\"filters\">\n      <button>Recipes</button>\n      <button>Users</button>\n      <button>Ingredients</button>\n      <button>Cooking Methods</button>\n    </div>\n    <div className=\"results-container\">\n      <p>No results found.</p>\n    </div>\n  </div>\n);\n\nconst CreatePostPage = () => (\n  <div className=\"page create-post-page\">\n    <h1>Create New Recipe</h1>\n    <form className=\"recipe-form\">\n      <div className=\"form-group\">\n        <label>Recipe Name*</label>\n        <input type=\"text\" required />\n      </div>\n      <div className=\"form-group\">\n        <label>Upload Image</label>\n        <input type=\"file\" accept=\"image/*\" />\n      </div>\n      <div className=\"form-group\">\n        <label>Ingredients*</label>\n        <textarea placeholder=\"Enter ingredients with measurements\" required></textarea>\n      </div>\n      <div className=\"form-group\">\n        <label>Cooking Time*</label>\n        <input type=\"number\" min=\"1\" placeholder=\"Minutes\" required />\n      </div>\n      <div className=\"form-group\">\n        <label>Cooking Steps*</label>\n        <textarea placeholder=\"Describe the steps to prepare this recipe\" required></textarea>\n      </div>\n      <div className=\"form-group\">\n        <label>Your Thoughts</label>\n        <textarea placeholder=\"Share your thoughts about this recipe\"></textarea>\n      </div>\n      <div className=\"form-actions\">\n        <button type=\"button\">Save as Draft</button>\n        <button type=\"submit\">Publish</button>\n      </div>\n    </form>\n  </div>\n);\n\nconst RecipeDetailPage = () => {\n  const navigate = useNavigate();\n  const { id } = useParams();\n  \n  const handleChatbotClick = () => {\n    navigate(`/chatbot/${id}`);\n  };\n  return (\n    <div className=\"page recipe-detail-page\">\n      <h1>Recipe Details</h1>\n      <div className=\"recipe-header\">\n        <h2>Recipe Name</h2>\n        <div className=\"recipe-meta\">\n          <span>By: User</span>\n          <span>Cooking Time: 0 mins</span>\n        </div>\n      </div>\n      <div className=\"recipe-image\">\n        <div className=\"placeholder-image\">Recipe Image</div>\n      </div>\n      <div className=\"recipe-ingredients\">\n        <h3>Ingredients</h3>\n        <p>No ingredients listed.</p>\n      </div>\n      <div className=\"recipe-steps\">\n        <h3>Instructions</h3>\n        <p>No instructions provided.</p>\n      </div>\n      <div className=\"recipe-actions\">\n        <button>Like</button>\n        <button>Save</button>\n        <button>Share</button>\n        <button>Export as PDF</button>\n        <button className=\"chatbot-btn\">Ask Chatbot</button>\n      </div>\n      <div className=\"recipe-comments\">\n        <h3>Comments</h3>\n        <div className=\"comment-form\">\n          <textarea placeholder=\"Add a comment...\"></textarea>\n          <button>Post</button>\n        </div>\n        <div className=\"comments-list\">\n          <p>No comments yet.</p>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nconst ChatbotPage = () => (\n  <div className=\"page chatbot-page\">\n    <h1>Recipe Assistant Chatbot</h1>\n    <div className=\"chat-container\">\n      <div className=\"chat-messages\">\n        <div className=\"message bot\">\n          Hello! I'm your recipe assistant. Ask me anything about this recipe!\n        </div>\n      </div>\n      <div className=\"chat-input\">\n        <input type=\"text\" placeholder=\"Type your question...\" />\n        <button>Send</button>\n      </div>\n    </div>\n  </div>\n);\n\nconst UserProfilePage = () => (\n  <div className=\"page user-profile-page\">\n    <h1>User Profile</h1>\n    <div className=\"profile-header\">\n      <div className=\"profile-avatar\">\n        <div className=\"placeholder-avatar\">User Avatar</div>\n      </div>\n      <div className=\"profile-info\">\n        <h2>User Name</h2>\n        <div className=\"profile-stats\">\n          <div className=\"stat\">Followers: 0</div>\n          <div className=\"stat\">Following: 0</div>\n          <div className=\"stat\">Posts: 0</div>\n        </div>\n        <button className=\"follow-btn\">Follow</button>\n      </div>\n    </div>\n    <div className=\"user-recipes\">\n      <h3>Recipes</h3>\n      <div className=\"recipes-grid\">\n        <p>No recipes published yet.</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst AdminPage = () => (\n  <div className=\"page admin-page\">\n    <h1>Admin Dashboard</h1>\n    <div className=\"admin-sections\">\n      <div className=\"reports-section\">\n        <h2>User Reports</h2>\n        <p>No pending reports.</p>\n      </div>\n      <div className=\"content-moderation\">\n        <h2>Content Moderation</h2>\n        <p>No content waiting for review.</p>\n      </div>\n      <div className=\"user-management\">\n        <h2>User Management</h2>\n        <div className=\"user-search\">\n          <input type=\"text\" placeholder=\"Search users...\" />\n          <button>Search</button>\n        </div>\n        <p>No users found.</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst LoginPageWrapper = ({ setIsLoggedIn }) => {\n  const navigate = useNavigate();\n  const [error, setError] = useState('');\n  const { loginWithGoogle } = useContext(AuthContext);\n  \n  const handleGoogleSuccess = async (credentialResponse) => {\n    try {\n      // Process the Google response through your AuthContext\n      await loginWithGoogle(credentialResponse.credential);\n      setIsLoggedIn(true);\n      navigate('/');\n    } catch (err) {\n      setError('Authentication failed. Please try again.');\n      console.error(err);\n    }\n  };\n\n  const handleGoogleError = () => {\n    setError('Google Sign-In failed. Please try again.');\n  };\n  \n  return (\n    <div className=\"page login-page\">\n      <h1>Login Page</h1>\n      {error && <p className=\"error-message\">{error}</p>}\n      <div className=\"login-container\">\n        <GoogleLogin\n          onSuccess={handleGoogleSuccess}\n          onError={handleGoogleError}\n          useOneTap\n          theme=\"filled_blue\"\n          text=\"signin_with\"\n          shape=\"pill\"\n        />\n      </div>\n    </div>\n  );\n};\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(true);\n\n  // Check authentication status on mount and when currentUser changes\n  useEffect(() => {\n    // Check if there's a token in localStorage\n    const token = localStorage.getItem('auth_token');\n    if (token) {\n      setIsLoggedIn(true);\n    } else {\n      setIsLoggedIn(false);\n    }\n  }, []);\n\n  return (\n    <GoogleOAuthProvider clientId=\"202449099306-kkaij5aksnet6l64aahh5ia9o1gb25vk.apps.googleusercontent.com\">\n      <AuthProvider>\n        <BrowserRouter>\n          <div className=\"App\">\n            <Routes>\n              <Route path=\"/login\" element={<LoginPageWrapper setIsLoggedIn={setIsLoggedIn} />} />\n              <Route path=\"/\" element={isLoggedIn ? <HomePage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/search\" element={isLoggedIn ? <SearchResultsPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/create-recipe\" element={isLoggedIn ? <CreatePostPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/create\" element={<Navigate to=\"/create-recipe\" />} />\n              <Route path=\"/recipe/:id\" element={isLoggedIn ? <RecipeDetailPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/chatbot/:recipeId\" element={isLoggedIn ? <ChatbotPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/profile/:id\" element={isLoggedIn ? <UserProfilePage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"/admin\" element={isLoggedIn && isAdmin ? <AdminPage /> : <Navigate to=\"/login\" />} />\n              <Route path=\"*\" element={<Navigate to=\"/\" />} />\n            </Routes>\n          </div>\n        </BrowserRouter>\n      </AuthProvider>\n    </GoogleOAuthProvider>\n  );\n}\nexport default App;","import React from \"react\";\nimport { createRoot } from \"react-dom/client\";\nimport App from \"./App\";\n\n// Kiểm tra lỗi\ntry {\n  const rootElement = document.getElementById(\"root\");\n  const root = createRoot(rootElement);\n  root.render(\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  );\n} catch (error) {\n  console.error(\"React rendering error:\", error);\n  // Hiển thị thông báo lỗi trên giao diện\n  document.getElementById(\"root\").innerHTML = `\n    <div style=\"color: red; margin: 20px;\">\n      <h2>Error initializing app</h2>\n      <p>${error.message}</p>\n      <p>Please check the console for more details.</p>\n    </div>\n  `;\n}"]}}