{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import{createRecipe}from'../services/recipeService';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CreateRecipePage=()=>{const navigate=useNavigate();const[title,setTitle]=useState('');const[image,setImage]=useState(null);const[cookingTime,setCookingTime]=useState('');const[thoughts,setThoughts]=useState('');const[ingredients,setIngredients]=useState([{name:'jnndkndk',quantity:'1',unit:'g'}]);const[steps,setSteps]=useState([{description:'njdnkndk'}]);const[loading,setLoading]=useState(false);const[error,setError]=useState(null);useEffect(()=>{// Nếu có dữ liệu đã lưu, khôi phục\nconst savedForm=localStorage.getItem('recipeFormData');if(savedForm){try{const formData=JSON.parse(savedForm);setTitle(formData.title||'');setCookingTime(formData.cookingTime||'');setThoughts(formData.thoughts||'');setIngredients(formData.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(formData.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('recipeFormData');alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");}catch(e){console.error(\"Error restoring form:\",e);}}},[]);useEffect(()=>{// Kiểm tra xem có dữ liệu đã lưu không\nconst savedData=localStorage.getItem('pendingRecipeData');if(savedData){try{const data=JSON.parse(savedData);setTitle(data.title||'');setCookingTime(data.cookingTime||'');setThoughts(data.thoughts||'');setIngredients(data.ingredients||[{name:'',quantity:'',unit:''}]);setSteps(data.steps||[{description:''}]);// Đã khôi phục xong, xóa data\nlocalStorage.removeItem('pendingRecipeData');alert('Đã khôi phục công thức bạn đang soạn trước đó!');}catch(e){console.error('Error restoring recipe data:',e);}}},[]);// Tự động lưu form data mỗi 30 giây\nuseEffect(()=>{const autoSaveInterval=setInterval(()=>{if(title||cookingTime||ingredients.length>1||steps.length>1){const formData={title,cookingTime,thoughts,ingredients,steps:steps.map(step=>({description:step.description}))};localStorage.setItem('pendingRecipeData',JSON.stringify(formData));console.log('Form data auto-saved');}},30000);return()=>clearInterval(autoSaveInterval);},[title,cookingTime,thoughts,ingredients,steps]);// Xử lý thêm nguyên liệu\nconst handleAddIngredient=()=>{setIngredients([...ingredients,{name:'',quantity:'',unit:''}]);};// Xử lý thêm bước\nconst handleAddStep=()=>{setSteps([...steps,{description:''}]);};// Xử lý thay đổi nguyên liệu\nconst handleIngredientChange=(index,field,value)=>{const newIngredients=[...ingredients];newIngredients[index][field]=value;setIngredients(newIngredients);};// Xử lý thay đổi bước\nconst handleStepChange=(index,value)=>{const newSteps=[...steps];newSteps[index].description=value;setSteps(newSteps);};// Xử lý thay đổi hình ảnh bước\nconst handleStepImageChange=(index,e)=>{const file=e.target.files[0];if(file){const updatedSteps=[...steps];updatedSteps[index].image=file;setSteps(updatedSteps);}};// Xử lý thay đổi vị trí bước\nconst handleMoveStep=(index,direction)=>{const newIndex=index+direction;if(newIndex<0||newIndex>=steps.length)return;const updatedSteps=[...steps];const step=updatedSteps[index];updatedSteps.splice(index,1);updatedSteps.splice(newIndex,0,step);setSteps(updatedSteps);};// Xử lý thay đổi hình ảnh công thức\nconst handleImageChange=e=>{const file=e.target.files[0];setImage(file);};// Xử lý xóa nguyên liệu\nconst handleRemoveIngredient=index=>{const updatedIngredients=[...ingredients];updatedIngredients.splice(index,1);setIngredients(updatedIngredients);};// Xử lý xóa bước\nconst handleRemoveStep=index=>{const updatedSteps=[...steps];updatedSteps.splice(index,1);setSteps(updatedSteps);};// Lưu form data vào localStorage\nconst saveFormToLocalStorage=()=>{const formData={title,cookingTime,thoughts,ingredients,steps:steps.map(step=>({description:step.description}))// Không thể lưu file objects\n};localStorage.setItem('recipeFormData',JSON.stringify(formData));};// Sửa đổi hàm handleSubmit\nconst handleSubmit=async function(e){let isDraft=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;e.preventDefault();// Kiểm tra người dùng đã đăng nhập chưa\nconst token=localStorage.getItem('auth_token');if(!token){alert('Bạn cần đăng nhập để đăng công thức');navigate('/login');return;}// Kiểm tra dữ liệu\nif(!isDraft&&(!title||!cookingTime||ingredients.length===0||steps.length===0)){setError('Vui lòng nhập đầy đủ thông tin bắt buộc');return;}try{setLoading(true);setError(null);// Tạo FormData\nconst formData=new FormData();formData.append('title',title);formData.append('cookingTime',cookingTime);formData.append('thoughts',thoughts||'');// Log để kiểm tra\nconsole.log(\"===== SUBMITTING RECIPE =====\");console.log(\"Title:\",title);console.log(\"Cooking time:\",cookingTime);console.log(\"Ingredients:\",JSON.stringify(ingredients));console.log(\"Steps:\",JSON.stringify(steps));// Đảm bảo ingredients và steps là chuỗi JSON hợp lệ và có dữ liệu\nif(ingredients.length===0||!ingredients[0].name){setError('Vui lòng thêm ít nhất một nguyên liệu');setLoading(false);return;}if(steps.length===0||!steps[0].description){setError('Vui lòng thêm ít nhất một bước nấu');setLoading(false);return;}formData.append('ingredients',JSON.stringify(ingredients));formData.append('steps',JSON.stringify(steps));// Thêm ảnh nếu có\nif(image){formData.append('recipe',image);}// Gửi yêu cầu trực tiếp thay vì dùng service\nconst response=await fetch('http://localhost:5000/api/recipes',{method:'POST',headers:{'Authorization':\"Bearer \".concat(token)},body:formData});// Log response để debug\nconsole.log(\"Response status:\",response.status);const result=await response.json();console.log(\"Response data:\",result);if(response.ok){// Xóa dữ liệu form đã lưu\nlocalStorage.removeItem('recipeFormData');localStorage.removeItem('pendingRecipeData');// Hiển thị thông báo thành công\nalert('Công thức đã được đăng thành công và đang chờ duyệt!');// Chuyển hướng về trang chủ\nnavigate('/');}else{throw new Error(result.message||'Không thể tạo công thức');}}catch(err){console.error(\"Error submitting form:\",err);setError(\"L\\u1ED7i: \".concat(err.message));}finally{setLoading(false);}};// Sửa đổi hàm handleSubmitNoAuth\nconst handleSubmitNoAuth=async e=>{e.preventDefault();// Kiểm tra dữ liệu cơ bản\nif(!title){setError('Vui lòng nhập tên món ăn');return;}try{setLoading(true);setError(null);// Dùng API endpoint test thay vì endpoint chính\nconst testData={title,cookingTime,thoughts,ingredients,steps};console.log(\"TEST SUBMIT: Sending data to test endpoint\");console.log(\"Data:\",testData);// Gửi request đến endpoint test không cần xác thực\nconst response=await fetch('http://localhost:5000/api/test/save-recipe',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(testData)});console.log(\"Response status:\",response.status);const result=await response.json();console.log(\"Response data:\",result);if(response.ok){// Xóa dữ liệu form đã lưu\nlocalStorage.removeItem('recipeFormData');localStorage.removeItem('pendingRecipeData');// Thông báo thành công\nalert(\"C\\xF4ng th\\u1EE9c test \\u0111\\xE3 \\u0111\\u01B0\\u1EE3c l\\u01B0u th\\xE0nh c\\xF4ng! ID: \".concat(result.recipeId));// Chuyển hướng về trang chủ\nnavigate('/');}else{throw new Error(result.message||'Không thể lưu công thức test');}}catch(err){console.error(\"Error in test submission:\",err);setError(\"L\\u1ED7i g\\u1EEDi th\\u1EED nghi\\u1EC7m: \".concat(err.message));}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"create-recipe-page\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"}),error&&/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:error}),/*#__PURE__*/_jsxs(\"form\",{className:\"recipe-form\",onSubmit:e=>handleSubmit(e,false),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"title\",children:\"T\\xEAn m\\xF3n \\u0103n *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"title\",value:title,onChange:e=>setTitle(e.target.value),placeholder:\"Nh\\u1EADp t\\xEAn m\\xF3n \\u0103n\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"H\\xECnh \\u1EA3nh m\\xF3n \\u0103n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",accept:\"image/*\",onChange:handleImageChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"cookingTime\",children:\"Th\\u1EDDi gian n\\u1EA5u (ph\\xFAt) *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",id:\"cookingTime\",value:cookingTime,onChange:e=>setCookingTime(e.target.value),min:\"1\",placeholder:\"Nh\\u1EADp th\\u1EDDi gian n\\u1EA5u\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Nguy\\xEAn li\\u1EC7u *\"}),ingredients.map((ingredient,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"ingredient-row\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEAn nguy\\xEAn li\\u1EC7u\",value:ingredient.name,onChange:e=>handleIngredientChange(index,'name',e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"S\\u1ED1 l\\u01B0\\u1EE3ng\",value:ingredient.quantity,onChange:e=>handleIngredientChange(index,'quantity',e.target.value),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"\\u0110\\u01A1n v\\u1ECB (g, ml...)\",value:ingredient.unit,onChange:e=>handleIngredientChange(index,'unit',e.target.value)})]},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddIngredient,children:\"Th\\xEAm nguy\\xEAn li\\u1EC7u\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"C\\xE1c b\\u01B0\\u1EDBc *\"}),steps.map((step,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"step-row\",children:/*#__PURE__*/_jsx(\"textarea\",{placeholder:\"B\\u01B0\\u1EDBc \".concat(index+1),value:step.description||'',onChange:e=>handleStepChange(index,e.target.value),required:true})},index)),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddStep,children:\"Th\\xEAm b\\u01B0\\u1EDBc\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"thoughts\",children:\"Suy ngh\\u0129 v\\xE0 c\\u1EA3m nh\\u1EADn v\\u1EC1 m\\xF3n \\u0103n\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"thoughts\",value:thoughts||'',onChange:e=>setThoughts(e.target.value),placeholder:\"Chia s\\u1EBB c\\xE2u chuy\\u1EC7n, c\\u1EA3m nh\\u1EADn c\\u1EE7a b\\u1EA1n v\\u1EC1 m\\xF3n \\u0103n n\\xE0y...\",rows:4})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"secondary-button\",onClick:e=>handleSubmit(e,true),disabled:loading,children:\"L\\u01B0u nh\\xE1p\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"primary-button\",disabled:loading,children:loading?'Đang xử lý...':'Đăng công thức'}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"test-button\",onClick:handleSubmitNoAuth,disabled:loading,children:\"Test Submit (Kh\\xF4ng x\\xE1c th\\u1EF1c)\"})]})]})]});};export default CreateRecipePage;","map":{"version":3,"names":["React","useState","useEffect","useNavigate","createRecipe","jsx","_jsx","jsxs","_jsxs","CreateRecipePage","navigate","title","setTitle","image","setImage","cookingTime","setCookingTime","thoughts","setThoughts","ingredients","setIngredients","name","quantity","unit","steps","setSteps","description","loading","setLoading","error","setError","savedForm","localStorage","getItem","formData","JSON","parse","removeItem","alert","e","console","savedData","data","autoSaveInterval","setInterval","length","map","step","setItem","stringify","log","clearInterval","handleAddIngredient","handleAddStep","handleIngredientChange","index","field","value","newIngredients","handleStepChange","newSteps","handleStepImageChange","file","target","files","updatedSteps","handleMoveStep","direction","newIndex","splice","handleImageChange","handleRemoveIngredient","updatedIngredients","handleRemoveStep","saveFormToLocalStorage","handleSubmit","isDraft","arguments","undefined","preventDefault","token","FormData","append","response","fetch","method","headers","concat","body","status","result","json","ok","Error","message","err","handleSubmitNoAuth","testData","recipeId","className","children","onSubmit","htmlFor","type","id","onChange","placeholder","required","accept","min","ingredient","onClick","rows","disabled"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/pages/CreateRecipePage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createRecipe } from '../services/recipeService';\n\nconst CreateRecipePage = () => {\n    const navigate = useNavigate();\n    const [title, setTitle] = useState('');\n    const [image, setImage] = useState(null);\n    const [cookingTime, setCookingTime] = useState('');\n    const [thoughts, setThoughts] = useState('');\n    const [ingredients, setIngredients] = useState([{ name: 'jnndkndk', quantity: '1', unit: 'g' }]);\n    const [steps, setSteps] = useState([{ description: 'njdnkndk' }]);\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(null);\n    \n    useEffect(() => {\n        // Nếu có dữ liệu đã lưu, khôi phục\n        const savedForm = localStorage.getItem('recipeFormData');\n        if (savedForm) {\n            try {\n                const formData = JSON.parse(savedForm);\n                setTitle(formData.title || '');\n                setCookingTime(formData.cookingTime || '');\n                setThoughts(formData.thoughts || '');\n                setIngredients(formData.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(formData.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('recipeFormData');\n                alert(\"Đã khôi phục dữ liệu công thức bạn đang soạn thảo!\");\n            } catch (e) {\n                console.error(\"Error restoring form:\", e);\n            }\n        }\n    }, []);\n    \n    useEffect(() => {\n        // Kiểm tra xem có dữ liệu đã lưu không\n        const savedData = localStorage.getItem('pendingRecipeData');\n        if (savedData) {\n            try {\n                const data = JSON.parse(savedData);\n                setTitle(data.title || '');\n                setCookingTime(data.cookingTime || '');\n                setThoughts(data.thoughts || '');\n                setIngredients(data.ingredients || [{ name: '', quantity: '', unit: '' }]);\n                setSteps(data.steps || [{ description: '' }]);\n                \n                // Đã khôi phục xong, xóa data\n                localStorage.removeItem('pendingRecipeData');\n                alert('Đã khôi phục công thức bạn đang soạn trước đó!');\n            } catch (e) {\n                console.error('Error restoring recipe data:', e);\n            }\n        }\n    }, []);\n    \n    // Tự động lưu form data mỗi 30 giây\n    useEffect(() => {\n        const autoSaveInterval = setInterval(() => {\n            if (title || cookingTime || ingredients.length > 1 || steps.length > 1) {\n                const formData = {\n                    title,\n                    cookingTime,\n                    thoughts,\n                    ingredients,\n                    steps: steps.map(step => ({description: step.description}))\n                };\n                localStorage.setItem('pendingRecipeData', JSON.stringify(formData));\n                console.log('Form data auto-saved');\n            }\n        }, 30000);\n        \n        return () => clearInterval(autoSaveInterval);\n    }, [title, cookingTime, thoughts, ingredients, steps]);\n    \n    // Xử lý thêm nguyên liệu\n    const handleAddIngredient = () => {\n        setIngredients([...ingredients, { name: '', quantity: '', unit: '' }]);\n    };\n    \n    // Xử lý thêm bước\n    const handleAddStep = () => {\n        setSteps([...steps, { description: '' }]);\n    };\n    \n    // Xử lý thay đổi nguyên liệu\n    const handleIngredientChange = (index, field, value) => {\n        const newIngredients = [...ingredients];\n        newIngredients[index][field] = value;\n        setIngredients(newIngredients);\n    };\n    \n    // Xử lý thay đổi bước\n    const handleStepChange = (index, value) => {\n        const newSteps = [...steps];\n        newSteps[index].description = value;\n        setSteps(newSteps);\n    };\n    \n    // Xử lý thay đổi hình ảnh bước\n    const handleStepImageChange = (index, e) => {\n        const file = e.target.files[0];\n        if (file) {\n            const updatedSteps = [...steps];\n            updatedSteps[index].image = file;\n            setSteps(updatedSteps);\n        }\n    };\n    \n    // Xử lý thay đổi vị trí bước\n    const handleMoveStep = (index, direction) => {\n        const newIndex = index + direction;\n        if (newIndex < 0 || newIndex >= steps.length) return;\n        \n        const updatedSteps = [...steps];\n        const step = updatedSteps[index];\n        updatedSteps.splice(index, 1);\n        updatedSteps.splice(newIndex, 0, step);\n        setSteps(updatedSteps);\n    };\n    \n    // Xử lý thay đổi hình ảnh công thức\n    const handleImageChange = (e) => {\n        const file = e.target.files[0];\n        setImage(file);\n    };\n    \n    // Xử lý xóa nguyên liệu\n    const handleRemoveIngredient = (index) => {\n        const updatedIngredients = [...ingredients];\n        updatedIngredients.splice(index, 1);\n        setIngredients(updatedIngredients);\n    };\n    \n    // Xử lý xóa bước\n    const handleRemoveStep = (index) => {\n        const updatedSteps = [...steps];\n        updatedSteps.splice(index, 1);\n        setSteps(updatedSteps);\n    };\n    \n    // Lưu form data vào localStorage\n    const saveFormToLocalStorage = () => {\n        const formData = {\n            title,\n            cookingTime,\n            thoughts,\n            ingredients,\n            steps: steps.map(step => ({ description: step.description }))\n            // Không thể lưu file objects\n        };\n        localStorage.setItem('recipeFormData', JSON.stringify(formData));\n    };\n    \n    // Sửa đổi hàm handleSubmit\n    const handleSubmit = async (e, isDraft = false) => {\n        e.preventDefault();\n        \n        // Kiểm tra người dùng đã đăng nhập chưa\n        const token = localStorage.getItem('auth_token');\n        if (!token) {\n            alert('Bạn cần đăng nhập để đăng công thức');\n            navigate('/login');\n            return;\n        }\n        \n        // Kiểm tra dữ liệu\n        if (!isDraft && (!title || !cookingTime || ingredients.length === 0 || steps.length === 0)) {\n            setError('Vui lòng nhập đầy đủ thông tin bắt buộc');\n            return;\n        }\n        \n        try {\n            setLoading(true);\n            setError(null);\n            \n            // Tạo FormData\n            const formData = new FormData();\n            formData.append('title', title);\n            formData.append('cookingTime', cookingTime);\n            formData.append('thoughts', thoughts || '');\n            \n            // Log để kiểm tra\n            console.log(\"===== SUBMITTING RECIPE =====\");\n            console.log(\"Title:\", title);\n            console.log(\"Cooking time:\", cookingTime);\n            console.log(\"Ingredients:\", JSON.stringify(ingredients));\n            console.log(\"Steps:\", JSON.stringify(steps));\n            \n            // Đảm bảo ingredients và steps là chuỗi JSON hợp lệ và có dữ liệu\n            if (ingredients.length === 0 || !ingredients[0].name) {\n                setError('Vui lòng thêm ít nhất một nguyên liệu');\n                setLoading(false);\n                return;\n            }\n            \n            if (steps.length === 0 || !steps[0].description) {\n                setError('Vui lòng thêm ít nhất một bước nấu');\n                setLoading(false);\n                return;\n            }\n            \n            formData.append('ingredients', JSON.stringify(ingredients));\n            formData.append('steps', JSON.stringify(steps));\n            \n            // Thêm ảnh nếu có\n            if (image) {\n                formData.append('recipe', image);\n            }\n            \n            // Gửi yêu cầu trực tiếp thay vì dùng service\n            const response = await fetch('http://localhost:5000/api/recipes', {\n                method: 'POST',\n                headers: {\n                    'Authorization': `Bearer ${token}`\n                },\n                body: formData\n            });\n            \n            // Log response để debug\n            console.log(\"Response status:\", response.status);\n            const result = await response.json();\n            console.log(\"Response data:\", result);\n            \n            if (response.ok) {\n                // Xóa dữ liệu form đã lưu\n                localStorage.removeItem('recipeFormData');\n                localStorage.removeItem('pendingRecipeData');\n                \n                // Hiển thị thông báo thành công\n                alert('Công thức đã được đăng thành công và đang chờ duyệt!');\n                \n                // Chuyển hướng về trang chủ\n                navigate('/');\n            } else {\n                throw new Error(result.message || 'Không thể tạo công thức');\n            }\n        } catch (err) {\n            console.error(\"Error submitting form:\", err);\n            setError(`Lỗi: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    // Sửa đổi hàm handleSubmitNoAuth\n    const handleSubmitNoAuth = async (e) => {\n        e.preventDefault();\n        \n        // Kiểm tra dữ liệu cơ bản\n        if (!title) {\n            setError('Vui lòng nhập tên món ăn');\n            return;\n        }\n        \n        try {\n            setLoading(true);\n            setError(null);\n            \n            // Dùng API endpoint test thay vì endpoint chính\n            const testData = {\n                title,\n                cookingTime,\n                thoughts,\n                ingredients,\n                steps\n            };\n            \n            console.log(\"TEST SUBMIT: Sending data to test endpoint\");\n            console.log(\"Data:\", testData);\n            \n            // Gửi request đến endpoint test không cần xác thực\n            const response = await fetch('http://localhost:5000/api/test/save-recipe', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify(testData)\n            });\n            \n            console.log(\"Response status:\", response.status);\n            const result = await response.json();\n            console.log(\"Response data:\", result);\n            \n            if (response.ok) {\n                // Xóa dữ liệu form đã lưu\n                localStorage.removeItem('recipeFormData');\n                localStorage.removeItem('pendingRecipeData');\n                \n                // Thông báo thành công\n                alert(`Công thức test đã được lưu thành công! ID: ${result.recipeId}`);\n                \n                // Chuyển hướng về trang chủ\n                navigate('/');\n            } else {\n                throw new Error(result.message || 'Không thể lưu công thức test');\n            }\n        } catch (err) {\n            console.error(\"Error in test submission:\", err);\n            setError(`Lỗi gửi thử nghiệm: ${err.message}`);\n        } finally {\n            setLoading(false);\n        }\n    };\n    \n    return (\n        <div className=\"create-recipe-page\">\n            <h1>Tạo công thức mới</h1>\n            {error && <p className=\"error-message\">{error}</p>}\n            \n            <form className=\"recipe-form\" onSubmit={(e) => handleSubmit(e, false)}>\n                {/* Tên món ăn */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"title\">Tên món ăn *</label>\n                    <input \n                        type=\"text\" \n                        id=\"title\"\n                        value={title}\n                        onChange={(e) => setTitle(e.target.value)}\n                        placeholder=\"Nhập tên món ăn\"\n                        required\n                    />\n                </div>\n                \n                {/* Hình ảnh */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"image\">Hình ảnh món ăn</label>\n                    <input \n                        type=\"file\" \n                        id=\"image\"\n                        accept=\"image/*\"\n                        onChange={handleImageChange}\n                    />\n                </div>\n                \n                {/* Thời gian nấu */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"cookingTime\">Thời gian nấu (phút) *</label>\n                    <input \n                        type=\"number\" \n                        id=\"cookingTime\"\n                        value={cookingTime}\n                        onChange={(e) => setCookingTime(e.target.value)}\n                        min=\"1\"\n                        placeholder=\"Nhập thời gian nấu\"\n                        required\n                    />\n                </div>\n                \n                {/* Nguyên liệu */}\n                <div className=\"form-group\">\n                    <h3>Nguyên liệu *</h3>\n                    {ingredients.map((ingredient, index) => (\n                        <div key={index} className=\"ingredient-row\">\n                            <input\n                                type=\"text\"\n                                placeholder=\"Tên nguyên liệu\"\n                                value={ingredient.name}\n                                onChange={(e) => handleIngredientChange(index, 'name', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Số lượng\"\n                                value={ingredient.quantity}\n                                onChange={(e) => handleIngredientChange(index, 'quantity', e.target.value)}\n                                required\n                            />\n                            <input\n                                type=\"text\"\n                                placeholder=\"Đơn vị (g, ml...)\"\n                                value={ingredient.unit}\n                                onChange={(e) => handleIngredientChange(index, 'unit', e.target.value)}\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddIngredient}>\n                        Thêm nguyên liệu\n                    </button>\n                </div>\n                \n                {/* Các bước nấu */}\n                <div className=\"form-group\">\n                    <h3>Các bước *</h3>\n                    {steps.map((step, index) => (\n                        <div key={index} className=\"step-row\">\n                            <textarea\n                                placeholder={`Bước ${index + 1}`}\n                                value={step.description || ''} \n                                onChange={(e) => handleStepChange(index, e.target.value)}\n                                required\n                            />\n                        </div>\n                    ))}\n                    <button type=\"button\" onClick={handleAddStep}>\n                        Thêm bước\n                    </button>\n                </div>\n                \n                {/* Suy nghĩ và cảm nhận */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"thoughts\">Suy nghĩ và cảm nhận về món ăn</label>\n                    <textarea \n                        id=\"thoughts\"\n                        value={thoughts || ''} \n                        onChange={(e) => setThoughts(e.target.value)}\n                        placeholder=\"Chia sẻ câu chuyện, cảm nhận của bạn về món ăn này...\"\n                        rows={4} \n                    /> \n                </div>\n                \n                {/* Nút hành động */}\n                <div className=\"form-actions\">\n                    <button \n                        type=\"button\" \n                        className=\"secondary-button\"\n                        onClick={(e) => handleSubmit(e, true)}\n                        disabled={loading}\n                    >\n                        Lưu nháp\n                    </button>\n                    \n                    <button \n                        type=\"submit\" \n                        className=\"primary-button\"\n                        disabled={loading}\n                    >\n                        {loading ? 'Đang xử lý...' : 'Đăng công thức'}\n                    </button>\n                    \n                    <button \n                        type=\"button\" \n                        className=\"test-button\"\n                        onClick={handleSubmitNoAuth}\n                        disabled={loading}\n                    >\n                        Test Submit (Không xác thực)\n                    </button>\n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default CreateRecipePage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}