{"ast":null,"code":"import api from './api';\n\n// Lấy bình luận của công thức\nexport const getRecipeComments = async (recipeId, page = 1, limit = 10) => {\n  try {\n    const response = await api.get(`/comments/recipe/${recipeId}?page=${page}&limit=${limit}`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Error fetching comments: ' + error.message);\n  }\n};\n\n// Lấy trả lời của bình luận\nexport const getCommentReplies = async (commentId, page = 1, limit = 10) => {\n  try {\n    const response = await api.get(`/comments/${commentId}/replies?page=${page}&limit=${limit}`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Error fetching comment replies: ' + error.message);\n  }\n};\n\n// Tạo bình luận mới\nexport const createComment = async commentData => {\n  try {\n    const formData = new FormData();\n    formData.append('recipeId', commentData.recipeId);\n    formData.append('text', commentData.text);\n    if (commentData.parentCommentId) {\n      formData.append('parentCommentId', commentData.parentCommentId);\n    }\n    if (commentData.image) {\n      formData.append('comment', commentData.image);\n    }\n    const response = await api.post('/comments', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error('Error creating comment: ' + error.message);\n  }\n};\n\n// Xóa bình luận\nexport const deleteComment = async commentId => {\n  try {\n    const response = await api.delete(`/comments/${commentId}`);\n    return response.data;\n  } catch (error) {\n    throw new Error('Error deleting comment: ' + error.message);\n  }\n};\n\n// Báo cáo bình luận\nexport const reportComment = async (commentId, reason) => {\n  try {\n    const response = await api.post(`/comments/${commentId}/report`, {\n      reason\n    });\n    return response.data;\n  } catch (error) {\n    throw new Error('Error reporting comment: ' + error.message);\n  }\n};","map":{"version":3,"names":["api","getRecipeComments","recipeId","page","limit","response","get","data","error","Error","message","getCommentReplies","commentId","createComment","commentData","formData","FormData","append","text","parentCommentId","image","post","headers","deleteComment","delete","reportComment","reason"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/services/commentService.js"],"sourcesContent":["import api from './api';\r\n\r\n// Lấy bình luận của công thức\r\nexport const getRecipeComments = async (recipeId, page = 1, limit = 10) => {\r\n    try {\r\n        const response = await api.get(`/comments/recipe/${recipeId}?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw new Error('Error fetching comments: ' + error.message);\r\n    }\r\n};\r\n\r\n// Lấy trả lời của bình luận\r\nexport const getCommentReplies = async (commentId, page = 1, limit = 10) => {\r\n    try {\r\n        const response = await api.get(`/comments/${commentId}/replies?page=${page}&limit=${limit}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw new Error('Error fetching comment replies: ' + error.message);\r\n    }\r\n};\r\n\r\n// Tạo bình luận mới\r\nexport const createComment = async (commentData) => {\r\n    try {\r\n        const formData = new FormData();\r\n        formData.append('recipeId', commentData.recipeId);\r\n        formData.append('text', commentData.text);\r\n        \r\n        if (commentData.parentCommentId) {\r\n            formData.append('parentCommentId', commentData.parentCommentId);\r\n        }\r\n        \r\n        if (commentData.image) {\r\n            formData.append('comment', commentData.image);\r\n        }\r\n        \r\n        const response = await api.post('/comments', formData, {\r\n            headers: {\r\n                'Content-Type': 'multipart/form-data',\r\n            },\r\n        });\r\n        \r\n        return response.data;\r\n    } catch (error) {\r\n        throw new Error('Error creating comment: ' + error.message);\r\n    }\r\n};\r\n\r\n// Xóa bình luận\r\nexport const deleteComment = async (commentId) => {\r\n    try {\r\n        const response = await api.delete(`/comments/${commentId}`);\r\n        return response.data;\r\n    } catch (error) {\r\n        throw new Error('Error deleting comment: ' + error.message);\r\n    }\r\n};\r\n\r\n// Báo cáo bình luận\r\nexport const reportComment = async (commentId, reason) => {\r\n    try {\r\n        const response = await api.post(`/comments/${commentId}/report`, { reason });\r\n        return response.data;\r\n    } catch (error) {\r\n        throw new Error('Error reporting comment: ' + error.message);\r\n    }\r\n};"],"mappings":"AAAA,OAAOA,GAAG,MAAM,OAAO;;AAEvB;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,KAAK;EACvE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,oBAAoBJ,QAAQ,SAASC,IAAI,UAAUC,KAAK,EAAE,CAAC;IAC1F,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,2BAA2B,GAAGD,KAAK,CAACE,OAAO,CAAC;EAChE;AACJ,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAOC,SAAS,EAAET,IAAI,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,KAAK;EACxE,IAAI;IACA,MAAMC,QAAQ,GAAG,MAAML,GAAG,CAACM,GAAG,CAAC,aAAaM,SAAS,iBAAiBT,IAAI,UAAUC,KAAK,EAAE,CAAC;IAC5F,OAAOC,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,kCAAkC,GAAGD,KAAK,CAACE,OAAO,CAAC;EACvE;AACJ,CAAC;;AAED;AACA,OAAO,MAAMG,aAAa,GAAG,MAAOC,WAAW,IAAK;EAChD,IAAI;IACA,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;IAC/BD,QAAQ,CAACE,MAAM,CAAC,UAAU,EAAEH,WAAW,CAACZ,QAAQ,CAAC;IACjDa,QAAQ,CAACE,MAAM,CAAC,MAAM,EAAEH,WAAW,CAACI,IAAI,CAAC;IAEzC,IAAIJ,WAAW,CAACK,eAAe,EAAE;MAC7BJ,QAAQ,CAACE,MAAM,CAAC,iBAAiB,EAAEH,WAAW,CAACK,eAAe,CAAC;IACnE;IAEA,IAAIL,WAAW,CAACM,KAAK,EAAE;MACnBL,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAEH,WAAW,CAACM,KAAK,CAAC;IACjD;IAEA,MAAMf,QAAQ,GAAG,MAAML,GAAG,CAACqB,IAAI,CAAC,WAAW,EAAEN,QAAQ,EAAE;MACnDO,OAAO,EAAE;QACL,cAAc,EAAE;MACpB;IACJ,CAAC,CAAC;IAEF,OAAOjB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,0BAA0B,GAAGD,KAAK,CAACE,OAAO,CAAC;EAC/D;AACJ,CAAC;;AAED;AACA,OAAO,MAAMa,aAAa,GAAG,MAAOX,SAAS,IAAK;EAC9C,IAAI;IACA,MAAMP,QAAQ,GAAG,MAAML,GAAG,CAACwB,MAAM,CAAC,aAAaZ,SAAS,EAAE,CAAC;IAC3D,OAAOP,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,0BAA0B,GAAGD,KAAK,CAACE,OAAO,CAAC;EAC/D;AACJ,CAAC;;AAED;AACA,OAAO,MAAMe,aAAa,GAAG,MAAAA,CAAOb,SAAS,EAAEc,MAAM,KAAK;EACtD,IAAI;IACA,MAAMrB,QAAQ,GAAG,MAAML,GAAG,CAACqB,IAAI,CAAC,aAAaT,SAAS,SAAS,EAAE;MAAEc;IAAO,CAAC,CAAC;IAC5E,OAAOrB,QAAQ,CAACE,IAAI;EACxB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,2BAA2B,GAAGD,KAAK,CAACE,OAAO,CAAC;EAChE;AACJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}