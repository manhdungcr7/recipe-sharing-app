{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Documents\\\\web_SE\\\\recipe-sharing-app\\\\src\\\\components\\\\report\\\\ReportForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './ReportForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReportForm = ({\n  type,\n  targetId,\n  onSubmit,\n  onCancel\n}) => {\n  _s();\n  const [reason, setReason] = useState('');\n  const [description, setDescription] = useState('');\n  const [submitting, setSubmitting] = useState(false);\n  const [error, setError] = useState(null);\n  const [success, setSuccess] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!reason) {\n      setError('Please select a reason for reporting');\n      return;\n    }\n    setSubmitting(true);\n    setError(null);\n    try {\n      const token = localStorage.getItem('auth_token');\n      const response = await fetch(`http://localhost:5000/api/reports/${type}/${targetId}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${token}`\n        },\n        body: JSON.stringify({\n          reason,\n          description\n        })\n      });\n      if (response.ok) {\n        setSuccess(true);\n        if (onSubmit) onSubmit();\n      } else {\n        const data = await response.json();\n        setError(data.message || 'Failed to submit report');\n      }\n    } catch (err) {\n      console.error('Error submitting report:', err);\n      setError('An error occurred while submitting the report');\n    } finally {\n      setSubmitting(false);\n    }\n  };\n  const reasonOptions = {\n    recipe: ['Inappropriate content', 'Misleading information', 'Copyright violation', 'Offensive language', 'Other'],\n    comment: ['Spam', 'Harassment', 'Inappropriate content', 'Offensive language', 'Other'],\n    user: ['Inappropriate profile', 'Fake account', 'Spamming', 'Harassment', 'Other']\n  };\n  if (success) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-form-success\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Report Submitted\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Thank you for your report. Our team will review it soon.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onCancel,\n        children: \"Close\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"report-form-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [\"Report \", type === 'recipe' ? 'Recipe' : type === 'comment' ? 'Comment' : 'User']\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"report-form-error\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"report-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Reason for reporting*\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: reason,\n          onChange: e => setReason(e.target.value),\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"Select a reason\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 25\n          }, this), reasonOptions[type].map((option, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: option,\n            children: option\n          }, index, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Additional details (optional)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          value: description,\n          onChange: e => setDescription(e.target.value),\n          placeholder: \"Provide more details about this report\",\n          rows: 4\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: onCancel,\n          className: \"btn-cancel\",\n          disabled: submitting,\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn-submit\",\n          disabled: submitting,\n          children: submitting ? 'Submitting...' : 'Submit Report'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 9\n  }, this);\n};\n_s(ReportForm, \"lJnCV6QVvlydO5PAu2eulRj1Pn8=\");\n_c = ReportForm;\nexport default ReportForm;\nvar _c;\n$RefreshReg$(_c, \"ReportForm\");","map":{"version":3,"names":["React","useState","jsxDEV","_jsxDEV","ReportForm","type","targetId","onSubmit","onCancel","_s","reason","setReason","description","setDescription","submitting","setSubmitting","error","setError","success","setSuccess","handleSubmit","e","preventDefault","token","localStorage","getItem","response","fetch","method","headers","body","JSON","stringify","ok","data","json","message","err","console","reasonOptions","recipe","comment","user","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","value","onChange","target","required","map","option","index","placeholder","rows","disabled","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/components/report/ReportForm.jsx"],"sourcesContent":["import React, { useState } from 'react';\r\nimport './ReportForm.css';\r\n\r\nconst ReportForm = ({ type, targetId, onSubmit, onCancel }) => {\r\n    const [reason, setReason] = useState('');\r\n    const [description, setDescription] = useState('');\r\n    const [submitting, setSubmitting] = useState(false);\r\n    const [error, setError] = useState(null);\r\n    const [success, setSuccess] = useState(false);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        if (!reason) {\r\n            setError('Please select a reason for reporting');\r\n            return;\r\n        }\r\n\r\n        setSubmitting(true);\r\n        setError(null);\r\n\r\n        try {\r\n            const token = localStorage.getItem('auth_token');\r\n            const response = await fetch(`http://localhost:5000/api/reports/${type}/${targetId}`, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${token}`\r\n                },\r\n                body: JSON.stringify({ reason, description })\r\n            });\r\n\r\n            if (response.ok) {\r\n                setSuccess(true);\r\n                if (onSubmit) onSubmit();\r\n            } else {\r\n                const data = await response.json();\r\n                setError(data.message || 'Failed to submit report');\r\n            }\r\n        } catch (err) {\r\n            console.error('Error submitting report:', err);\r\n            setError('An error occurred while submitting the report');\r\n        } finally {\r\n            setSubmitting(false);\r\n        }\r\n    };\r\n\r\n    const reasonOptions = {\r\n        recipe: [\r\n            'Inappropriate content',\r\n            'Misleading information',\r\n            'Copyright violation',\r\n            'Offensive language',\r\n            'Other'\r\n        ],\r\n        comment: [\r\n            'Spam',\r\n            'Harassment',\r\n            'Inappropriate content',\r\n            'Offensive language',\r\n            'Other'\r\n        ],\r\n        user: [\r\n            'Inappropriate profile',\r\n            'Fake account',\r\n            'Spamming',\r\n            'Harassment',\r\n            'Other'\r\n        ]\r\n    };\r\n\r\n    if (success) {\r\n        return (\r\n            <div className=\"report-form-success\">\r\n                <h3>Report Submitted</h3>\r\n                <p>Thank you for your report. Our team will review it soon.</p>\r\n                <button onClick={onCancel}>Close</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"report-form-container\">\r\n            <h3>Report {type === 'recipe' ? 'Recipe' : type === 'comment' ? 'Comment' : 'User'}</h3>\r\n            \r\n            {error && (\r\n                <div className=\"report-form-error\">\r\n                    <p>{error}</p>\r\n                </div>\r\n            )}\r\n            \r\n            <form onSubmit={handleSubmit} className=\"report-form\">\r\n                <div className=\"form-group\">\r\n                    <label>Reason for reporting*</label>\r\n                    <select \r\n                        value={reason} \r\n                        onChange={(e) => setReason(e.target.value)}\r\n                        required\r\n                    >\r\n                        <option value=\"\">Select a reason</option>\r\n                        {reasonOptions[type].map((option, index) => (\r\n                            <option key={index} value={option}>{option}</option>\r\n                        ))}\r\n                    </select>\r\n                </div>\r\n                \r\n                <div className=\"form-group\">\r\n                    <label>Additional details (optional)</label>\r\n                    <textarea \r\n                        value={description}\r\n                        onChange={(e) => setDescription(e.target.value)}\r\n                        placeholder=\"Provide more details about this report\"\r\n                        rows={4}\r\n                    ></textarea>\r\n                </div>\r\n                \r\n                <div className=\"form-actions\">\r\n                    <button \r\n                        type=\"button\" \r\n                        onClick={onCancel} \r\n                        className=\"btn-cancel\"\r\n                        disabled={submitting}\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button \r\n                        type=\"submit\" \r\n                        className=\"btn-submit\"\r\n                        disabled={submitting}\r\n                    >\r\n                        {submitting ? 'Submitting...' : 'Submit Report'}\r\n                    </button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ReportForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}