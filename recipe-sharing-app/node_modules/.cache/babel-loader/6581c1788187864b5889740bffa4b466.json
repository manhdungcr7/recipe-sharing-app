{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { authService } from '../services/authService';\nconst useAuth = () => {\n  _s();\n  const {\n    setUser,\n    setIsAuthenticated\n  } = useContext(AuthContext);\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const checkAuthStatus = async () => {\n      try {\n        const user = await authService.getCurrentUser();\n        if (user) {\n          setUser(user);\n          setIsAuthenticated(true);\n        } else {\n          setIsAuthenticated(false);\n        }\n      } catch (error) {\n        console.error('Error checking auth status:', error);\n        setIsAuthenticated(false);\n      } finally {\n        setLoading(false);\n      }\n    };\n    checkAuthStatus();\n  }, [setUser, setIsAuthenticated]);\n  const login = async credentials => {\n    try {\n      const user = await authService.login(credentials);\n      setUser(user);\n      setIsAuthenticated(true);\n    } catch (error) {\n      console.error('Login failed:', error);\n      throw error;\n    }\n  };\n  const logout = async () => {\n    try {\n      await authService.logout();\n      setUser(null);\n      setIsAuthenticated(false);\n    } catch (error) {\n      console.error('Logout failed:', error);\n      throw error;\n    }\n  };\n  return {\n    loading,\n    login,\n    logout\n  };\n};\n_s(useAuth, \"aN60ebwtSmU+wEM02gh8zZcEUgQ=\");\nexport default useAuth;","map":{"version":3,"names":["useState","useEffect","useContext","AuthContext","authService","useAuth","_s","setUser","setIsAuthenticated","loading","setLoading","checkAuthStatus","user","getCurrentUser","error","console","login","credentials","logout"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/hooks/useAuth.js"],"sourcesContent":["import { useState, useEffect, useContext } from 'react';\nimport { AuthContext } from '../context/AuthContext';\nimport { authService } from '../services/authService';\n\nconst useAuth = () => {\n    const { setUser, setIsAuthenticated } = useContext(AuthContext);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n        const checkAuthStatus = async () => {\n            try {\n                const user = await authService.getCurrentUser();\n                if (user) {\n                    setUser(user);\n                    setIsAuthenticated(true);\n                } else {\n                    setIsAuthenticated(false);\n                }\n            } catch (error) {\n                console.error('Error checking auth status:', error);\n                setIsAuthenticated(false);\n            } finally {\n                setLoading(false);\n            }\n        };\n\n        checkAuthStatus();\n    }, [setUser, setIsAuthenticated]);\n\n    const login = async (credentials) => {\n        try {\n            const user = await authService.login(credentials);\n            setUser(user);\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.error('Login failed:', error);\n            throw error;\n        }\n    };\n\n    const logout = async () => {\n        try {\n            await authService.logout();\n            setUser(null);\n            setIsAuthenticated(false);\n        } catch (error) {\n            console.error('Logout failed:', error);\n            throw error;\n        }\n    };\n\n    return { loading, login, logout };\n};\n\nexport default useAuth;"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACvD,SAASC,WAAW,QAAQ,wBAAwB;AACpD,SAASC,WAAW,QAAQ,yBAAyB;AAErD,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAM;IAAEC,OAAO;IAAEC;EAAmB,CAAC,GAAGN,UAAU,CAACC,WAAW,CAAC;EAC/D,MAAM,CAACM,OAAO,EAAEC,UAAU,CAAC,GAAGV,QAAQ,CAAC,IAAI,CAAC;EAE5CC,SAAS,CAAC,MAAM;IACZ,MAAMU,eAAe,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAI;QACA,MAAMC,IAAI,GAAG,MAAMR,WAAW,CAACS,cAAc,CAAC,CAAC;QAC/C,IAAID,IAAI,EAAE;UACNL,OAAO,CAACK,IAAI,CAAC;UACbJ,kBAAkB,CAAC,IAAI,CAAC;QAC5B,CAAC,MAAM;UACHA,kBAAkB,CAAC,KAAK,CAAC;QAC7B;MACJ,CAAC,CAAC,OAAOM,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;QACnDN,kBAAkB,CAAC,KAAK,CAAC;MAC7B,CAAC,SAAS;QACNE,UAAU,CAAC,KAAK,CAAC;MACrB;IACJ,CAAC;IAEDC,eAAe,CAAC,CAAC;EACrB,CAAC,EAAE,CAACJ,OAAO,EAAEC,kBAAkB,CAAC,CAAC;EAEjC,MAAMQ,KAAK,GAAG,MAAOC,WAAW,IAAK;IACjC,IAAI;MACA,MAAML,IAAI,GAAG,MAAMR,WAAW,CAACY,KAAK,CAACC,WAAW,CAAC;MACjDV,OAAO,CAACK,IAAI,CAAC;MACbJ,kBAAkB,CAAC,IAAI,CAAC;IAC5B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,eAAe,EAAEA,KAAK,CAAC;MACrC,MAAMA,KAAK;IACf;EACJ,CAAC;EAED,MAAMI,MAAM,GAAG,MAAAA,CAAA,KAAY;IACvB,IAAI;MACA,MAAMd,WAAW,CAACc,MAAM,CAAC,CAAC;MAC1BX,OAAO,CAAC,IAAI,CAAC;MACbC,kBAAkB,CAAC,KAAK,CAAC;IAC7B,CAAC,CAAC,OAAOM,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;MACtC,MAAMA,KAAK;IACf;EACJ,CAAC;EAED,OAAO;IAAEL,OAAO;IAAEO,KAAK;IAAEE;EAAO,CAAC;AACrC,CAAC;AAACZ,EAAA,CAhDID,OAAO;AAkDb,eAAeA,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}