{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Documents\\\\web_SE\\\\recipe-sharing-app\\\\src\\\\pages\\\\DashboardPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useContext } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { AuthContext } from '../context/AuthContext';\nimport RecipeCard from '../components/recipe/RecipeCard';\nimport { API_BASE_URL, ENDPOINTS } from '../config/api';\n//import './DashboardPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst DashboardPage = () => {\n  _s();\n  const {\n    currentUser,\n    isAuthenticated\n  } = useContext(AuthContext);\n  const navigate = useNavigate();\n  const [publishedRecipes, setPublishedRecipes] = useState([]);\n  const [drafts, setDrafts] = useState([]);\n  const [savedRecipes, setSavedRecipes] = useState([]);\n  const [loadingRecipes, setLoadingRecipes] = useState(false);\n  const [loadingSaved, setLoadingSaved] = useState(false);\n  const [error, setError] = useState(null);\n  const [activeTab, setActiveTab] = useState('draft'); // Bắt đầu với tab 'draft'\n\n  // Kiểm tra trạng thái đăng nhập\n  useEffect(() => {\n    if (!isAuthenticated) {\n      navigate('/login');\n    }\n  }, [isAuthenticated, navigate]);\n  const fetchUserRecipes = async (status = 'all') => {\n    console.log(\"Fetching recipes:\", status);\n    try {\n      setLoadingRecipes(true);\n      setError(null);\n\n      // *** QUAN TRỌNG: THỐNG NHẤT SỬ DỤNG auth_token HOẶC token ***\n      const token = localStorage.getItem('auth_token');\n      if (!token || !(currentUser !== null && currentUser !== void 0 && currentUser.id)) {\n        setLoadingRecipes(false);\n        return;\n      }\n      console.log(`Fetching recipes for user: ${currentUser.id} with status: ${status}`);\n      let endpoint;\n      if (status === 'draft') {\n        endpoint = ENDPOINTS.recipes.drafts;\n      } else if (status === 'published') {\n        endpoint = ENDPOINTS.recipes.userRecipes(currentUser.id) + '?status=published';\n      } else if (status === 'all') {\n        endpoint = ENDPOINTS.recipes.userRecipes(currentUser.id);\n      }\n      console.log(\"Calling API endpoint:\", API_BASE_URL + endpoint);\n      const response = await fetch(API_BASE_URL + endpoint, {\n        method: 'GET',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Received data:\", data);\n      if (status === 'draft') {\n        var _data$data;\n        setDrafts(data.data || []);\n        console.log(\"Draft recipes set:\", ((_data$data = data.data) === null || _data$data === void 0 ? void 0 : _data$data.length) || 0);\n      } else if (status === 'saved') {\n        setSavedRecipes(data.data || []);\n      } else if (status === 'all') {\n        setPublishedRecipes(data.data || []);\n      }\n    } catch (error) {\n      console.error('Error fetching recipes:', error);\n      setError(`Không thể tải dữ liệu: ${error.message}`);\n    } finally {\n      setLoadingRecipes(false);\n    }\n  };\n  const fetchSavedRecipes = async () => {\n    console.log(\"Fetching saved recipes\");\n    try {\n      setLoadingSaved(true);\n      const token = localStorage.getItem('auth_token'); // Đổi thành 'auth_token'\n      const response = await fetch('http://localhost:5000/api/recipes/saved', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      console.log(\"Received saved recipes data:\", data);\n      setSavedRecipes(data.data || []);\n    } catch (error) {\n      console.error('Error fetching saved recipes:', error);\n    } finally {\n      setLoadingSaved(false);\n    }\n  };\n\n  // *** QUAN TRỌNG: THÊM useEffect NÀY ***\n  useEffect(() => {\n    console.log(\"useEffect chạy: activeTab =\", activeTab, \"currentUser =\", currentUser, \"isAuthenticated =\", isAuthenticated);\n    if (isAuthenticated && currentUser !== null && currentUser !== void 0 && currentUser.id) {\n      if (activeTab === 'all') {\n        fetchUserRecipes('all');\n      } else if (activeTab === 'published') {\n        fetchUserRecipes('published');\n      } else if (activeTab === 'draft') {\n        fetchUserRecipes('draft');\n      } else if (activeTab === 'saved') {\n        fetchSavedRecipes();\n      }\n    }\n  }, [isAuthenticated, currentUser, activeTab]); // Dependencies\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"dashboard-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"B\\u1EA3ng \\u0111i\\u1EC1u khi\\u1EC3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard-tabs\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'all' ? 'active' : ''}`,\n        onClick: () => setActiveTab('all'),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-utensils\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 11\n        }, this), \" C\\xF4ng th\\u1EE9c c\\u1EE7a t\\xF4i\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'published' ? 'active' : ''}`,\n        onClick: () => setActiveTab('published'),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-check\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this), \" \\u0110\\xE3 xu\\u1EA5t b\\u1EA3n\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'saved' ? 'active' : ''}`,\n        onClick: () => setActiveTab('saved'),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-bookmark\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), \" \\u0110\\xE3 l\\u01B0u\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `tab-button ${activeTab === 'draft' ? 'active' : ''}`,\n        onClick: () => setActiveTab('draft'),\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-edit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 11\n        }, this), \" B\\u1EA3n nh\\xE1p\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 7\n    }, this), activeTab === 'draft' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"drafts-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"B\\u1EA3n nh\\xE1p\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 11\n      }, this), loadingRecipes ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 13\n      }, this) : drafts.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-grid\",\n        children: drafts.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n          recipe: recipe\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-recipes\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n ch\\u01B0a c\\xF3 b\\u1EA3n nh\\xE1p n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/create-recipe'),\n          children: \"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 9\n    }, this), activeTab === 'published' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"C\\xF4ng th\\u1EE9c \\u0111\\xE3 xu\\u1EA5t b\\u1EA3n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 180,\n        columnNumber: 11\n      }, this), loadingRecipes ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 183,\n        columnNumber: 13\n      }, this) : publishedRecipes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-grid\",\n        children: publishedRecipes.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n          recipe: recipe\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-recipes\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n ch\\u01B0a xu\\u1EA5t b\\u1EA3n c\\xF4ng th\\u1EE9c n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/create-recipe'),\n          children: \"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 9\n    }, this), activeTab === 'saved' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"saved-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"C\\xF4ng th\\u1EE9c \\u0111\\xE3 l\\u01B0u\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 11\n      }, this), loadingSaved ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 13\n      }, this) : savedRecipes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-grid\",\n        children: savedRecipes.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n          recipe: recipe\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-recipes\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n ch\\u01B0a l\\u01B0u c\\xF4ng th\\u1EE9c n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/'),\n          children: \"Kh\\xE1m ph\\xE1 c\\xF4ng th\\u1EE9c\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 9\n    }, this), activeTab === 'all' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"recipes-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"C\\xF4ng th\\u1EE9c c\\u1EE7a t\\xF4i\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 11\n      }, this), loadingRecipes ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-spinner\",\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 13\n      }, this) : publishedRecipes.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"recipe-grid\",\n        children: publishedRecipes.map(recipe => /*#__PURE__*/_jsxDEV(RecipeCard, {\n          recipe: recipe\n        }, recipe.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"no-recipes\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"B\\u1EA1n ch\\u01B0a c\\xF3 c\\xF4ng th\\u1EE9c n\\xE0o\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => navigate('/create-recipe'),\n          children: \"T\\u1EA1o c\\xF4ng th\\u1EE9c m\\u1EDBi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 234,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '20px',\n        padding: '10px',\n        border: '1px solid #ccc'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Debug Tools\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: async () => {\n          // Thử cả hai tên token\n          const token1 = localStorage.getItem('auth_token');\n          const token2 = localStorage.getItem('token');\n          console.log(\"auth_token:\", token1 ? token1.substring(0, 10) + \"...\" : \"không có\");\n          console.log(\"token:\", token2 ? token2.substring(0, 10) + \"...\" : \"không có\");\n\n          // Thử gọi API trực tiếp\n          try {\n            var _data$data2;\n            const response = await fetch('http://localhost:5000/api/recipes/drafts', {\n              headers: {\n                'Authorization': `Bearer ${token1 || token2}`\n              }\n            });\n            const data = await response.json();\n            console.log(\"Direct API call result:\", data);\n            alert(`API trả về ${((_data$data2 = data.data) === null || _data$data2 === void 0 ? void 0 : _data$data2.length) || 0} bản nháp`);\n          } catch (e) {\n            console.error(\"API call failed:\", e);\n            alert(\"Lỗi khi gọi API: \" + e.message);\n          }\n        },\n        children: \"Ki\\u1EC3m tra Token & API\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 243,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 5\n  }, this);\n};\n_s(DashboardPage, \"NbYEpgth4nS9btPsmafJIr/gu6o=\", false, function () {\n  return [useNavigate];\n});\n_c = DashboardPage;\nexport default DashboardPage;\nvar _c;\n$RefreshReg$(_c, \"DashboardPage\");","map":{"version":3,"names":["React","useState","useEffect","useContext","useNavigate","AuthContext","RecipeCard","API_BASE_URL","ENDPOINTS","jsxDEV","_jsxDEV","DashboardPage","_s","currentUser","isAuthenticated","navigate","publishedRecipes","setPublishedRecipes","drafts","setDrafts","savedRecipes","setSavedRecipes","loadingRecipes","setLoadingRecipes","loadingSaved","setLoadingSaved","error","setError","activeTab","setActiveTab","fetchUserRecipes","status","console","log","token","localStorage","getItem","id","endpoint","recipes","userRecipes","response","fetch","method","headers","ok","Error","data","json","_data$data","length","message","fetchSavedRecipes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","recipe","style","marginTop","padding","border","token1","token2","substring","_data$data2","alert","e","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/pages/DashboardPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useContext } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport RecipeCard from '../components/recipe/RecipeCard';\r\nimport { API_BASE_URL, ENDPOINTS } from '../config/api';\r\n//import './DashboardPage.css';\r\n\r\nconst DashboardPage = () => {\r\n  const { currentUser, isAuthenticated } = useContext(AuthContext);\r\n  const navigate = useNavigate();\r\n  \r\n  const [publishedRecipes, setPublishedRecipes] = useState([]);\r\n  const [drafts, setDrafts] = useState([]);\r\n  const [savedRecipes, setSavedRecipes] = useState([]);\r\n  const [loadingRecipes, setLoadingRecipes] = useState(false);\r\n  const [loadingSaved, setLoadingSaved] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [activeTab, setActiveTab] = useState('draft'); // Bắt đầu với tab 'draft'\r\n\r\n  // Kiểm tra trạng thái đăng nhập\r\n  useEffect(() => {\r\n    if (!isAuthenticated) {\r\n      navigate('/login');\r\n    }\r\n  }, [isAuthenticated, navigate]);\r\n\r\n  const fetchUserRecipes = async (status = 'all') => {\r\n    console.log(\"Fetching recipes:\", status);\r\n    try {\r\n      setLoadingRecipes(true);\r\n      setError(null);\r\n      \r\n      // *** QUAN TRỌNG: THỐNG NHẤT SỬ DỤNG auth_token HOẶC token ***\r\n      const token = localStorage.getItem('auth_token');\r\n      \r\n      if (!token || !currentUser?.id) {\r\n        setLoadingRecipes(false);\r\n        return;\r\n      }\r\n      \r\n      console.log(`Fetching recipes for user: ${currentUser.id} with status: ${status}`);\r\n      \r\n      let endpoint;\r\n      if (status === 'draft') {\r\n        endpoint = ENDPOINTS.recipes.drafts;\r\n      } else if (status === 'published') {\r\n        endpoint = ENDPOINTS.recipes.userRecipes(currentUser.id) + '?status=published';\r\n      } else if (status === 'all') {\r\n        endpoint = ENDPOINTS.recipes.userRecipes(currentUser.id);\r\n      }\r\n      \r\n      console.log(\"Calling API endpoint:\", API_BASE_URL + endpoint);\r\n      \r\n      const response = await fetch(API_BASE_URL + endpoint, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      \r\n      const data = await response.json();\r\n      console.log(\"Received data:\", data);\r\n      \r\n      if (status === 'draft') {\r\n        setDrafts(data.data || []);\r\n        console.log(\"Draft recipes set:\", data.data?.length || 0);\r\n      } else if (status === 'saved') {\r\n        setSavedRecipes(data.data || []);\r\n      } else if (status === 'all') {\r\n        setPublishedRecipes(data.data || []);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error fetching recipes:', error);\r\n      setError(`Không thể tải dữ liệu: ${error.message}`);\r\n    } finally {\r\n      setLoadingRecipes(false);\r\n    }\r\n  };\r\n\r\n  const fetchSavedRecipes = async () => {\r\n    console.log(\"Fetching saved recipes\");\r\n    try {\r\n      setLoadingSaved(true);\r\n      const token = localStorage.getItem('auth_token'); // Đổi thành 'auth_token'\r\n      const response = await fetch('http://localhost:5000/api/recipes/saved', {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      if (!response.ok) {\r\n        throw new Error(`HTTP error! status: ${response.status}`);\r\n      }\r\n      const data = await response.json();\r\n      console.log(\"Received saved recipes data:\", data);\r\n      setSavedRecipes(data.data || []);\r\n    } catch (error) {\r\n      console.error('Error fetching saved recipes:', error);\r\n    } finally {\r\n      setLoadingSaved(false);\r\n    }\r\n  };\r\n\r\n  // *** QUAN TRỌNG: THÊM useEffect NÀY ***\r\n  useEffect(() => {\r\n    console.log(\"useEffect chạy: activeTab =\", activeTab, \"currentUser =\", currentUser, \"isAuthenticated =\", isAuthenticated);\r\n    if (isAuthenticated && currentUser?.id) {\r\n      if (activeTab === 'all') {\r\n        fetchUserRecipes('all');\r\n      } else if (activeTab === 'published') {\r\n        fetchUserRecipes('published');\r\n      } else if (activeTab === 'draft') {\r\n        fetchUserRecipes('draft');\r\n      } else if (activeTab === 'saved') {\r\n        fetchSavedRecipes();\r\n      }\r\n    }\r\n  }, [isAuthenticated, currentUser, activeTab]); // Dependencies\r\n\r\n  return (\r\n    <div className=\"dashboard-page\">\r\n      {/* Header của dashboard */}\r\n      <div className=\"dashboard-header\">\r\n        <h1>Bảng điều khiển</h1>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"dashboard-tabs\">\r\n        <button \r\n          className={`tab-button ${activeTab === 'all' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('all')}\r\n        >\r\n          <i className=\"fas fa-utensils\"></i> Công thức của tôi\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'published' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('published')}\r\n        >\r\n          <i className=\"fas fa-check\"></i> Đã xuất bản\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'saved' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('saved')}\r\n        >\r\n          <i className=\"fas fa-bookmark\"></i> Đã lưu\r\n        </button>\r\n        <button \r\n          className={`tab-button ${activeTab === 'draft' ? 'active' : ''}`}\r\n          onClick={() => setActiveTab('draft')}\r\n        >\r\n          <i className=\"fas fa-edit\"></i> Bản nháp\r\n        </button>\r\n      </div>\r\n\r\n      {/* Content based on active tab */}\r\n      {activeTab === 'draft' && (\r\n        <div className=\"drafts-section\">\r\n          <h2>Bản nháp</h2>\r\n          {loadingRecipes ? (\r\n            <div className=\"loading-spinner\">Đang tải...</div>\r\n          ) : drafts.length > 0 ? (\r\n            <div className=\"recipe-grid\">\r\n              {drafts.map(recipe => (\r\n                <RecipeCard key={recipe.id} recipe={recipe} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-recipes\">\r\n              <p>Bạn chưa có bản nháp nào</p>\r\n              <button onClick={() => navigate('/create-recipe')}>Tạo công thức mới</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {activeTab === 'published' && (\r\n        <div className=\"recipes-section\">\r\n          <h2>Công thức đã xuất bản</h2>\r\n          {/* Hiển thị công thức đã xuất bản */}\r\n          {loadingRecipes ? (\r\n            <div className=\"loading-spinner\">Đang tải...</div>\r\n          ) : publishedRecipes.length > 0 ? (\r\n            <div className=\"recipe-grid\">\r\n              {publishedRecipes.map(recipe => (\r\n                <RecipeCard key={recipe.id} recipe={recipe} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-recipes\">\r\n              <p>Bạn chưa xuất bản công thức nào</p>\r\n              <button onClick={() => navigate('/create-recipe')}>Tạo công thức mới</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'saved' && (\r\n        <div className=\"saved-section\">\r\n          <h2>Công thức đã lưu</h2>\r\n          {/* Hiển thị các công thức đã lưu */}\r\n          {loadingSaved ? (\r\n            <div className=\"loading-spinner\">Đang tải...</div>\r\n          ) : savedRecipes.length > 0 ? (\r\n            <div className=\"recipe-grid\">\r\n              {savedRecipes.map(recipe => (\r\n                <RecipeCard key={recipe.id} recipe={recipe} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-recipes\">\r\n              <p>Bạn chưa lưu công thức nào</p>\r\n              <button onClick={() => navigate('/')}>Khám phá công thức</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {activeTab === 'all' && (\r\n        <div className=\"recipes-section\">\r\n          <h2>Công thức của tôi</h2>\r\n          {loadingRecipes ? (\r\n            <div className=\"loading-spinner\">Đang tải...</div>\r\n          ) : publishedRecipes.length > 0 ? (\r\n            <div className=\"recipe-grid\">\r\n              {publishedRecipes.map(recipe => (\r\n                <RecipeCard key={recipe.id} recipe={recipe} />\r\n              ))}\r\n            </div>\r\n          ) : (\r\n            <div className=\"no-recipes\">\r\n              <p>Bạn chưa có công thức nào</p>\r\n              <button onClick={() => navigate('/create-recipe')}>Tạo công thức mới</button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n      \r\n      {/* Nút Debug */}\r\n      <div style={{ marginTop: '20px', padding: '10px', border: '1px solid #ccc' }}>\r\n        <h3>Debug Tools</h3>\r\n        <button onClick={async () => {\r\n          // Thử cả hai tên token\r\n          const token1 = localStorage.getItem('auth_token');\r\n          const token2 = localStorage.getItem('token');\r\n          console.log(\"auth_token:\", token1 ? token1.substring(0, 10) + \"...\" : \"không có\");\r\n          console.log(\"token:\", token2 ? token2.substring(0, 10) + \"...\" : \"không có\");\r\n          \r\n          // Thử gọi API trực tiếp\r\n          try {\r\n            const response = await fetch('http://localhost:5000/api/recipes/drafts', {\r\n              headers: { 'Authorization': `Bearer ${token1 || token2}` }\r\n            });\r\n            const data = await response.json();\r\n            console.log(\"Direct API call result:\", data);\r\n            alert(`API trả về ${data.data?.length || 0} bản nháp`);\r\n          } catch(e) {\r\n            console.error(\"API call failed:\", e);\r\n            alert(\"Lỗi khi gọi API: \" + e.message);\r\n          }\r\n        }}>Kiểm tra Token & API</button>\r\n      </div>\r\n      \r\n      {/* ... phần còn lại của trang ... */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DashboardPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}