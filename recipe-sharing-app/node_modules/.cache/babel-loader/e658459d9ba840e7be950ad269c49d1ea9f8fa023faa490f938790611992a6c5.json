{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Documents\\\\web_SE\\\\recipe-sharing-app\\\\src\\\\pages\\\\admin\\\\AdminReportsPage.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport './AdminReportsPage.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst AdminReportsPage = () => {\n  _s();\n  const [reports, setReports] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [filterType, setFilterType] = useState('all');\n  const [filterStatus, setFilterStatus] = useState('pending');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [selectedReport, setSelectedReport] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [actionNote, setActionNote] = useState('');\n  const [processingAction, setProcessingAction] = useState(false);\n\n  // Tải danh sách báo cáo\n  useEffect(() => {\n    fetchReports(currentPage);\n  }, [currentPage, filterType, filterStatus]);\n  const fetchReports = async page => {\n    try {\n      var _data$pagination;\n      setLoading(true);\n      setError(null);\n      const token = localStorage.getItem('token');\n      if (!token) {\n        throw new Error('Bạn cần đăng nhập để truy cập trang này');\n      }\n\n      // Tạo parameters cho request\n      const params = new URLSearchParams();\n      params.append('page', page);\n      if (searchQuery) params.append('search', searchQuery);\n      if (filterStatus !== 'all') params.append('status', filterStatus);\n      if (filterType !== 'all') params.append('type', filterType);\n      const response = await fetch(`http://localhost:5000/api/admin/reports?${params.toString()}`, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      if (!response.ok) {\n        throw new Error('Không thể tải danh sách báo cáo');\n      }\n      const data = await response.json();\n      setReports(data.data || []);\n      setTotalPages(((_data$pagination = data.pagination) === null || _data$pagination === void 0 ? void 0 : _data$pagination.totalPages) || 1);\n      setCurrentPage(page);\n    } catch (err) {\n      console.error('Error fetching reports:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Xử lý tìm kiếm\n  const handleSearch = e => {\n    e.preventDefault();\n    setCurrentPage(1);\n    fetchReports(1);\n  };\n\n  // Xử lý chuyển trang\n  const handlePageChange = newPage => {\n    if (newPage < 1 || newPage > totalPages) return;\n    setCurrentPage(newPage);\n  };\n\n  // Hiển thị chi tiết báo cáo\n  const handleViewReport = report => {\n    setSelectedReport(report);\n    setShowModal(true);\n    setActionNote('');\n  };\n\n  // Xử lý giải quyết báo cáo\n  const handleResolveReport = async (reportId, action, blockDuration = null) => {\n    try {\n      setProcessingAction(true);\n      const token = localStorage.getItem('token');\n      const payload = {\n        action,\n        note: actionNote,\n        blockDuration\n      };\n      const response = await fetch(`http://localhost:5000/api/admin/reports/${reportId}/resolve`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) {\n        throw new Error('Không thể xử lý báo cáo');\n      }\n\n      // Cập nhật danh sách báo cáo\n      const updatedReport = await response.json();\n      setReports(reports.map(report => report.id === reportId ? {\n        ...report,\n        status: 'resolved'\n      } : report));\n\n      // Đóng modal và làm mới\n      setShowModal(false);\n      fetchReports(currentPage);\n    } catch (err) {\n      console.error('Error resolving report:', err);\n      alert(`Lỗi: ${err.message}`);\n    } finally {\n      setProcessingAction(false);\n    }\n  };\n\n  // Xử lý từ chối báo cáo\n  const handleRejectReport = async reportId => {\n    try {\n      setProcessingAction(true);\n      const token = localStorage.getItem('token');\n      const payload = {\n        note: actionNote\n      };\n      const response = await fetch(`http://localhost:5000/api/admin/reports/${reportId}/reject`, {\n        method: 'PUT',\n        headers: {\n          'Authorization': `Bearer ${token}`,\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!response.ok) {\n        throw new Error('Không thể từ chối báo cáo');\n      }\n\n      // Cập nhật danh sách báo cáo\n      setReports(reports.map(report => report.id === reportId ? {\n        ...report,\n        status: 'rejected'\n      } : report));\n\n      // Đóng modal\n      setShowModal(false);\n    } catch (err) {\n      console.error('Error rejecting report:', err);\n      alert(`Lỗi: ${err.message}`);\n    } finally {\n      setProcessingAction(false);\n    }\n  };\n\n  // Lấy nội dung hiển thị cho resource_type\n  const getResourceTypeLabel = type => {\n    switch (type) {\n      case 'recipe':\n        return 'Công thức';\n      case 'comment':\n        return 'Bình luận';\n      case 'user':\n        return 'Người dùng';\n      default:\n        return 'Khác';\n    }\n  };\n\n  // Lấy biểu tượng cho loại báo cáo\n  const getReportIcon = type => {\n    switch (type) {\n      case 'recipe':\n        return 'fas fa-utensils';\n      case 'comment':\n        return 'fas fa-comment';\n      case 'user':\n        return 'fas fa-user';\n      default:\n        return 'fas fa-flag';\n    }\n  };\n\n  // Định dạng thời gian\n  const formatDateTime = dateString => {\n    return new Date(dateString).toLocaleString('vi-VN', {\n      year: 'numeric',\n      month: 'numeric',\n      day: 'numeric',\n      hour: '2-digit',\n      minute: '2-digit'\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-reports\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-page-header\",\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Qu\\u1EA3n l\\xFD b\\xE1o c\\xE1o\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filter-bar\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"filter-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Lo\\u1EA1i:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterType,\n            onChange: e => {\n              setFilterType(e.target.value);\n              setCurrentPage(1);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"T\\u1EA5t c\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"recipe\",\n              children: \"C\\xF4ng th\\u1EE9c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"comment\",\n              children: \"B\\xECnh lu\\u1EADn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"user\",\n              children: \"Ng\\u01B0\\u1EDDi d\\xF9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Tr\\u1EA1ng th\\xE1i:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: filterStatus,\n            onChange: e => {\n              setFilterStatus(e.target.value);\n              setCurrentPage(1);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"all\",\n              children: \"T\\u1EA5t c\\u1EA3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"pending\",\n              children: \"Ch\\u01B0a x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"resolved\",\n              children: \"\\u0110\\xE3 gi\\u1EA3i quy\\u1EBFt\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 225,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"rejected\",\n              children: \"\\u0110\\xE3 b\\xE1c b\\u1ECF\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"admin-search\",\n        onSubmit: handleSearch,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"T\\xECm ki\\u1EBFm b\\xE1o c\\xE1o...\",\n          value: searchQuery,\n          onChange: e => setSearchQuery(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: /*#__PURE__*/_jsxDEV(\"i\", {\n            className: \"fas fa-search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-error-message\",\n      children: [/*#__PURE__*/_jsxDEV(\"i\", {\n        className: \"fas fa-exclamation-triangle\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 246,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 247,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setError(null),\n        children: /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-times\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 245,\n      columnNumber: 9\n    }, this), loading && reports.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-loading\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0110ang t\\u1EA3i danh s\\xE1ch b\\xE1o c\\xE1o...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-table-responsive\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"admin-table reports-table\",\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"ID\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Lo\\u1EA1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"N\\u1ED9i dung b\\xE1o c\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Th\\u1EDDi gian\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Ng\\u01B0\\u1EDDi b\\xE1o c\\xE1o\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"Thao t\\xE1c\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 263,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: reports.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              colSpan: \"7\",\n              className: \"no-data\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"far fa-flag\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Kh\\xF4ng c\\xF3 b\\xE1o c\\xE1o n\\xE0o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 278,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 17\n          }, this) : reports.map(report => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              children: report.id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `resource-type ${report.resource_type}`,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: getReportIcon(report.resource_type)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 287,\n                  columnNumber: 25\n                }, this), getResourceTypeLabel(report.resource_type)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"report-content\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `report-reason ${report.reason}`,\n                  children: report.reason\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 293,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"report-summary\",\n                  children: [report.details.substring(0, 50), \"...\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 294,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 292,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: formatDateTime(report.created_at)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reporter-info\",\n                children: [report.reporter_picture ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: `http://localhost:5000${report.reporter_picture}`,\n                  alt: report.reporter_name,\n                  className: \"reporter-avatar\",\n                  onError: e => {\n                    e.target.onerror = null;\n                    e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(report.reporter_name)}&background=random`;\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 301,\n                  columnNumber: 27\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"avatar-placeholder\",\n                  children: report.reporter_name[0]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 311,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: report.reporter_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 299,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `status-badge ${report.status}`,\n                children: report.status === 'pending' ? 'Chưa xử lý' : report.status === 'resolved' ? 'Đã giải quyết' : 'Đã bác bỏ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"btn-view\",\n                onClick: () => handleViewReport(report),\n                children: /*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fas fa-eye\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 330,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 23\n              }, this), report.status === 'pending' && /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-resolve\",\n                  onClick: () => handleViewReport(report),\n                  title: \"Gi\\u1EA3i quy\\u1EBFt\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-check\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 340,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 335,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"btn-reject\",\n                  onClick: () => handleViewReport(report),\n                  title: \"T\\u1EEB ch\\u1ED1i\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fas fa-times\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 29\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 325,\n              columnNumber: 21\n            }, this)]\n          }, report.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 9\n    }, this), reports.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-pagination\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-prev\",\n        onClick: () => handlePageChange(currentPage - 1),\n        disabled: currentPage === 1,\n        children: [/*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-chevron-left\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 13\n        }, this), \" Tr\\u01B0\\u1EDBc\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 363,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"pagination-info\",\n        children: [\"Trang \", currentPage, \" / \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 371,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn-next\",\n        onClick: () => handlePageChange(currentPage + 1),\n        disabled: currentPage === totalPages,\n        children: [\"Sau \", /*#__PURE__*/_jsxDEV(\"i\", {\n          className: \"fas fa-chevron-right\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 362,\n      columnNumber: 9\n    }, this), showModal && selectedReport && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"admin-modal report-detail-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Chi ti\\u1EBFt b\\xE1o c\\xE1o #\", selectedReport.id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: () => setShowModal(false),\n            children: /*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fas fa-times\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 392,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-status\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `status-badge ${selectedReport.status}`,\n              children: selectedReport.status === 'pending' ? 'Chưa xử lý' : selectedReport.status === 'resolved' ? 'Đã giải quyết' : 'Đã bác bỏ'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-meta\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-user\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Ng\\u01B0\\u1EDDi b\\xE1o c\\xE1o: \", selectedReport.reporter_name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-calendar-alt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 411,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"Ng\\xE0y b\\xE1o c\\xE1o: \", new Date(selectedReport.created_at).toLocaleDateString('vi-VN')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"meta-item\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-exclamation-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: [\"L\\xFD do: \", selectedReport.reason]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 416,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Chi ti\\u1EBFt b\\xE1o c\\xE1o:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-full-details\",\n            children: selectedReport.details\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"N\\u1ED9i dung b\\u1ECB b\\xE1o c\\xE1o:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"reported-content\",\n            children: [selectedReport.report_type === 'user' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reported-user\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reported-user-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: selectedReport.reported_user_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: selectedReport.reported_user_email\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: `/admin/users?id=${selectedReport.reported_user_id}`,\n                  className: \"view-more\",\n                  children: \"Xem th\\xF4ng tin ng\\u01B0\\u1EDDi d\\xF9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 429,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 19\n            }, this), selectedReport.report_type === 'recipe' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reported-recipe\",\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: selectedReport.reported_recipe_image ? `http://localhost:5000${selectedReport.reported_recipe_image}` : 'https://via.placeholder.com/100?text=No+Image',\n                alt: selectedReport.reported_recipe_title,\n                className: \"recipe-image-medium\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"reported-recipe-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                  children: selectedReport.reported_recipe_title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 447,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"T\\xE1c gi\\u1EA3: \", selectedReport.reported_recipe_author]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: `/admin/recipes?id=${selectedReport.reported_recipe_id}`,\n                  className: \"view-more\",\n                  children: \"Xem chi ti\\u1EBFt c\\xF4ng th\\u1EE9c\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 19\n            }, this), selectedReport.report_type === 'comment' && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"reported-comment\",\n              children: [/*#__PURE__*/_jsxDEV(\"blockquote\", {\n                children: [\"\\\"\", selectedReport.reported_comment_content, \"\\\"\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 458,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"B\\u1EDFi: \", selectedReport.reported_comment_author]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: `/recipe/${selectedReport.reported_recipe_id}?comment=${selectedReport.reported_comment_id}`,\n                target: \"_blank\",\n                rel: \"noreferrer\",\n                className: \"view-more\",\n                children: \"Xem b\\xECnh lu\\u1EADn trong c\\xF4ng th\\u1EE9c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 457,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 15\n          }, this), selectedReport.status === 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-reject\",\n              onClick: () => handleRejectReport(selectedReport.id),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-times\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 470,\n                columnNumber: 21\n              }, this), \" B\\xE1c b\\u1ECF b\\xE1o c\\xE1o\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn-approve\",\n              onClick: () => handleResolveReport(selectedReport.id),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fas fa-check\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), \" Gi\\u1EA3i quy\\u1EBFt\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 17\n          }, this), selectedReport.status !== 'pending' && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"report-resolution\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              children: \"Tr\\u1EA1ng th\\xE1i x\\u1EED l\\xFD\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `resolution-status ${selectedReport.status}`,\n              children: selectedReport.status === 'resolved' ? 'Báo cáo này đã được giải quyết.' : 'Báo cáo này đã bị bác bỏ.'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 481,\n              columnNumber: 19\n            }, this), selectedReport.resolved_by && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"resolved-by\",\n              children: [\"X\\u1EED l\\xFD b\\u1EDFi: \", selectedReport.resolved_by, \" v\\xE0o \", new Date(selectedReport.resolved_at).toLocaleDateString('vi-VN')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 479,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 197,\n    columnNumber: 5\n  }, this);\n};\n_s(AdminReportsPage, \"FQg8RyyV9EV6Df2zpmyIPJc5PWc=\");\n_c = AdminReportsPage;\nexport default AdminReportsPage;\nvar _c;\n$RefreshReg$(_c, \"AdminReportsPage\");","map":{"version":3,"names":["React","useState","useEffect","Link","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminReportsPage","_s","reports","setReports","loading","setLoading","error","setError","currentPage","setCurrentPage","totalPages","setTotalPages","filterType","setFilterType","filterStatus","setFilterStatus","searchQuery","setSearchQuery","selectedReport","setSelectedReport","showModal","setShowModal","actionNote","setActionNote","processingAction","setProcessingAction","fetchReports","page","_data$pagination","token","localStorage","getItem","Error","params","URLSearchParams","append","response","fetch","toString","headers","ok","data","json","pagination","err","console","message","handleSearch","e","preventDefault","handlePageChange","newPage","handleViewReport","report","handleResolveReport","reportId","action","blockDuration","payload","note","method","body","JSON","stringify","updatedReport","map","id","status","alert","handleRejectReport","getResourceTypeLabel","type","getReportIcon","formatDateTime","dateString","Date","toLocaleString","year","month","day","hour","minute","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","target","onSubmit","placeholder","onClick","length","colSpan","resource_type","reason","details","substring","created_at","reporter_picture","src","alt","reporter_name","onError","onerror","encodeURIComponent","title","disabled","toLocaleDateString","report_type","reported_user_name","reported_user_email","href","reported_user_id","reported_recipe_image","reported_recipe_title","reported_recipe_author","reported_recipe_id","reported_comment_content","reported_comment_author","reported_comment_id","rel","resolved_by","resolved_at","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/pages/admin/AdminReportsPage.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport './AdminReportsPage.css';\r\n\r\nconst AdminReportsPage = () => {\r\n  const [reports, setReports] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [filterType, setFilterType] = useState('all');\r\n  const [filterStatus, setFilterStatus] = useState('pending');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [selectedReport, setSelectedReport] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [actionNote, setActionNote] = useState('');\r\n  const [processingAction, setProcessingAction] = useState(false);\r\n  \r\n  // Tải danh sách báo cáo\r\n  useEffect(() => {\r\n    fetchReports(currentPage);\r\n  }, [currentPage, filterType, filterStatus]);\r\n  \r\n  const fetchReports = async (page) => {\r\n    try {\r\n      setLoading(true);\r\n      setError(null);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      if (!token) {\r\n        throw new Error('Bạn cần đăng nhập để truy cập trang này');\r\n      }\r\n      \r\n      // Tạo parameters cho request\r\n      const params = new URLSearchParams();\r\n      params.append('page', page);\r\n      if (searchQuery) params.append('search', searchQuery);\r\n      if (filterStatus !== 'all') params.append('status', filterStatus);\r\n      if (filterType !== 'all') params.append('type', filterType);\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/admin/reports?${params.toString()}`, {\r\n        headers: { 'Authorization': `Bearer ${token}` }\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Không thể tải danh sách báo cáo');\r\n      }\r\n      \r\n      const data = await response.json();\r\n      setReports(data.data || []);\r\n      setTotalPages(data.pagination?.totalPages || 1);\r\n      setCurrentPage(page);\r\n      \r\n    } catch (err) {\r\n      console.error('Error fetching reports:', err);\r\n      setError(err.message);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Xử lý tìm kiếm\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setCurrentPage(1);\r\n    fetchReports(1);\r\n  };\r\n  \r\n  // Xử lý chuyển trang\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage < 1 || newPage > totalPages) return;\r\n    setCurrentPage(newPage);\r\n  };\r\n  \r\n  // Hiển thị chi tiết báo cáo\r\n  const handleViewReport = (report) => {\r\n    setSelectedReport(report);\r\n    setShowModal(true);\r\n    setActionNote('');\r\n  };\r\n  \r\n  // Xử lý giải quyết báo cáo\r\n  const handleResolveReport = async (reportId, action, blockDuration = null) => {\r\n    try {\r\n      setProcessingAction(true);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      const payload = { \r\n        action,\r\n        note: actionNote,\r\n        blockDuration\r\n      };\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/admin/reports/${reportId}/resolve`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Không thể xử lý báo cáo');\r\n      }\r\n      \r\n      // Cập nhật danh sách báo cáo\r\n      const updatedReport = await response.json();\r\n      \r\n      setReports(reports.map(report => \r\n        report.id === reportId ? { ...report, status: 'resolved' } : report\r\n      ));\r\n      \r\n      // Đóng modal và làm mới\r\n      setShowModal(false);\r\n      fetchReports(currentPage);\r\n      \r\n    } catch (err) {\r\n      console.error('Error resolving report:', err);\r\n      alert(`Lỗi: ${err.message}`);\r\n    } finally {\r\n      setProcessingAction(false);\r\n    }\r\n  };\r\n  \r\n  // Xử lý từ chối báo cáo\r\n  const handleRejectReport = async (reportId) => {\r\n    try {\r\n      setProcessingAction(true);\r\n      \r\n      const token = localStorage.getItem('token');\r\n      const payload = { \r\n        note: actionNote\r\n      };\r\n      \r\n      const response = await fetch(`http://localhost:5000/api/admin/reports/${reportId}/reject`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`,\r\n          'Content-Type': 'application/json'\r\n        },\r\n        body: JSON.stringify(payload)\r\n      });\r\n      \r\n      if (!response.ok) {\r\n        throw new Error('Không thể từ chối báo cáo');\r\n      }\r\n      \r\n      // Cập nhật danh sách báo cáo\r\n      setReports(reports.map(report => \r\n        report.id === reportId ? { ...report, status: 'rejected' } : report\r\n      ));\r\n      \r\n      // Đóng modal\r\n      setShowModal(false);\r\n      \r\n    } catch (err) {\r\n      console.error('Error rejecting report:', err);\r\n      alert(`Lỗi: ${err.message}`);\r\n    } finally {\r\n      setProcessingAction(false);\r\n    }\r\n  };\r\n  \r\n  // Lấy nội dung hiển thị cho resource_type\r\n  const getResourceTypeLabel = (type) => {\r\n    switch (type) {\r\n      case 'recipe': return 'Công thức';\r\n      case 'comment': return 'Bình luận';\r\n      case 'user': return 'Người dùng';\r\n      default: return 'Khác';\r\n    }\r\n  };\r\n  \r\n  // Lấy biểu tượng cho loại báo cáo\r\n  const getReportIcon = (type) => {\r\n    switch (type) {\r\n      case 'recipe': return 'fas fa-utensils';\r\n      case 'comment': return 'fas fa-comment';\r\n      case 'user': return 'fas fa-user';\r\n      default: return 'fas fa-flag';\r\n    }\r\n  };\r\n  \r\n  // Định dạng thời gian\r\n  const formatDateTime = (dateString) => {\r\n    return new Date(dateString).toLocaleString('vi-VN', {\r\n      year: 'numeric',\r\n      month: 'numeric',\r\n      day: 'numeric',\r\n      hour: '2-digit',\r\n      minute: '2-digit'\r\n    });\r\n  };\r\n  \r\n  return (\r\n    <div className=\"admin-reports\">\r\n      <div className=\"admin-page-header\">\r\n        <h1>Quản lý báo cáo</h1>\r\n      </div>\r\n      \r\n      <div className=\"filter-bar\">\r\n        <div className=\"filter-group\">\r\n          <div className=\"filter-item\">\r\n            <label>Loại:</label>\r\n            <select value={filterType} onChange={(e) => {\r\n              setFilterType(e.target.value);\r\n              setCurrentPage(1);\r\n            }}>\r\n              <option value=\"all\">Tất cả</option>\r\n              <option value=\"recipe\">Công thức</option>\r\n              <option value=\"comment\">Bình luận</option>\r\n              <option value=\"user\">Người dùng</option>\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"filter-item\">\r\n            <label>Trạng thái:</label>\r\n            <select value={filterStatus} onChange={(e) => {\r\n              setFilterStatus(e.target.value);\r\n              setCurrentPage(1);\r\n            }}>\r\n              <option value=\"all\">Tất cả</option>\r\n              <option value=\"pending\">Chưa xử lý</option>\r\n              <option value=\"resolved\">Đã giải quyết</option>\r\n              <option value=\"rejected\">Đã bác bỏ</option>\r\n            </select>\r\n          </div>\r\n        </div>\r\n        \r\n        <form className=\"admin-search\" onSubmit={handleSearch}>\r\n          <input \r\n            type=\"text\" \r\n            placeholder=\"Tìm kiếm báo cáo...\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n          <button type=\"submit\">\r\n            <i className=\"fas fa-search\"></i>\r\n          </button>\r\n        </form>\r\n      </div>\r\n      \r\n      {error && (\r\n        <div className=\"admin-error-message\">\r\n          <i className=\"fas fa-exclamation-triangle\"></i>\r\n          <span>{error}</span>\r\n          <button onClick={() => setError(null)}>\r\n            <i className=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      {loading && reports.length === 0 ? (\r\n        <div className=\"admin-loading\">\r\n          <div className=\"spinner\"></div>\r\n          <p>Đang tải danh sách báo cáo...</p>\r\n        </div>\r\n      ) : (\r\n        <div className=\"admin-table-responsive\">\r\n          <table className=\"admin-table reports-table\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Loại</th>\r\n                <th>Nội dung báo cáo</th>\r\n                <th>Thời gian</th>\r\n                <th>Người báo cáo</th>\r\n                <th>Trạng thái</th>\r\n                <th>Thao tác</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {reports.length === 0 ? (\r\n                <tr>\r\n                  <td colSpan=\"7\" className=\"no-data\">\r\n                    <i className=\"far fa-flag\"></i>\r\n                    <p>Không có báo cáo nào</p>\r\n                  </td>\r\n                </tr>\r\n              ) : (\r\n                reports.map(report => (\r\n                  <tr key={report.id}>\r\n                    <td>{report.id}</td>\r\n                    <td>\r\n                      <span className={`resource-type ${report.resource_type}`}>\r\n                        <i className={getReportIcon(report.resource_type)}></i>\r\n                        {getResourceTypeLabel(report.resource_type)}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <div className=\"report-content\">\r\n                        <span className={`report-reason ${report.reason}`}>{report.reason}</span>\r\n                        <p className=\"report-summary\">{report.details.substring(0, 50)}...</p>\r\n                      </div>\r\n                    </td>\r\n                    <td>{formatDateTime(report.created_at)}</td>\r\n                    <td>\r\n                      <div className=\"reporter-info\">\r\n                        {report.reporter_picture ? (\r\n                          <img \r\n                            src={`http://localhost:5000${report.reporter_picture}`}\r\n                            alt={report.reporter_name}\r\n                            className=\"reporter-avatar\"\r\n                            onError={(e) => {\r\n                              e.target.onerror = null;\r\n                              e.target.src = `https://ui-avatars.com/api/?name=${encodeURIComponent(report.reporter_name)}&background=random`;\r\n                            }}\r\n                          />\r\n                        ) : (\r\n                          <div className=\"avatar-placeholder\">\r\n                            {report.reporter_name[0]}\r\n                          </div>\r\n                        )}\r\n                        <span>{report.reporter_name}</span>\r\n                      </div>\r\n                    </td>\r\n                    <td>\r\n                      <span className={`status-badge ${report.status}`}>\r\n                        {report.status === 'pending' ? 'Chưa xử lý' : \r\n                         report.status === 'resolved' ? 'Đã giải quyết' : \r\n                         'Đã bác bỏ'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"actions\">\r\n                      <button \r\n                        className=\"btn-view\" \r\n                        onClick={() => handleViewReport(report)}\r\n                      >\r\n                        <i className=\"fas fa-eye\"></i>\r\n                      </button>\r\n                      \r\n                      {report.status === 'pending' && (\r\n                        <>\r\n                          <button \r\n                            className=\"btn-resolve\" \r\n                            onClick={() => handleViewReport(report)}\r\n                            title=\"Giải quyết\"\r\n                          >\r\n                            <i className=\"fas fa-check\"></i>\r\n                          </button>\r\n                          <button \r\n                            className=\"btn-reject\" \r\n                            onClick={() => handleViewReport(report)}\r\n                            title=\"Từ chối\"\r\n                          >\r\n                            <i className=\"fas fa-times\"></i>\r\n                          </button>\r\n                        </>\r\n                      )}\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Pagination */}\r\n      {reports.length > 0 && (\r\n        <div className=\"admin-pagination\">\r\n          <button \r\n            className=\"btn-prev\"\r\n            onClick={() => handlePageChange(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n          >\r\n            <i className=\"fas fa-chevron-left\"></i> Trước\r\n          </button>\r\n          \r\n          <div className=\"pagination-info\">\r\n            Trang {currentPage} / {totalPages}\r\n          </div>\r\n          \r\n          <button \r\n            className=\"btn-next\"\r\n            onClick={() => handlePageChange(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n          >\r\n            Sau <i className=\"fas fa-chevron-right\"></i>\r\n          </button>\r\n        </div>\r\n      )}\r\n      \r\n      {/* Modal chi tiết báo cáo */}\r\n      {showModal && selectedReport && (\r\n        <div className=\"admin-modal-overlay\">\r\n          <div className=\"admin-modal report-detail-modal\">\r\n            <div className=\"modal-header\">\r\n              <h3>Chi tiết báo cáo #{selectedReport.id}</h3>\r\n              <button className=\"close-button\" onClick={() => setShowModal(false)}>\r\n                <i className=\"fas fa-times\"></i>\r\n              </button>\r\n            </div>\r\n            \r\n            <div className=\"modal-body\">\r\n              <div className=\"report-status\">\r\n                <span className={`status-badge ${selectedReport.status}`}>\r\n                  {selectedReport.status === 'pending' ? 'Chưa xử lý' : \r\n                   selectedReport.status === 'resolved' ? 'Đã giải quyết' : \r\n                   'Đã bác bỏ'}\r\n                </span>\r\n              </div>\r\n              \r\n              <div className=\"report-meta\">\r\n                <div className=\"meta-item\">\r\n                  <i className=\"fas fa-user\"></i>\r\n                  <span>Người báo cáo: {selectedReport.reporter_name}</span>\r\n                </div>\r\n                <div className=\"meta-item\">\r\n                  <i className=\"fas fa-calendar-alt\"></i>\r\n                  <span>Ngày báo cáo: {new Date(selectedReport.created_at).toLocaleDateString('vi-VN')}</span>\r\n                </div>\r\n                <div className=\"meta-item\">\r\n                  <i className=\"fas fa-exclamation-circle\"></i>\r\n                  <span>Lý do: {selectedReport.reason}</span>\r\n                </div>\r\n              </div>\r\n              \r\n              <h4>Chi tiết báo cáo:</h4>\r\n              <div className=\"report-full-details\">\r\n                {selectedReport.details}\r\n              </div>\r\n              \r\n              <h4>Nội dung bị báo cáo:</h4>\r\n              <div className=\"reported-content\">\r\n                {selectedReport.report_type === 'user' && (\r\n                  <div className=\"reported-user\">\r\n                    <div className=\"reported-user-info\">\r\n                      <h5>{selectedReport.reported_user_name}</h5>\r\n                      <p>{selectedReport.reported_user_email}</p>\r\n                      <a href={`/admin/users?id=${selectedReport.reported_user_id}`} className=\"view-more\">\r\n                        Xem thông tin người dùng\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {selectedReport.report_type === 'recipe' && (\r\n                  <div className=\"reported-recipe\">\r\n                    <img \r\n                      src={selectedReport.reported_recipe_image ? `http://localhost:5000${selectedReport.reported_recipe_image}` : 'https://via.placeholder.com/100?text=No+Image'}\r\n                      alt={selectedReport.reported_recipe_title}\r\n                      className=\"recipe-image-medium\"\r\n                    />\r\n                    <div className=\"reported-recipe-info\">\r\n                      <h5>{selectedReport.reported_recipe_title}</h5>\r\n                      <p>Tác giả: {selectedReport.reported_recipe_author}</p>\r\n                      <a href={`/admin/recipes?id=${selectedReport.reported_recipe_id}`} className=\"view-more\">\r\n                        Xem chi tiết công thức\r\n                      </a>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n                \r\n                {selectedReport.report_type === 'comment' && (\r\n                  <div className=\"reported-comment\">\r\n                    <blockquote>\"{selectedReport.reported_comment_content}\"</blockquote>\r\n                    <p>Bởi: {selectedReport.reported_comment_author}</p>\r\n                    <a href={`/recipe/${selectedReport.reported_recipe_id}?comment=${selectedReport.reported_comment_id}`} target=\"_blank\" rel=\"noreferrer\" className=\"view-more\">\r\n                      Xem bình luận trong công thức\r\n                    </a>\r\n                  </div>\r\n                )}\r\n              </div>\r\n              \r\n              {selectedReport.status === 'pending' && (\r\n                <div className=\"modal-actions\">\r\n                  <button className=\"btn-reject\" onClick={() => handleRejectReport(selectedReport.id)}>\r\n                    <i className=\"fas fa-times\"></i> Bác bỏ báo cáo\r\n                  </button>\r\n                  <button className=\"btn-approve\" onClick={() => handleResolveReport(selectedReport.id)}>\r\n                    <i className=\"fas fa-check\"></i> Giải quyết\r\n                  </button>\r\n                </div>\r\n              )}\r\n              \r\n              {selectedReport.status !== 'pending' && (\r\n                <div className=\"report-resolution\">\r\n                  <h4>Trạng thái xử lý</h4>\r\n                  <p className={`resolution-status ${selectedReport.status}`}>\r\n                    {selectedReport.status === 'resolved' ? 'Báo cáo này đã được giải quyết.' : 'Báo cáo này đã bị bác bỏ.'}\r\n                  </p>\r\n                  {selectedReport.resolved_by && (\r\n                    <p className=\"resolved-by\">\r\n                      Xử lý bởi: {selectedReport.resolved_by} vào {new Date(selectedReport.resolved_at).toLocaleDateString('vi-VN')}\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminReportsPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}