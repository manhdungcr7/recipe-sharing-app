{"ast":null,"code":"// Tạo file mới với các hàm tiện ích\n\n// Sinh màu ngẫu nhiên cho ảnh đại diện và ảnh công thức\nexport const getRandomColor = () => {\n  const colors = ['#FF6B6B', '#FF8E8E', '#FFA5A5', '#FFBDBD',\n  // Shades of red\n  '#4ECDC4', '#70DBCE', '#92E9D9', '#B4F7E4',\n  // Shades of teal\n  '#FFD166', '#FFD980', '#FFE199', '#FFEAB3',\n  // Shades of yellow\n  '#6B5B95', '#8675A9', '#A18FC0', '#BBA9D7',\n  // Shades of purple\n  '#88D8B0', '#A1E1C1', '#BBE9D3', '#D4F2E4',\n  // Shades of mint\n  '#F38181', '#F59E9E', '#F7BCBC', '#F9DADA' // Shades of salmon\n  ];\n  return colors[Math.floor(Math.random() * colors.length)];\n};\n\n// Hàm tạo ảnh đại diện từ tên người dùng\nexport const generateAvatarUrl = name => {\n  const initials = name.split(' ').map(word => word[0]).join('').toUpperCase().substring(0, 2);\n  const backgroundColor = encodeURIComponent('FF6B6B');\n  const textColor = encodeURIComponent('FFFFFF');\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${backgroundColor}&color=${textColor}&size=256&font-size=0.5&bold=true`;\n};\n\n/**\r\n * Hàm tạo URL hình ảnh đầy đủ cho công thức\r\n * @param {Object} recipe - Đối tượng công thức chứa image_url\r\n * @returns {string|null} - URL đầy đủ hoặc null nếu không có ảnh\r\n */\nexport const getRecipeImageUrl = recipe => {\n  // Log để debug\n  console.log(\"Recipe image processing:\", recipe === null || recipe === void 0 ? void 0 : recipe.title, recipe === null || recipe === void 0 ? void 0 : recipe.image_url);\n  if (!recipe || !recipe.image_url) {\n    console.log(\"No image URL found, returning null\");\n    return null;\n  }\n\n  // Nếu đã là URL đầy đủ\n  if (recipe.image_url.startsWith('http')) {\n    return recipe.image_url;\n  }\n\n  // Đảm bảo đường dẫn bắt đầu bằng dấu /\n  const imagePath = recipe.image_url.startsWith('/') ? recipe.image_url : `/${recipe.image_url}`;\n\n  // Trả về URL đầy đủ với server backend\n  const fullUrl = `http://localhost:5000${imagePath}`;\n  console.log(\"Generated full image URL:\", fullUrl);\n  return fullUrl;\n};\n\n/**\r\n * Hàm tạo placeholder image URL từ tên món ăn\r\n * @param {string} title - Tên món ăn\r\n * @returns {string} - URL của placeholder image\r\n */\nexport const getPlaceholderImageUrl = title => {\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(title || 'Recipe')}&background=FF9A8B&color=FFFFFF&size=256&font-size=0.33&bold=true`;\n};\n\n/**\r\n * Chỉ để tương thích với code cũ\r\n */\nexport const generateRecipeImageUrl = title => {\n  return getPlaceholderImageUrl(title);\n};\n\n// Các hàm khác giữ nguyên...","map":{"version":3,"names":["getRandomColor","colors","Math","floor","random","length","generateAvatarUrl","name","initials","split","map","word","join","toUpperCase","substring","backgroundColor","encodeURIComponent","textColor","getRecipeImageUrl","recipe","console","log","title","image_url","startsWith","imagePath","fullUrl","getPlaceholderImageUrl","generateRecipeImageUrl"],"sources":["C:/Users/Lenovo/Documents/web_SE/recipe-sharing-app/src/utils/imageUtils.js"],"sourcesContent":["// Tạo file mới với các hàm tiện ích\r\n\r\n// Sinh màu ngẫu nhiên cho ảnh đại diện và ảnh công thức\r\nexport const getRandomColor = () => {\r\n  const colors = [\r\n    '#FF6B6B', '#FF8E8E', '#FFA5A5', '#FFBDBD',  // Shades of red\r\n    '#4ECDC4', '#70DBCE', '#92E9D9', '#B4F7E4',  // Shades of teal\r\n    '#FFD166', '#FFD980', '#FFE199', '#FFEAB3',  // Shades of yellow\r\n    '#6B5B95', '#8675A9', '#A18FC0', '#BBA9D7',  // Shades of purple\r\n    '#88D8B0', '#A1E1C1', '#BBE9D3', '#D4F2E4',  // Shades of mint\r\n    '#F38181', '#F59E9E', '#F7BCBC', '#F9DADA',  // Shades of salmon\r\n  ];\r\n  \r\n  return colors[Math.floor(Math.random() * colors.length)];\r\n};\r\n\r\n// Hàm tạo ảnh đại diện từ tên người dùng\r\nexport const generateAvatarUrl = (name) => {\r\n  const initials = name\r\n    .split(' ')\r\n    .map(word => word[0])\r\n    .join('')\r\n    .toUpperCase()\r\n    .substring(0, 2);\r\n  \r\n  const backgroundColor = encodeURIComponent('FF6B6B');\r\n  const textColor = encodeURIComponent('FFFFFF');\r\n  \r\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(initials)}&background=${backgroundColor}&color=${textColor}&size=256&font-size=0.5&bold=true`;\r\n};\r\n\r\n/**\r\n * Hàm tạo URL hình ảnh đầy đủ cho công thức\r\n * @param {Object} recipe - Đối tượng công thức chứa image_url\r\n * @returns {string|null} - URL đầy đủ hoặc null nếu không có ảnh\r\n */\r\nexport const getRecipeImageUrl = (recipe) => {\r\n  // Log để debug\r\n  console.log(\"Recipe image processing:\", recipe?.title, recipe?.image_url);\r\n  \r\n  if (!recipe || !recipe.image_url) {\r\n    console.log(\"No image URL found, returning null\");\r\n    return null;\r\n  }\r\n  \r\n  // Nếu đã là URL đầy đủ\r\n  if (recipe.image_url.startsWith('http')) {\r\n    return recipe.image_url;\r\n  }\r\n  \r\n  // Đảm bảo đường dẫn bắt đầu bằng dấu /\r\n  const imagePath = recipe.image_url.startsWith('/') \r\n    ? recipe.image_url \r\n    : `/${recipe.image_url}`;\r\n  \r\n  // Trả về URL đầy đủ với server backend\r\n  const fullUrl = `http://localhost:5000${imagePath}`;\r\n  console.log(\"Generated full image URL:\", fullUrl);\r\n  return fullUrl;\r\n};\r\n\r\n/**\r\n * Hàm tạo placeholder image URL từ tên món ăn\r\n * @param {string} title - Tên món ăn\r\n * @returns {string} - URL của placeholder image\r\n */\r\nexport const getPlaceholderImageUrl = (title) => {\r\n  return `https://ui-avatars.com/api/?name=${encodeURIComponent(title || 'Recipe')}&background=FF9A8B&color=FFFFFF&size=256&font-size=0.33&bold=true`;\r\n};\r\n\r\n/**\r\n * Chỉ để tương thích với code cũ\r\n */\r\nexport const generateRecipeImageUrl = (title) => {\r\n  return getPlaceholderImageUrl(title);\r\n};\r\n\r\n// Các hàm khác giữ nguyên..."],"mappings":"AAAA;;AAEA;AACA,OAAO,MAAMA,cAAc,GAAGA,CAAA,KAAM;EAClC,MAAMC,MAAM,GAAG,CACb,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;EAAG;EAC7C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;EAAG;EAC7C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;EAAG;EAC7C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;EAAG;EAC7C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS;EAAG;EAC7C,SAAS,EAAE,SAAS,EAAE,SAAS,EAAE,SAAS,CAAG;EAAA,CAC9C;EAED,OAAOA,MAAM,CAACC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGH,MAAM,CAACI,MAAM,CAAC,CAAC;AAC1D,CAAC;;AAED;AACA,OAAO,MAAMC,iBAAiB,GAAIC,IAAI,IAAK;EACzC,MAAMC,QAAQ,GAAGD,IAAI,CAClBE,KAAK,CAAC,GAAG,CAAC,CACVC,GAAG,CAACC,IAAI,IAAIA,IAAI,CAAC,CAAC,CAAC,CAAC,CACpBC,IAAI,CAAC,EAAE,CAAC,CACRC,WAAW,CAAC,CAAC,CACbC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC;EAElB,MAAMC,eAAe,GAAGC,kBAAkB,CAAC,QAAQ,CAAC;EACpD,MAAMC,SAAS,GAAGD,kBAAkB,CAAC,QAAQ,CAAC;EAE9C,OAAO,oCAAoCA,kBAAkB,CAACR,QAAQ,CAAC,eAAeO,eAAe,UAAUE,SAAS,mCAAmC;AAC7J,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,iBAAiB,GAAIC,MAAM,IAAK;EAC3C;EACAC,OAAO,CAACC,GAAG,CAAC,0BAA0B,EAAEF,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEG,KAAK,EAAEH,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEI,SAAS,CAAC;EAEzE,IAAI,CAACJ,MAAM,IAAI,CAACA,MAAM,CAACI,SAAS,EAAE;IAChCH,OAAO,CAACC,GAAG,CAAC,oCAAoC,CAAC;IACjD,OAAO,IAAI;EACb;;EAEA;EACA,IAAIF,MAAM,CAACI,SAAS,CAACC,UAAU,CAAC,MAAM,CAAC,EAAE;IACvC,OAAOL,MAAM,CAACI,SAAS;EACzB;;EAEA;EACA,MAAME,SAAS,GAAGN,MAAM,CAACI,SAAS,CAACC,UAAU,CAAC,GAAG,CAAC,GAC9CL,MAAM,CAACI,SAAS,GAChB,IAAIJ,MAAM,CAACI,SAAS,EAAE;;EAE1B;EACA,MAAMG,OAAO,GAAG,wBAAwBD,SAAS,EAAE;EACnDL,OAAO,CAACC,GAAG,CAAC,2BAA2B,EAAEK,OAAO,CAAC;EACjD,OAAOA,OAAO;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA,OAAO,MAAMC,sBAAsB,GAAIL,KAAK,IAAK;EAC/C,OAAO,oCAAoCN,kBAAkB,CAACM,KAAK,IAAI,QAAQ,CAAC,mEAAmE;AACrJ,CAAC;;AAED;AACA;AACA;AACA,OAAO,MAAMM,sBAAsB,GAAIN,KAAK,IAAK;EAC/C,OAAOK,sBAAsB,CAACL,KAAK,CAAC;AACtC,CAAC;;AAED","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}